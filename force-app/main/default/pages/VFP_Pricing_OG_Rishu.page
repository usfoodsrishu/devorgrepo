<!-- Name: VFP_Pricing_OG ->
<!--Author:Accenture IDC Team-->
<!--Date Created:21/07/2016-->
<!--Description: This page is used to Order Guide Products page in which Opportunity Products are also included
i.   In this page User can add/remove Products by clicking on the Products icon in first column.
ii:  Update Product CPR button is used to update CPR for selected product.
iii: Learn More icon is to specify icons details.
iv:  Reviewed/Unreviewed Products are differentiated with white/LightBlue colors.
* 13 June 2017    Nitin Goyal(Appirio)  removed extra scroll bars on body and adjusted Font size for LearnMore Modal
* 26 Sep  2017    Aman Dua(Appirio)     Fixed resolution checks for Console App view as per SFS-1790
* 22 Nov  2017    Deepanshu(Appirio)    Code added to display the green tick SSCD-207
* 26 Nov  2017    Deepanshu(Appirio)    Code added to display the % products SSCD-208
* 21 Dec  2017    Aman Dua(Appirio)     Updated for SSCD-290
* 09 Jan  2018    Nitin Goyal(Appirio)  Fixed CSS issues for iPad Landscape mode
* 16 Jan 2018     Deepanshu Soni(Appirio) Code added for SSCD-97, SSCD-101
* 07 May 2018     Aman Dua(Appirio)     Updated for SSDPI-199
* 08 May 2018     Aman Dua(Appirio)     Updated for SSDPI-199
* 09 May 2018     Aman Dua(Appirio)     Updated for CSS fix
* 16 May 2018     Aman Dua(Appirio)     Updated for SSCD-1090
* 22 May 2018     Aman Dua(Appirio)     Updated for SSCD-1207
* 24 May 2018     Aman Dua(Appirio)     Updated for SSCD-1238/1239
* 25 May 2018     Aman Dua(Appirio)     Updated for SSCD-1246
* 25 May 2018     Keith Ransom(Appirio) Updated for SSCD-221
Oct 16th 2018 sowmya madarapu updated for SSDR23-541
-->
<apex:page controller="VFC_PricingEnquiry" extensions="CustomerMetricDataHandler" sidebar="false" id="pricingEnquiry_Page" showHeader="true" docType="html-5.0" tabStyle="Maintenance__tab" standardStylesheets="true">
    <!-- <apex:messages> Rishu testing git int test -->
        <!-- <apex:messages> Rishu testing git int test -->
            <!-- <apex:messages> Rishu testing git changes from repo  kjcbjska  -->
    <apex:messages style="color:orange" />
    <br/>

    <head>
        <script>
            if ('{!!externalUser}') { 
                (function(i, s, o, g, r, a, m) {
                    i['GoogleAnalyticsObject'] = r;
                    i[r] = i[r] || function() {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
                    a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                    a.async = 1;
                    a.src = g;
                    m.parentNode.insertBefore(a, m)
                })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

                ga('create', '{!googleAnalyticsId}', 'auto');
                ga('set', 'dataSource', 'crm');
                ga('set', 'location', '/VFP_Pricing_OG');
                ga('set', 'title', 'Pricing OG');
                ga('set', 'dimension1', '{!objUserProfName.UserRole.Name}'.substring(0, 4));
                ga('send', 'pageview');
            }
        </script>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <apex:stylesheet value="{!URLFOR($Resource.sf1bootstrap, '/bootstrap-sf1-0.1.0-beta.5/dist/css/bootstrap-namespaced.min.css')}" />
        <apex:includeScript value="{!URLFOR($Resource.USfoodsUI, '/USfoodsUI/js/jquery-1.10.2.min.js')}" />
        <apex:includeScript value="{!URLFOR($Resource.USfoodsUI, '/USfoodsUI/js/bootstrap.min.js')}" />
        <apex:includeScript value="{!URLFOR($Resource.PricingUI, '/PricingUI/bootstrap-select.js')}" />
        <apex:stylesheet value="{!URLFOR($Resource.PricingUI, '/PricingUI/PricingRequirement.css')}" />
        <apex:stylesheet value="{!URLFOR($Resource.PricingUI, '/PricingUI/bootstrap-select.css')}" />
        <script src="Scripts/bootstrap.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <!-- All CSS Styles classes -->
        <style type="text/css">

            .cls_TD_LrnMr {
                width: 254% !important;
                border-top: 1px solid #AAA !important;
                padding: 0px !important;
            }

            .cls_Prd_Details {
                width: 50% !important;
            }

            th {
                background-color: #F0F1F2;
            } 

            .col-md-12.col-sm-12.font21NB {
                color: #CF4520;
                font-size: 21px;
                font-family: Arial;
                margin-top: 2%;
                /*   margin-left: 4%;  */
                font-weight: bold;
                padding-left: 0 !important;
            }

            .font13NBWhite {
                font-size: 13px;
                color: #ffffff !important;
                font-family: HelveticaNeue-Bold !important;
            }

            .font13NWhite {
                font-size: 13px;
                color: #ffffff !important;
                font-family: HelveticaNeue !important;
            }

            .font12NLH16 {
                font-size: 12px;
                color: #3b3b3b !important;
                font-family: Arial !important;
                line-height: 16px;
            }

            font12NLH16Green {
                font-family: Arial !important;
            }

            .font13NR3b {
                font-size: 13px;
                color: #3b3b3b !important;
                font-family: HelveticaNeue-Arial !important;
            }

            .font13NR83 {
                font-size: 13px;
                color: #838383 !important;
                font-family: HelveticaNeue-Arial !important;
            }

            .font11NCB {
                font-size: 13px;
                color: #5C8727 !important;
                font-weight: bold;
                font-family: Arial !important;
            }

            .font13NCBWhite {
                font-size: 13px;
                color: #ffffff !important;
                font-family: HelveticaNeue-CondensedBold !important;
            }

            .font12NCB {
                font-size: 13px;
                font-weight: bold;
                color: #3b3b3b !important;
                font-family: Arial !important;
            }

            .font21NCB {
                font-size: 18px;
                color: #3b3b3b !important;
                font-family: Arial !important;
                font-weight: bold;
            }

            .font48NCB {
                font-size: 48px;
                color: #CF4520 !important;
                font-family: Arial !important;
                font-weight: bold !important;
            }

            .font18NCB {
                font-weight: bold;
                /*  height: 23px;  */
                float: right;
            }

            .font18CB {
                font-size: 18px;
                font-family: HelveticaNeueBold !important;
                font-color: #828282 !important;
            }

            .font13NBC3b {
                font-family: HelveticaNeueBlackCondensed !important;
                font-size: 13px;
                color: #3b3b3b !important;
                line-height: 16px;
            }

            .whiteBck {
                background-color: #ffffff !important;
            }

            .silverBck {
                background-color: #f3f1f0 !important;
            }

            .lightGrayBck {
                background: #d8d8d8 !important;
            }

            .dullGrayBck {
                background-color: #f3f1f0 !important;
            }

            .oliveGreenBck {
                background-color: #B0BC22 !important;
            }

            .bottleGreenBck {
                background-color: #5C8727 !important;
            }

            .transparentBck {
                background-color: transparent !important;
            }

            .smokeGrayClr {
                color: #3b3b3b !important;
            }

            div.dropdown-menu>ul.dropdown-menu>li.selected {
                background-color: red !important;
            }

            .row1-3 select,
            .row1-3home select {
                background: #FFF;
                font-size: 12px;
                font-family: 'Open Sans', sans-serif;
                width: 94%;
                margin-left: 3%;
                margin-right: 3%;
                height: 40px;
                line-height: 40px;
                border: none;
                padding-left: 10px;
                border-radius: none;
                margin-bottom: 5px;
                -moz-appearance: none;
            }

            .row1-3 select option,
            .row1-3home select option {
                color: #01afd2;
            }

            .row1-3 select option:not(:checked),
            .row1-3home select option:not(:checked) {
                color: #9fa7b4;
            }

            div.dropdown-menu li:hover span:hover {
                display: inline-block;
                background-color: #228B22;
                /*width: 100%;*/
                color: #FFF;
            }

            .bootstrap .panel-default {
                border: 2px solid #c2c2c2;
            }

            /*.whiteBck.bootstrap.row h5 {
                position: absolute;
                top: 113px;
                right: 20px;
                }*/

            .whiteBck.bootstrap.col-md-1.product-count {
                padding: 25px 0px;
            }

            .bootstrap .table-bordered,
            .bootstrap .table-bordered>tbody>tr>td,
            .bootstrap .table-bordered>tbody>tr>th,
            .bootstrap .table-bordered>tfoot>tr>td,
            .bootstrap .table-bordered>tfoot>tr>th,
            .bootstrap .table-bordered>thead>tr>td,
            .bootstrap .table-bordered>thead>tr>th {
                border: 1px dotted #AAA;
                border-bottom: 1px solid #AAA;
                padding-top: 0;
                padding-bottom: 0;
            }

            .bgcolor {
                background: #FFF !important;
            }

            .fontprdwl {
                font-weight: bold;
                font-size: 130%;
                font-weight: 900;
                margin-top: 28px;
            }

            * {
                border-radius: 0 !important;
            }

            .bootstrap.col-md-4.col-sm-4.pricing_section-right {
                border: 1px solid #AAA;
                background-color: #f0f1f2;
                /*width: 39% !important;*/   /*Updated by ADUA for CSS-Improvisation*/
                /*     height:600px;  */
                margin-top: 7px;
                padding: 0;
                float: right;
            }

            .font_pricing {
                font-size: 16px;
                font-weight: bold;
                font-family: HelveticaNeue;
            }

            h5.font13NA {
                font-size: 13px;
                font-family: arial narrow;
                float: right;
            }

            .selected {
                background-color: #ffffff;
            }

            .unreviewed {
                background-color: #e5eef2;
            }

            .reviewed {
                background-color: #FFFFFF;
            }

            span#spBar {
                padding-right: 6px;
                padding-left: 6px;
            }

            span#spWWP {
                padding-right: 6px;
            }

            .rowstyleTable {
                background-color: #F0F1F2;
                border: none
            }

            div#divAccName {
                color: #000000;
                margin-left: 0%;
                width: 200%;
                font-size: large;
                line-height: 45px;
                font-weight: 600;
                /*padding-top: 21%;*/
            }

            tr#idHeadrName {
                border: hidden;
                border-bottom: 2px solid #CFD0D2;
            }

            th#divHeaderRow {
                padding-top: 3%;
                text-align: center;
                border: 1px solid #AAA;
            }

            .bootstrap select,
            .bootstrap textarea {
                color: white;
            }

            option {
                background-color: white;
                color: black;
            }

            tr#noPrdsId {
                border: 1px solid #AAA; //  border-left: hidden;
                //  border-right: hidden;
                font-weight: 700;
                font-stretch: expanded;
                font-size: larger;
            }

            tbody#tblProducts {
                border: 1px solid #AAA;
                border-top: hidden;
            }

            tr#noProductsId {
                border-bottom: 2px solid #CFD0D2;
            }

            th#idHeaderRow {
                text-align: center;
                padding: 1% 0% 0% 0%;
                COLOR: #3B3B3B;
                font-size: 13px;
                font-family: Arial;
            }

            div#divPosCust {
                padding: 0em 5em 0em 0em;
                /*  margin: 0% 0% -2% -5%; */
                font-size: 18PX;
                font-weight: bold;
                color: #3B3B3B;
                font-family: Arial;
                margin-left: -1%;
            }

            #load {
                /*   margin: 25.5%; 
                margin-left: 0%; 
                padding-top: 50%;  */
                margin-left: -0.75%;
                margin-top: 3%;
                width: 100%;
                background-color: #FFF !important;
                height: 100%;
                position: absolute;
                z-index: 9999;
                background: url("{!$Resource.Product_Search_Image}") no-repeat center center rgba(0, 0, 0, 0);
            }

            #load1 {
                margin: 15.5%;
                margin-left: 0%;
                padding-top: 50%;
                width: 100%;
                height: 75%;
                position: absolute;
                z-index: 9999;
                background: url("{!$Resource.Product_Search_Image}") no-repeat center center rgba(0,
                0,
                0,
                0);
            }

            div#idInfo {
                text-align: center;
                margin-top: 13%;
                font-weight: bold;
            }

            div#idInfo1 {
                text-align: center;
                margin-top: -15%;
                font-weight: bold;
            }

            /* Starting CSS Styles*/

            tr#noPrdsIdGrpFilter {
                border: 1px solid #AAA;
                border-left: hidden;
                border-right: hidden;
            }

            .grpHeaderNames {
                margin-top: 1%;
                width: 100% !important;
                background-color: transparent;
                padding-left: 0;
            }

            div#idNoOfPrdsToDisplay {
                border: 1px solid red;
                background-color: red;
                https: //usfoods--dev.cs43.my.salesforce.com/_ui/common/apex/debug/ApexCSIPage#color: #FFFFFF;
            }

            .idErrValue {
                color: white;
                background-color: #FF0000;
                border: 1px solid white;
                font-size: 13px;
                font-weight: bold;
                font-family: Arial;
                padding: 10px;
            }

            .idInformValue {
                color: white;
                background-color: #005581 !important;
                border: 1px solid white;
                font-size: 13px;
                font-weight: bold;
                font-family: Arial;
                padding: 10px;
            }

            /* Ending CSS Styles*/

            tr#noErrorRow {
                background-color: #FFF2D4;
            }

            .clsSpan {
                color: red;
                position: absolute;
                float: left;
                right: 0;
                margin-right: 30px;
            }

            .imgWrap {
                position: relative;
            }

            .imgDescription {
                position: absolute;
                width: 100px;
                z-index: 1;
                top: 87%;
                left: 0%;
                margin-left: -60px;
                background: rgba(29, 106, 154, 0.72);
                color: #fff;
                visibility: hidden;

                /*remove comment if you want a gradual transition between states
                -webkit-transition: visibility opacity 0.2s;
                */
            }

            .imgWrap:hover .imgDescription {
                visibility: visible;
            }

            a#idViewMorPrds {
                text-decoration: none;
                color: gray;
                font-size: 13px;
                font-family: Arial;
            }

            a#idViewMorPrds.viewMorDisabled {
                color: gray !important;
            }

            a#idViewMorPrds.viewMoreEnabled {
                color: #56821F !important;
            }
        </style>
        <!-- All CSS Styles classes  Ended-->
        <!-- Script started-->
        <script>
            Visualforce.remoting.timeout = 120000; // Set timeout at page level
            var defaultErrorMessage = 'An error occurred.  Please try again later or call support at (888) 648-2580. ';
            var noPIMErrorMessage = 'No PIM data is available for the following products.  If product number(s) are valid and issue persists, please contact support at (888) 648-2580.  Product Numbers: ';
            var arrAllProducts = [];
            var arrAllProductsMap = [];
            var currPrdId;
            var arrayListProds = [];
            var accountId;
            var departmentId;
            var tmId;
            var tanAccName;
            var previousRowId;
            var noMoreProducts = false; //indicating if there are more OG products - SSCD-101
            // variables used to queue cpr update action
            var cprModified = false;
            var updateCPRPending = false;

            //This function will calls on page load .
            $(function() {

                var firstPrd = 0;
                var noPrdsForCust = 0;
                tmId = "{!$CurrentPage.parameters.UserId}";
                accountId = "{!$CurrentPage.parameters.acctId}";
                departmentId = "{!$CurrentPage.parameters.dptId}";

                // Generate list of account records in "View Pricing For" dropdown
                AccountListFunc();

            });

            $(document).ready(function() {
                $("#idSelFilterBy").prop("selectedIndex", 9); // Nimitha Made change from 7 to 9 for bug SSDR23-640
                $("#idSelGrouptBy").prop("selectedIndex", 4); 
                $("#idSelSortBy").prop("selectedIndex", 4); // Nimitha Made change from 1 to 4 for bug SSDR23-641

            });

            var accountWLCount = [];
            var accountDepartments = [];

            /**
             * Function Name : AccountListFunc
             * Arguments: NA
             * Description: This Function is used to show list of Accounts names in select customer drop down.
             */
            function AccountListFunc() {
                accountWLCount = [];
                accountDepartments = [];
                var watchList = document.getElementById("mntWatchList");
                var tmid = "{!territoryMnId}";

                VFC_PricingEnquiry.accountList(tmid, function(result, event) {
                    if (event.status) {
                        var j;
                        for (j = watchList.options.length - 1; j >= 0; j--) {
                            watchList.remove(j);
                        }

                        // add WATCHLIST value first in the "View Pricing For" dropdown
                        var vOption = document.createElement("option");
                        vOption.setAttribute("value", "WATCHLISTVALUE");
                        var vOptionName = document.createTextNode('WATCHLIST');
                        vOption.appendChild(vOptionName);
                        vOption.setAttribute("style", "margin-left:-6%;border-bottom:2px solid #000;");
                        vOption.setAttribute("class", "whiteBck font13N");
                        watchList.appendChild(vOption);

                        if (result.length > 0) // account records exist
                        {
                            for (var i = 0; i < result.length; i++) {
                                var option = document.createElement("option");
                                var custId = result[i].Id;
                                var watchlistcount = result[i].Watchlist_Records_Count__c;
                                accountWLCount[result[i].Id] = result[i].Watchlist_Records_Count__c;
                                accountDepartments[result[i].Id] = result[i].Departments__r;
                                //  accountDepartments[result[i].Id] = result[i].Departments__r;
                                var custName1, custName2;

                                tanAccName = DecodeEntities(result[i].Tandem_Account_Name__c);
                                if (tanAccName == undefined || tanAccName == '' || !tanAccName) {
                                    custName1 = '(' + result[i].Tandem_Account_Number__c + ')';
                                    custName2 = '' + watchlistcount + '/25';
                                } else {
                                    custName1 = result[i].Tandem_Account_Name__c + ' ' + '(' + result[i].Tandem_Account_Number__c + ')';
                                    custName2 = '' + watchlistcount + '/25';
                                }
                                

                                option.setAttribute("value", custId);
                                var optionName1 = document.createTextNode(DecodeEntitiesFunc(custName1));
                                var optionName2 = document.createTextNode(custName2);

                                var node1 = document.createElement("span");
                                var node2 = document.createElement("span");
                                node2.id = result[i].Id + 'wlCount';



                                node1.appendChild(optionName1);
                                node2.appendChild(optionName2);

                                //node1.className = "fl"; // first value //commented for SSDR23-1584
                                
                                /** Added below code for Story SSDR23-1584 START **/
                                if(result[i].Customer_Ecom__c >= 50){
                                    var imgNode = document.createElement("img");
                                    imgNode.setAttribute("height", "15");
                                    imgNode.setAttribute("width", "15");
                                    imgNode.setAttribute("src", "{!URLFOR($Resource.PricingUI, '/PricingUI/icons/shoppingcart-18.png')}");
                                    imgNode.setAttribute("style", "margin-right:5px;margin-left:5px;");
                                    
                                    option.appendChild(imgNode);
                                }
                                /** SSDR23-1584 END **/


                                if (watchlistcount >= 25) {
                                    node2.className = "clsSpan"; // seconf value
                                } else {
                                    node2.className = "fr"; // seconf value
                                }

                                option.appendChild(node1);
                                option.appendChild(node2);

                                if(result[i].Customer_Ecom__c >= 50) // Added for SSDR23-1584
                                    option.setAttribute("style", "margin-left:-11%;");
                                else
                                    option.setAttribute("style", "margin-left:-6%;");
                                    
                                option.setAttribute("class", "whiteBck font13N");

                                if (accountId == custId) { // custID matches URL parameter accountId
                                    option.setAttribute("selected", "selected");
                                }

                                watchList.appendChild(option);
                            }
                            $('.selectpicker').selectpicker('refresh');
                        } else // If no customers are available for the TM...
                        { // show only "WATCHLIST" in "View Pricing For" dropdown field
                            var vWatchList = document.getElementById("mntWatchList");
                            var vOption = document.createElement("option");
                            vOption.setAttribute("value", "WATCHLISTVALUE");
                            var vOptionName = document.createTextNode('WATCHLIST');
                            vOption.appendChild(vOptionName);
                            vOption.setAttribute("style", "margin-left:-6%;");
                            vOption.setAttribute("class", "whiteBck font13N");
                            vWatchList.appendChild(vOption);
                            $("#idDivNoPrds").show();
                        }
                    } else { //remote action failed

                        displayHeaderErrorMessage(defaultErrorMessage, false);
                    }

                    DepartmentListFunc();
                    //getAllProductsFunc();                   
                    DisplayProductsFunc(); 
                   
                });
            }

            /**
             * Function Name : onCustomerChange
             * Arguments: NA
             * Description: This Function is called when a Customer is changed.
             */
            function onCustomerChange() {
                var selectedItemId = document.getElementById("mntWatchList").value;

                if ("WATCHLISTVALUE" == selectedItemId) {
                    var vDepartmentlist = document.getElementById("mntDptList");
                    for (var j = vDepartmentlist.options.length; j > 0; j--) {
                        vDepartmentlist.remove(j - 1);
                    }
                    document.getElementById("mntDptList").disabled = true;
                    document.getElementById("btnGo").disabled = false;
                    $('.selectpicker').selectpicker('refresh');
                } else {
                    DepartmentListFunc();
                }
            }

            /**
             * Function Name : DepartmentListFunc
             * Arguments: NA
             * Description: This Function is used to display department names in Department drop down.
             */
            function DepartmentListFunc() {
                var selectedCustomerId = document.getElementById("mntWatchList").value;
                var departmentlist = document.getElementById("mntDptList");
                var custDepartments = accountDepartments[selectedCustomerId];

                for (var j = departmentlist.options.length - 1; j >= 0; j--) {
                    departmentlist.remove(j);
                }

                if (custDepartments != undefined) {


                    custDepartmentsLength = custDepartments.length;

                    if (custDepartmentsLength > 0) {
                        document.getElementById("btnGo").disabled = true;
                        document.getElementById("mntDptList").disabled = false;

                        for (var i = 0; i < custDepartmentsLength; i++) {
                            var dept_name;
                            if (custDepartments[i].Name == undefined || custDepartments[i].Name == '' || !custDepartments[i].Name) {
                                dept_name = '(' + custDepartments[i].Department_Number__c + ')';
                            } else {
                                if (custDepartments[i].Department_Number__c == undefined || custDepartments[i].Department_Number__c == null || !custDepartments[i].Department_Number__c) {
                                    dept_name = custDepartments[i].Name + ' ' + '()';
                                } else {
                                    dept_name = custDepartments[i].Name + ' ' + '(' + custDepartments[i].Department_Number__c + ')';
                                }
                            }
                            var optionDept = document.createElement("option");
                            var optionName = document.createTextNode(DecodeEntitiesFunc(dept_name));
                            optionDept.appendChild(optionName);
                            optionDept.setAttribute("style", "margin-left:-7%;");
                            optionDept.setAttribute("class", "font13N whiteBck");

                            // this needs to use department Id
                            if (custDepartments[i].Id == departmentId) {
                                optionDept.setAttribute("selected", "selected");
                                departmentId = ''; // reset departmentId
                            }
                            departmentlist.add(optionDept);
                        }
                    } else { // no departments for selected customer found
                        document.getElementById("btnGo").disabled = false;
                        document.getElementById("mntDptList").disabled = true;
                    }
                } else {
                    document.getElementById("btnGo").disabled = false;
                    document.getElementById("mntDptList").disabled = true;
                }
                $('.selectpicker').selectpicker('refresh');
            }

            var missedPIMProductsNos = '';
            var missedPIMProductsMessage = '';
            var ogLastKey;
            /**
             * Function Name : DisplayProductsFunc
             * Arguments: NA
             * Description: This Function is called when a User clicks on GO button.
             */
            function DisplayProductsFunc() {
                document.getElementById("idAllErrorMsgs").innerHTML = ""; // clear all error messages

                $("#idAddPrdsCount").hide();
                $("#btnGo").prop("disabled", true);
                CleanUpTable();
                document.getElementById('load').style.visibility = "visible";
                $("#idPricingSectionRight").hide(); // product detail section
                $("#iddDiv").hide(); // product table
                //$("#idPricingFilterSection").hide(); // filter section
                $("#idDivUpdateRefresh").hide();  // "Update Product CPRs" button and Learn More
                $("#idPricingFilterSection1").hide(); //SSCD-97
                $("#idPricingFilterSection2").hide(); //SSCD-97

                //R.M 03/21/2017:
                //document.getElementById("divViewMrePrds").style.visibility = "hidden"; //commented for SSCD-97
                document.getElementById("idViewMorPrds").setAttribute("class", "viewMorDisabled"); //SSCD-97
                document.getElementById("idViewMorPrds").href = "javascript:void(0);"; //SSCD-97

                arrAllProducts = [];
                arrAllProductsMap = [];
                ogLastKey = undefined;

                var accId = document.getElementById("mntWatchList").value;
                if ("WATCHLISTVALUE" == accId) {
                    document.getElementById("mntDptList").disabled = false;
                    document.getElementById('load').style.visibility = "hidden";
                    navigateToURLFunc('/apex/VFP_Pricing_WL?UserId={!territoryMnId}');

                } else {
                    var deptVal = document.getElementById("mntDptList").value;
                    var deptNo;
                    if (!deptVal || deptVal == undefined || deptVal == null) {
                        deptNo = 0;
                    } else {
                        deptNo = deptVal.split('(')[1].replace(')', '');
                    }
                    
                    /* Added for SSDR23-2039 START */                    
                    var accountId = document.getElementById("mntWatchList").value;
                    var custmetric = 0;
                    var creditcard = 0;
                    var rebate = 0;
                    //Nov19 - Vyas - STARTS
                    var sellerCbAdoption = 0; //Seller_CB_Adoption_QTD__c
                    var linesNeededToGive = 0; //Lines_Needed_to_Give__c
                    //Nov19 - Vyas - ENDS
                    
                    
                    CustomerMetricDataHandler.getCBAdoptionValue(accountId,function(result,event){
                        if(result !=null)                        
                        {                        
                            custmetric = result.CB_Adoption__c;   
                            creditcard = result.Credit_Card_Case__c; 
                            rebate = result.Rebate_Case__c;  
                            //Nov19 - Vyas - STARTS
                            sellerCbAdoption = result.Seller_CB_Adoption_QTD__c;
                            linesNeededToGive = result.Lines_Needed_to_Give__c;
                            document.getElementById("sellerCbAdoption").innerHTML = "" + sellerCbAdoption + "%";
                            document.getElementById("linesNeededToGive").innerHTML = "" + linesNeededToGive + "";
                            //Nov19 - Vyas - ENDS 
                            document.getElementById("prodpercent").innerHTML = "" + custmetric + "%";
                            document.getElementById("idShowOG_CreditCard").innerHTML = " $" + creditcard + "";
                            document.getElementById("idShowOG_Rebate").innerHTML = " $" + rebate + "";
                        }
                    });
                    
                    /* Added for SSDR23-2039 END */
                    
                    
                    //SSDR23-1109 if it is from DCT we are sending the ipGetLastPriceInd as N because we don't need that data, so to differenciate added flag false
                    /* Remote action Function GetAllProducts called to retrive all products*/
                    VFC_PricingEnquiry.GetAllProducts(accId, deptNo,false, function(result, event) {
                        missedPIMProductsNos = '';
                        missedPIMProductsMessage = '';
                        var append = false;
                        var headerErrorSet = new Set();

                        if (event.status) {
                            if (result != undefined) {
                                noMoreProducts = result.moreDetInd; //SSCD-101
                                console.log("--------------result.moreDetInd-----------"+result.moreDetInd);
                                if (result.moreDetInd) { // OG Product Count Limit reached
                                    /* RM : R 1.6.1 1824 - Error message changed as per US.
                                     var vselectedTxt=$("#mntWatchList option:selected").text();
                                     var vCustName=vselectedTxt.split(')')[0]+')';
                                     var ogProductLimitErrorMessage = 'Please note that products displayed are currently limited to the first 500 products in '+vCustName+'&#39;s Order Guide.  To manage pricing for remaining items, please add them to a SFDC opportunity';
                                     */
                                    var ogProductLimitErrorMessage = 'Warning: Not all Order Guide products are displayed below. Only 500 are initially displayed and these are not pulled in any particular order. <a href="javascript:getMoreOGProductsFunc();" style="color:#FFFFFF;">CLICK HERE</a> to add the next 500 products in this account&#39;s Order Guide.';
                                    ogLastKey = result.ogLastKey;

                                    //R.M 03/21/2017:
                                    //document.getElementById("divViewMrePrds").style.visibility = "visible";
                                    document.getElementById("idViewMorPrds").setAttribute("class","viewMorEnabled"); //SSCD-97
                                    document.getElementById("idViewMorPrds").href = "javascript:getMoreOGProductsFunc();"; //SSCD-97
                                    // displayHeaderErrorMessage(ogProductLimitErrorMessage,append);
                                    // append = true;
                                }

                                missedPIMProductsNos = result.missingPIMprdNos.join(', ');
                                if (missedPIMProductsNos) { // Display No PIM ERROR
                                    missedPIMProductsMessage = noPIMErrorMessage + missedPIMProductsNos;

                                    displayHeaderErrorMessage(missedPIMProductsMessage, append);
                                    append = true;
                                }

                                arrAllProducts = result.allCWSProducts;
                                arrAllProductsLength = arrAllProducts.length;

                                //build map of arrAllProductsMap
                                for (var i = 0; i < arrAllProductsLength; i++) {
                                    arrAllProductsMap[arrAllProducts[i].cwsId] = arrAllProducts[i];
                                }
                                console.log('# of products returned without filter: ' + arrAllProducts.length);

                                var businessErrorMessagesLength = result.businessErrorMessages.length;
                                for (var i = 0; i < businessErrorMessagesLength; i++) {
                                    // displayHeaderErrorMessage(result.businessErrorMessages[i], append);

                                    append = true;
                                }

                                if (arrAllProducts.length > 0) {
                                    FilterSortGroupByProductsFunc();
                                } else if (businessErrorMessagesLength == 0) { // GetAllProducts had no issues and no products returned
                                    // display empty table with a message
                                    document.getElementById('load').style.visibility = "hidden";
                                    $("#idPricingSectionRight").hide();
                                    $("#iddDiv").show();
                                    //$("#idPricingFilterSection").show();
                                    $("#idDivUpdateRefresh").show();
                                    $("#idPricingFilterSection1").show(); //SSCD-97
                                    $("#idPricingFilterSection2").show(); //SSCD-97

                                    var table = document.getElementById('tblProducts');
                                    var rowCount = table.rows.length;
                                    var row = table.insertRow(rowCount);
                                    row.id = "idRowHeader";
                                    var arrHeadrName = ["", "IMAGE", "PRODUCT", "$ CURRENT/</br>$ LAST WEEK", "PRICING", "CPR", "GPD/</br>GP%"];
                                    for (var n = 0; n < arrHeadrName.length; n++) {
                                        var headerCell = document.createElement("TH");
                                        headerCell.setAttribute('id', 'idHeaderRowGrpFilter');
                                        //  tableHeader
                                        headerCell.setAttribute('class', 'tableHeader');
                                        headerCell.innerHTML = arrHeadrName[n];
                                        row.appendChild(headerCell);
                                    }
                                    var rowCount1 = rowCount + 1;
                                    var row1 = table.insertRow((rowCount1));
                                    row1.id = "noProductsId";
                                    var cell = row1.insertCell(0);
                                    document.getElementById('tblProducts').rows[rowCount1].cells[0].innerHTML = "There are no Order Guide or Opportunity products available at this time for the selected customer and filter.";
                                    document.getElementById('tblProducts').rows[rowCount1].cells[0].colSpan = 7;
                                    document.getElementById('tblProducts').rows[rowCount1].cells[0].style = "text-align:center;color:red;";
                                    document.getElementById('idShowOG_PrdsCount').innerHTML = 0; //SSCD-97
                                    //document.getElementById('idShowOG_PrdsCount').innerHTML='<div id="id_ShowCountOG"> Showing  '+ 0 +' OG Products</div>';
                                } else { // no products returned and header error messages exists
                                    document.getElementById('load').style.visibility = "hidden";
                                }
                                ComputeCookBookInRange(); //SSCD-101
                            }
                        } else { //remote action failed
                            document.getElementById('load').style.visibility = "hidden";


                            displayHeaderErrorMessage(defaultErrorMessage, false);
                        }
                    });
                }

            }
            /**
             * Function Name : getMoreOGProductsFunc
             * Arguments: NA
             * Description: This Function is called when a User clicks on CLICK HERE link when there are more than 500 products.
             */
            function getMoreOGProductsFunc() { console.log('--------------------getMoreOGProductsFunc-------------');
                document.getElementById("idAllErrorMsgs").innerHTML = ""; // clear all error messages

                $("#idAddPrdsCount").hide();

                CleanUpTable();

                document.getElementById('load').style.visibility = "visible";
                $("#idPricingSectionRight").hide(); // product detail section
                $("#iddDiv").hide(); // product table
                //$("#idPricingFilterSection").hide(); // filter section
                $("#idDivUpdateRefresh").hide();  // "Update Product CPRs" button and Learn More
                $("#idPricingFilterSection1").hide(); //SSCD-97
                $("#idPricingFilterSection2").hide(); //SSCD-97

                var accId = document.getElementById("mntWatchList").value;
                var deptVal = document.getElementById("mntDptList").value;
                var deptNo;

                if (!deptVal || deptVal == undefined || deptVal == null) {
                    deptNo = 0;
                } else {
                    deptNo = deptVal.split('(')[1].replace(')', '');
                }
                /* Remote Action Function "getMoreOGProducts" is calling for more OG Products.*/
                VFC_PricingEnquiry.getMoreOGProducts(accId, deptNo, ogLastKey, false, function(result, event) {
                    missedPIMProductsMessage = '';
                    var append = false;
                    var headerErrorSet = new Set();

                    if (event.status) {
                        if (result != undefined) {
                            noMoreProducts = result.moreDetInd; //SSCD-101
                            var thisMissingPIMProductsNos = result.missingPIMprdNos.join(', ');

                            // join existing missingPIM with thisMissingPIM
                            if (thisMissingPIMProductsNos && missedPIMProductsNos) {
                                missedPIMProductsNos = missedPIMProductsNos + ', ' + thisMissingPIMProductsNos;
                            } else if (thisMissingPIMProductsNos && !missedPIMProductsNos) { // update only with this MissingPIM
                                missedPIMProductsNos = thisMissingPIMProductsNos;
                            }

                            if (result.moreDetInd) { // OG Product Count Limit reached
                                /* RM : R 1.6.1 1824 - Error message changed as per US.
                                  var vselectedTxt=$("#mntWatchList option:selected").text();
                                  var vCustName=vselectedTxt.split(')')[0]+')';
                                  var ogProductLimitErrorMessage = 'Please note that products displayed are currently limited to the first 500 products in '+vCustName+'&#39;s Order Guide.  To manage pricing for remaining items, please add them to a SFDC opportunity';
                                  */
                                var ogProductLimitErrorMessage = 'Warning: Not all Order Guide products are displayed below. Only 500 are initially displayed and these are not pulled in any particular order. <a href="javascript:getMoreOGProductsFunc();" style="color:#FFFFFF;">CLICK HERE</a> to add the next 500 products in this account&#39;s Order Guide.';
                                ogLastKey = result.ogLastKey;

                                //R.M 03/21/2017:
                                //document.getElementById("divViewMrePrds").style.visibility = "visible";
                                document.getElementById("idViewMorPrds").setAttribute("class","viewMorEnabled"); //SSCD-97
                                document.getElementById("idViewMorPrds").href  = "javascript:getMoreOGProductsFunc();"; //SSCD-97
                                //displayHeaderErrorMessage(ogProductLimitErrorMessage,append);
                                //append = true;
                            } else { // no more order guide products to retreive, hide "View More Products" link
                                //document.getElementById("divViewMrePrds").style.visibility = "hidden";
                                document.getElementById("idViewMorPrds").setAttribute("class","viewMorDisabled"); //SSCD-97
                                document.getElementById("idViewMorPrds").href  = "javascript:void(0);"; //SSCD-97
                            }

                            if (missedPIMProductsNos) { // Display No PIM ERROR
                                missedPIMProductsMessage = noPIMErrorMessage + missedPIMProductsNos;

                                displayHeaderErrorMessage(missedPIMProductsMessage, append);
                                append = true;
                            }
                            debugger;
                            var moreOGProducts = result.allCWSProducts;

                            // add added OG products to existing arrAllProducts and arrAllProductsMap
                            arrAllProducts = arrAllProducts.concat(moreOGProducts);

                            var moreOGProducts = result.allCWSProducts;
                            moreOGProductsLength = moreOGProducts.length;

                            //build map of arrAllProductsMap
                            for (var i = 0; i < moreOGProductsLength; i++) {
                                arrAllProductsMap[moreOGProducts[i].cwsId] = moreOGProducts[i];
                            }

                            console.log('# of products to display without filter: ' + arrAllProducts.length);

                            var businessErrorMessagesLength = result.businessErrorMessages.length;
                            for (var i = 0; i < businessErrorMessagesLength; i++) {

                                displayHeaderErrorMessage(result.businessErrorMessages[i], append);
                                append = true;
                            }

                            if (arrAllProducts.length > 0) {
                                FilterSortGroupByProductsFunc();
                            } else if (businessErrorMessagesLength == 0) { // GetAllProducts had no issues and no products returned
                                // display empty table with a message
                                document.getElementById('load').style.visibility = "hidden";
                                $("#idPricingSectionRight").hide();
                                $("#iddDiv").show();
                                //$("#idPricingFilterSection").show();
                                $("#idDivUpdateRefresh").show();
                                $("#idPricingFilterSection1").show(); //SSCD-97
                                $("#idPricingFilterSection2").show(); //SSCD-97

                                var table = document.getElementById('tblProducts');
                                var rowCount = table.rows.length;
                                var row = table.insertRow(rowCount);
                                row.id = "idRowHeader";
                                var arrHeadrName = ["", "IMAGE", "PRODUCT", "$ CURRENT/</br>$ LAST WEEK", "PRICING", "CPR", "GPD/</br>GP%"];
                                for (var n = 0; n < arrHeadrName.length; n++) {
                                    var headerCell = document.createElement("TH");
                                    headerCell.setAttribute('id', 'idHeaderRowGrpFilter');
                                    //  tableHeader
                                    headerCell.setAttribute('class', 'tableHeader');
                                    headerCell.innerHTML = arrHeadrName[n];
                                    row.appendChild(headerCell);
                                }
                                var rowCount1 = rowCount + 1;
                                var row1 = table.insertRow((rowCount1));
                                row1.id = "noProductsId";
                                var cell = row1.insertCell(0);
                                document.getElementById('tblProducts').rows[rowCount1].cells[0].innerHTML = "There are no Order Guide or Opportunity products available at this time for the selected customer and filter.";
                                document.getElementById('tblProducts').rows[rowCount1].cells[0].colSpan = 7;
                                document.getElementById('tblProducts').rows[rowCount1].cells[0].style = "text-align:center;color:red;";
                                document.getElementById('idShowOG_PrdsCount').innerHTML = 0;  // SSCD-97
                               //document.getElementById('idShowOG_PrdsCount').innerHTML='<div id="id_ShowCountOG"> Showing  '+ 0 +' OG Products</div>';

                            }
                            ComputeCookBookInRange(); //SSCD-101
                        }
                    } else { //remote action failed
                        document.getElementById('load').style.visibility = "hidden";

                        displayHeaderErrorMessage(defaultErrorMessage, false);
                    }
                });
            }

            var isCookBookFilter = false; //for FilterCookBookInRange()
            var cprFocusFlag;
            var filtSortGrp_lst; // list of products returned once filter/sort/group method is completed
            var arrGrpByString = [];
            var indexOfGrpByString = 0;
            var incrementListNum = 50; // number of how many products to display on the screen at a time
            var incrementMultiplier = 1;
            var indexOfPrds_jv = 0; // the index of the products displayed
            var NoOfPrdsDisplay_jv = 0; // total number of products returned in filter/sort/group
            var total_OGPrdCount_jv = 0; // count of all Order Guide products for "Showing x OG Products" message on the screen
            /**
             * Function Name : ComputeCookBookInRange
             * Arguments: NA
             * Description: This Function calculates the CookBook%. Added by Deepanshu for SSCD-101/SSCD-208
             */
             function ComputeCookBookInRange() {

                let finalProd = 0;
                let nonLocalCookbookColor = 'font13Red';
                let displayMT = false;

                if(!noMoreProducts){
                    let nonLocalCookbookTotal = 0;
                    let nonLocalCookbookInRange = 0;
                    for (var i = 0; i < arrAllProducts.length; i++) {
                        if (arrAllProducts[i].isOrderGuidePrd) { //check for OG products
                            if (arrAllProductsMap[arrAllProducts[i].cwsId].cookbookProductIndicator &&
                                (arrAllProductsMap[arrAllProducts[i].cwsId].cookbookIndicator ||
                                arrAllProductsMap[arrAllProducts[i].cwsId].ccpPlusIndicator)
                                ) {
                                displayMT = true;
                            }
                            if (arrAllProductsMap[arrAllProducts[i].cwsId].locallyPricedIndicator != undefined &&
                                arrAllProductsMap[arrAllProducts[i].cwsId].locallyPricedIndicator == false) {
                                nonLocalCookbookTotal++;
                                if (displayMT) {
                                    if(arrAllProductsMap[arrAllProducts[i].cwsId].currentPrice != undefined &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].currentPrice != null &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].currentPrice != 0 &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].target != undefined &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].target != null &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].max != undefined &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].max != null &&
                                      TwoDecimalFunc(arrAllProductsMap[arrAllProducts[i].cwsId].currentPrice)*10 >= TwoDecimalFunc(arrAllProductsMap[arrAllProducts[i].cwsId].target)*10
                                      ) {
                                      nonLocalCookbookInRange++;
                                        }
                                }
                                else{
                                    if(arrAllProductsMap[arrAllProducts[i].cwsId].currentPrice != undefined &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].currentPrice != null &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].currentPrice != 0 &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].sellAmount != undefined &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].sellAmount != null &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].ceilingAmount != undefined &&
                                      arrAllProductsMap[arrAllProducts[i].cwsId].ceilingAmount != null &&
                                      TwoDecimalFunc(arrAllProductsMap[arrAllProducts[i].cwsId].currentPrice)*10 >= TwoDecimalFunc(arrAllProductsMap[arrAllProducts[i].cwsId].sellAmount)*10
                                      )     {
                                      nonLocalCookbookInRange++;
                                        }
                                }
                            }
                            displayMT = false;
                        }
                    }
                    console.log("----------nonLocalCookbookTotal--------------"+nonLocalCookbookTotal);
                    console.log("----------nonLocalCookbookInRange--------------"+nonLocalCookbookInRange);
                    finalProd = (nonLocalCookbookTotal == 0)? 0 : ( ((nonLocalCookbookInRange / nonLocalCookbookTotal) * 100).toFixed(1) );
                    nonLocalCookbookColor = (finalProd >= 70)? 'font13Green': 'font13Red';
                    document.getElementById("prodpercent").onclick = "FilterCookBookInRange()";
                }
                else{
                    displayHeaderErrorMessage("Please view all products to calculate percentage 'in Cookbook Range'.", true);
                    finalProd = "N/A";
                    nonLocalCookbookColor = "font13Red";
                    document.getElementById("prodpercent").onclick = "return false";
                }
                 /* updated for SSDR23-2039 START */
                 //document.getElementById("prodpercent").innerHTML = "" + finalProd + "%";
                 /* updated for SSDR23-2039 END */
                document.getElementById("prodpercent").setAttribute('class', nonLocalCookbookColor);

            }
            /**
             * Function Name : FilterCookBookInRange
             * Arguments: NA
             * Description: This Function is called when a User clicks on the CookBook percentage. Added by Deepanshu for SSCD-101/SSCD-208
             */
             function FilterCookBookInRange() {

                isCookBookFilter = true;
                document.getElementById("idSelFilterBy").value = "Not in CookBook Range";
                document.getElementById("idSelSortBy").value = "Product Description (A-Z)";
                document.getElementById("idSelGrouptBy").value = "No Grouping";
                // Adding new jQuery to handle Button text and title (created by class and predefined library).1/29/2018 by Vivek Makkar SSCD-556
                $($("[data-id=idSelSortBy]").find(".pull-left")).text("Product Description (A-Z)");
                $($("[data-id=idSelSortBy]").find(".pull-left")).parent().prop("title", "Product Description (A-Z)");
                $($("[data-id=idSelGrouptBy]").find(".pull-left")).text("No Grouping");
                $($("[data-id=idSelGrouptBy]").find(".pull-left")).parent().prop("title", "No Grouping");
                FilterSortGroupByProductsFunc();
             }



            /**
             * Function Name : FilterSortGroupByProductsFunc
             * Arguments: NA
             * Description: This Function is called when a User will change any one of filters.
             */
            function FilterSortGroupByProductsFunc() {
                total_OGPrdCount_jv = 0;
                NoOfPrdsDisplay_jv = 0;
                indexOfGrpByString = 0;
                indexOfPrds_jv = 0;
                cprFocusFlag = 0;
                incrementMultiplier = 1;
                filtSortGrp_lst = null;
                arrGrpByString = [];
                vSetColor = 0;
                vRemoveColor = '';
                var searchVal = encodeURIComponent(document.getElementById("idSearch").value.trim());  //SSCD-97

                CleanUpTable();
                document.getElementById('load').style.visibility = "visible";
                document.getElementById('idShowOG_PrdsCount').innerHTML = '0';
                //document.getElementById('prodpercent').innerHTML = 'NA%';
                $("#iddDiv").hide();
                $("#idPricingSectionRight").hide();
                $("#idDivUpdateRefresh").hide();
                //\$("#idPricingFilterSection1").hide();
                //$("#idPricingFilterSection2").hide();
                var groupByVal = document.getElementById("idSelGrouptBy").value;
                var sortByVal = document.getElementById("idSelSortBy").value;
                var filterByVal = document.getElementById("idSelFilterBy").value;

                var arrAllProductsFilterTruncate = JSON.parse(JSON.stringify(arrAllProducts));
                // For loop added to reduce the product array size. Use delete command for remove names as it is also counting the characters
                /* CustomerItemWSData variables which are required for Filter/Sort/Group By logic:
                    cbaEndDate
                    cbaNumber
                    cookbookPriceRangeIndicator
                    currentPrice
                    cwsId
                    driverInformation
                    isWatLstPrd
                    isOpptyPrd
                    isOrderGuidePrd
                    grossProfitDollars
                    last4BuyQty - only on Edit WL
                    lastWeekPrice
                    locallyPricedIndicator
                    mostRecentWWP
                    pimClass
                    prdDescription
                    priceMethod
                    sellAmount
                    sisFlag
                    target
                 */
                debugger;
                for (var k = 0; k < arrAllProducts.length; k++) {

                    // delete the variables which are not used in filter/sort/group logic
                    delete arrAllProductsFilterTruncate[k].brandName;
                    delete arrAllProductsFilterTruncate[k].breakableFlag;
                    delete arrAllProductsFilterTruncate[k].breakSurgeAmount;
                    delete arrAllProductsFilterTruncate[k].cbaAdjustmentAmount;

                    //delete arrAllProductsFilterTruncate[k].ceilingAmount;
                    delete arrAllProductsFilterTruncate[k].comPrice;
                    delete arrAllProductsFilterTruncate[k].CPR;
                    delete arrAllProductsFilterTruncate[k].cprSetupIndicator;
                    delete arrAllProductsFilterTruncate[k].cprSubmitStatus;
                    delete arrAllProductsFilterTruncate[k].customerPricingFrequency;
                    delete arrAllProductsFilterTruncate[k].discontinuedFlag;
                    delete arrAllProductsFilterTruncate[k].driverNumber;
                    delete arrAllProductsFilterTruncate[k].dwoFlag;
                    delete arrAllProductsFilterTruncate[k].eachConversionFactor;
                    delete arrAllProductsFilterTruncate[k].eachMarkupType;
                    delete arrAllProductsFilterTruncate[k].eachPrice;
                    //    delete arrAllProductsFilterTruncate[k].errorText;
                    //delete arrAllProductsFilterTruncate[k].floorAmount;
                    delete arrAllProductsFilterTruncate[k].grossProfitPercent;
                    delete arrAllProductsFilterTruncate[k].hasError;
                    delete arrAllProductsFilterTruncate[k].imageLink;
                    delete arrAllProductsFilterTruncate[k].itemIndicator;
                    delete arrAllProductsFilterTruncate[k].jitFlag;
                    delete arrAllProductsFilterTruncate[k].last4BuyDept;
                    delete arrAllProductsFilterTruncate[k].last4BuyIndicator;
                    delete arrAllProductsFilterTruncate[k].last4BuynumberofEaches;
                    delete arrAllProductsFilterTruncate[k].last4BuynumberofUnits;
                    delete arrAllProductsFilterTruncate[k].last4BuyQty;
                    delete arrAllProductsFilterTruncate[k].last4BuyWrapList;
                    delete arrAllProductsFilterTruncate[k].lastPriceIndicator;
                    delete arrAllProductsFilterTruncate[k].lastWeekPriceDate;
                    delete arrAllProductsFilterTruncate[k].lastWeekPriceTime;
                    //delete arrAllProductsFilterTruncate[k].max;
                    //delete arrAllProductsFilterTruncate[k].min;
                    delete arrAllProductsFilterTruncate[k].packsize;
                    delete arrAllProductsFilterTruncate[k].passengerCPRIndicator;

                    if (searchVal=='') {
                       delete arrAllProductsFilterTruncate[k].prdNumber;
                    }

                    delete arrAllProductsFilterTruncate[k].priceIndicator;
                    delete arrAllProductsFilterTruncate[k].rationale;
                    delete arrAllProductsFilterTruncate[k].rationaleAmount;
                    delete arrAllProductsFilterTruncate[k].rationaleType;
                    delete arrAllProductsFilterTruncate[k].replyCode;
                    delete arrAllProductsFilterTruncate[k].scoopIndicator;
                    delete arrAllProductsFilterTruncate[k].somFlag;
                    delete arrAllProductsFilterTruncate[k].sourcePriceBasis;
                    delete arrAllProductsFilterTruncate[k].tandemNumber;
                    delete arrAllProductsFilterTruncate[k].tandemName;
                    delete arrAllProductsFilterTruncate[k].upDown;
                    //arrAllProductsFilterTruncate[k].varianceOverPrWeek not required to be deleted on OG page. Only Edit WL page.
                    delete arrAllProductsFilterTruncate[k].vsFlag;

                    // delete last 4 buy array
                    delete arrAllProductsFilterTruncate[k].last4BuyWrapList;

                    // logic to delete unnecessary variable for filter logic
                    if (filterByVal.includes('CBA/Deviation')) {
                        delete arrAllProductsFilterTruncate[k].cookbookPriceRangeIndicator;
                        delete arrAllProductsFilterTruncate[k].isWatLstPrd;
                        delete arrAllProductsFilterTruncate[k].isOpptyPrd;
                        //  delete arrAllProductsFilterTruncate[k].isOrderGuidePrd;
                        delete arrAllProductsFilterTruncate[k].errorText;
                    } else if (filterByVal.includes('Range') && arrAllProductsFilterTruncate[k].cookbookPriceRangeIndicator != '') {
                        delete arrAllProductsFilterTruncate[k].priceMethod;
                        delete arrAllProductsFilterTruncate[k].cbaNumber;
                        delete arrAllProductsFilterTruncate[k].isWatLstPrd;
                        delete arrAllProductsFilterTruncate[k].isOpptyPrd;
                        //  delete arrAllProductsFilterTruncate[k].isOrderGuidePrd;
                        delete arrAllProductsFilterTruncate[k].sisFlag;
                        delete arrAllProductsFilterTruncate[k].errorText;
                    } else if (filterByVal.includes('Watch List')) {
                        delete arrAllProductsFilterTruncate[k].priceMethod;
                        delete arrAllProductsFilterTruncate[k].cbaNumber;
                        delete arrAllProductsFilterTruncate[k].cookbookPriceRangeIndicator;
                        delete arrAllProductsFilterTruncate[k].isOpptyPrd;
                        // delete arrAllProductsFilterTruncate[k].isOrderGuidePrd;
                        delete arrAllProductsFilterTruncate[k].sisFlag;
                        delete arrAllProductsFilterTruncate[k].errorText;
                    } else if (filterByVal.includes('Opportunity')) {
                        delete arrAllProductsFilterTruncate[k].priceMethod;
                        delete arrAllProductsFilterTruncate[k].cbaNumber;
                        delete arrAllProductsFilterTruncate[k].cookbookPriceRangeIndicator;
                        delete arrAllProductsFilterTruncate[k].isWatLstPrd;
                        //  delete arrAllProductsFilterTruncate[k].isOrderGuidePrd;
                        delete arrAllProductsFilterTruncate[k].sisFlag;
                        delete arrAllProductsFilterTruncate[k].errorText;
                    } else if (filterByVal.includes('Order Guide')) {
                        delete arrAllProductsFilterTruncate[k].priceMethod;
                        delete arrAllProductsFilterTruncate[k].cbaNumber;
                        delete arrAllProductsFilterTruncate[k].cookbookPriceRangeIndicator;
                        delete arrAllProductsFilterTruncate[k].isWatLstPrd;
                        delete arrAllProductsFilterTruncate[k].isOpptyPrd;
                        delete arrAllProductsFilterTruncate[k].sisFlag;
                        delete arrAllProductsFilterTruncate[k].errorText;
                    } else if (filterByVal.includes('Product Errors')) {

                        delete arrAllProductsFilterTruncate[k].priceMethod;
                        delete arrAllProductsFilterTruncate[k].cbaNumber;
                        delete arrAllProductsFilterTruncate[k].cookbookPriceRangeIndicator;
                        delete arrAllProductsFilterTruncate[k].isWatLstPrd;
                        delete arrAllProductsFilterTruncate[k].isOrderGuidePrd;
                        delete arrAllProductsFilterTruncate[k].isOpptyPrd;
                        delete arrAllProductsFilterTruncate[k].sisFlag;
                    } else {
                        
                        //***  SSDR23-1794 change start */
                        //  delete arrAllProductsFilterTruncate[k].priceMethod; //CBA/Deviation Filter
                        //***  SSDR23-1794 change end */
                        
                        delete arrAllProductsFilterTruncate[k].cbaNumber; //CBA/Deviation Filter
                        // delete arrAllProductsFilterTruncate[k].cookbookPriceRangeIndicator; // Range Filter
                        delete arrAllProductsFilterTruncate[k].isWatLstPrd; // Watch List Filter
                        delete arrAllProductsFilterTruncate[k].isOpptyPrd; // Opportunity Product Filter
                        //   delete arrAllProductsFilterTruncate[k].isOrderGuidePrd; // Order Guide Filter
                        delete arrAllProductsFilterTruncate[k].sisFlag; //CBA/Deviation Filter
                    }

                    // logic to delete unnecessary variable for sort/group logic
                    // D-1197
                    if (!groupByVal.includes('CBA End Date')) {
                        delete arrAllProductsFilterTruncate[k].cbaEndDate;
                    }

                    if (!groupByVal.includes('Driver')) {
                        delete arrAllProductsFilterTruncate[k].driverInformation;
                    }

                    if (!sortByVal.includes('GPD')) {
                        delete arrAllProductsFilterTruncate[k].grossProfitDollars;
                    }

                    if (searchVal=='' && !sortByVal.includes('Product Description')) {
                        delete arrAllProductsFilterTruncate[k].prdDescription;
                    }

                    if (!groupByVal.includes('PIM Class')) {
                        delete arrAllProductsFilterTruncate[k].pimClass;
                    }

                    if (!sortByVal.includes('Price Change')) {
                        delete arrAllProductsFilterTruncate[k].lastWeekPrice;
                    }

                    //SSDPI-121 logic updated to price target and filters
                    if (  !(sortByVal.includes('Target') || sortByVal.includes('Price')
                         || filterByVal.includes('Range')  ) ) {
                        delete arrAllProductsFilterTruncate[k].sellAmount;
                        delete arrAllProductsFilterTruncate[k].target;
                        delete arrAllProductsFilterTruncate[k].locallyPricedIndicator;
                        delete arrAllProductsFilterTruncate[k].ccpPlusIndicator;
                        delete arrAllProductsFilterTruncate[k].cookbookIndicator;
                        delete arrAllProductsFilterTruncate[k].cookbookProductIndicator;
                    }


                    //D-1198
                    /*if(!sortByVal.includes('Price Change') && !sortByVal.includes('Target')){
                       delete arrAllProductsFilterTruncate[k].currentPrice;
                    }*/

                    if (!sortByVal.includes('WWP') && !groupByVal.includes('WWP')) {
                        delete arrAllProductsFilterTruncate[k].mostRecentWWP;
                    }


                }

                console.log('Original arrAllProducts.length(): ' + JSON.stringify(arrAllProducts).length);
                console.log('Truncated arrAllProductsFilterTruncate.length(): ' + JSON.stringify(arrAllProductsFilterTruncate).length);
                //console.log('arrAllProducts[500]: '+JSON.stringify(arrAllProducts[500]));
                //console.log('arrAllProductsFilterTruncate[500]: '+JSON.stringify(arrAllProductsFilterTruncate[500]));
                /*Remote Action Function "getFilterSortGroupByProducts" is called to filtering products as per user selection. */
                VFC_PricingEnquiry.getFilterSortGroupByProducts(arrAllProductsFilterTruncate, filterByVal, sortByVal, groupByVal, searchVal, function(result, event)
                    
                    {                      
                        if (event.status) {
                            if (result.length > 0) {

                                /*Code added to display total number of products, starts [Deepanshu Soni:SSCD-101]*/
                                let total_OGPrdCount_jv = 0;
                                //Count Order Guide Products
                                for (var i = 0; i < result.length; i++) {
                                    if (result[i].isOrderGuidePrd) {
                                        total_OGPrdCount_jv++;
                                    }
                                }
                                document.getElementById('idShowOG_PrdsCount').innerHTML = total_OGPrdCount_jv;  //SSCD-97
                                //document.getElementById('idShowOG_PrdsCount').innerHTML='<div id="id_ShowCountOG"> Showing  '+total_OGPrdCount_jv+' OG Products</div>';
                                /*Code added to display total number of products, ends [Deepanshu Soni:SSCD-101]*/

                                //R.M 03/13/2017
                                filtSortGrp_lst = result;
                                NoOfPrdsDisplay_jv = result.length;
                                if ('No Grouping' == groupByVal) {
                                    var table = document.getElementById('tblProducts');
                                    var rowCount = table.rows.length;
                                    var arrHeadrName = ["", "IMAGE", "PRODUCT", "$ CURRENT/</br>$ LAST WEEK", "PRICING", "CPR", "GPD/</br>GP%"];
                                    var row = table.insertRow((rowCount));
                                    row.id = "noPrdsId";
                                    for (var i = 0; i < arrHeadrName.length; i++) {
                                        var headerCell = document.createElement("TH");
                                        headerCell.setAttribute('id', 'idHeaderRow');
                                        headerCell.setAttribute('class', 'tableHeader');
                                        headerCell.innerHTML = arrHeadrName[i];
                                        row.appendChild(headerCell);
                                    }
                                    for (var i = 0; i < NoOfPrdsDisplay_jv && indexOfPrds_jv < incrementListNum; i++) {
                                        indexOfPrds_jv++;
                                        GenerateTableRow(arrAllProductsMap[result[i].cwsId]);
                                        if (vSetColor == 0) {
                                            currPrdId = result[i].cwsId;
                                            vRemoveColor = "ROW" + result[i].cwsId;
                                            previousRowId = vRemoveColor;
                                            document.getElementById(vRemoveColor).className = "reviewed";
                                            document.getElementById('idCPR' + result[i].cwsId);
                                            rightSideMapping(arrAllProductsMap[result[i].cwsId]);
                                            // document.getElementById('idCPR'+result[i].cwsId).focus();
                                            vSetColor++;
                                        }


                                        var vCPRval = $('#idCPR' + result[i].cwsId).prop('disabled');
                                        if (cprFocusFlag == 0 && !vCPRval) {
                                            $('#idCPR' + result[i].cwsId).focus();
                                            cprFocusFlag++;
                                        }
                                    }
                                } else {
                                    //GroupBy Filter-Other than "No Grouping".

                                    for (var i = 0; i < result.length; i++) {
                                        // Set group table headers
                                        if ('WWP (Asc)' == groupByVal) // WWP Header
                                        {
                                            arrGrpByString.push(result[i].mostRecentWWP);
                                        } else if ('PIM Class' == groupByVal) // PIM Class Header
                                        {
                                            arrGrpByString.push(result[i].pimClass);
                                        } else if ('CBA End Date (Asc)' == groupByVal) // CBA End Date Header
                                        {
                                            arrGrpByString.push(SubstringDateFunc(result[i].cbaEndDate));
                                        } else if ('Driver CPRs' == groupByVal) // Diver Header
                                        {
                                            arrGrpByString.push(result[i].driverInformation);

                                        }

                                    }
                                    arrGrpByString = arrGrpByString.filter(function(item, index, inputArray) {
                                        return inputArray.indexOf(item) == index;
                                    });

                                    for (var i = 0; i < arrGrpByString.length && indexOfPrds_jv < incrementListNum; i++) { //Start By Generate Header
                                        indexOfGrpByString = i;
                                        var table = document.getElementById('tblProducts');
                                        var rowCount = table.rows.length;
                                        var row = table.insertRow((rowCount));
                                        row.id = "noPrdsIdGrpFilter";
                                        var cell = row.insertCell(0);
                                        var groupbyName;
                                        if ('WWP (Asc)' == groupByVal) {
                                            groupbyName = 'WWP' + ' ' + arrGrpByString[i];
                                        } else if ('PIM Class' == groupByVal) {
                                            groupbyName = 'PIM' + ' ' + DecodeEntitiesFunc(arrGrpByString[i]);
                                        } else if ('CBA End Date (Asc)' == groupByVal) {
                                            if (arrGrpByString[i] == null || arrGrpByString[i] == undefined || !arrGrpByString[i]) {
                                                groupbyName = 'CBA End Date' + ' ' + '----';
                                            } else {
                                                groupbyName = 'CBA End Date' + ' ' + arrGrpByString[i];
                                            }
                                        } else if ('Driver CPRs' == groupByVal) {
                                            if (arrGrpByString[i] == null || arrGrpByString[i] == undefined || !arrGrpByString[i]) {
                                                groupbyName = 'No Driver';
                                            } else {
                                                groupbyName = 'Driver' + ' ' + arrGrpByString[i];
                                            }
                                        }
                                        document.getElementById('tblProducts').rows[rowCount].cells[0].innerHTML = '<div class="bootstrap col-md-8 col-sm-8 grpHeaderNames" ><div id="divPosCust">' + groupbyName + '</div></div>';
                                        document.getElementById('tblProducts').rows[rowCount].cells[0].colSpan = 7
                                        var arrHeadrName = ["", "IMAGE", "PRODUCT", "$ CURRENT/</br>$ LAST WEEK", "PRICING", "CPR", "GPD/</br>GP%"];
                                        var roww = table.insertRow((rowCount + 1));
                                        roww.id = "idRowHeader";
                                        for (var n = 0; n < arrHeadrName.length; n++) {
                                            var headerCell = document.createElement("TH");
                                            headerCell.setAttribute('id', 'idHeaderRowGrpFilter');
                                            headerCell.setAttribute('class', 'tableHeader');
                                            headerCell.innerHTML = arrHeadrName[n];
                                            roww.appendChild(headerCell);
                                        }


                                        while (indexOfPrds_jv < result.length && indexOfPrds_jv < incrementListNum) {
                                            if (('WWP (Asc)' == groupByVal && DecodeEntitiesFunc(arrGrpByString[i]) == result[indexOfPrds_jv].mostRecentWWP) || ('PIM Class' == groupByVal && DecodeEntitiesFunc(arrGrpByString[i]) == DecodeEntitiesFunc(result[indexOfPrds_jv].pimClass)) || ('CBA End Date (Asc)' == groupByVal && arrGrpByString[i] == SubstringDateFunc(result[indexOfPrds_jv].cbaEndDate)) || ('Driver CPRs' == groupByVal && arrGrpByString[i] == result[indexOfPrds_jv].driverInformation)) {
                                                GenerateTableRow(arrAllProductsMap[result[indexOfPrds_jv].cwsId]);

                                                if (vSetColor == 0) {
                                                    currPrdId = result[indexOfPrds_jv].cwsId;
                                                    vRemoveColor = "ROW" + result[indexOfPrds_jv].cwsId;
                                                    previousRowId = vRemoveColor;
                                                    document.getElementById(vRemoveColor).className = "even";
                                                    document.getElementById(previousRowId).style.backgroundColor = "#fff2D4";
                                                    document.getElementById(previousRowId).style.border = "2px solid #E7A614";
                                                    rightSideMapping(arrAllProductsMap[result[indexOfPrds_jv].cwsId]);
                                                    vSetColor++;

                                                }
                                                //  var   vCPRval=document.getElementById('idCPR'+arrAllProductsFilterTruncate[k].cwsId).disabled;
                                                var vCPRval = $('#idCPR' + result[indexOfPrds_jv].cwsId).prop('disabled');

                                                if (cprFocusFlag == 0 && !vCPRval) {
                                                    $('#idCPR' + result[indexOfPrds_jv].cwsId).focus();
                                                    //   document.getElementById('idCPR'+result[indexOfPrds_jv].cwsId).focus();
                                                    cprFocusFlag++;
                                                }
                                                indexOfPrds_jv++;
                                            } else {
                                                break;
                                            }
                                        }

                                    } //End By Generte Header
                                } //End By GrpByFilter- Other than 'No Grouping'

                                $("#iddDiv").show();
                                $("#idPricingSectionRight").show();
                                //$("#idPricingFilterSection").show();
                                $("#idDivUpdateRefresh").show();
                                $("#idPricingFilterSection1").show(); //SSCD-97
                                $("#idPricingFilterSection2").show(); //SSCD-97
                            } else { // No products returned from filter/sort/group
                                var table = document.getElementById('tblProducts');
                                var rowCount = table.rows.length;
                                var row = table.insertRow(rowCount);
                                row.id = "idRowHeader";
                                var arrHeadrName = ["", "IMAGE", "PRODUCT", "$ CURRENT/</br>$ LAST WEEK", "PRICING", "CPR", "GPD/</br>GP%"];
                                for (var n = 0; n < arrHeadrName.length; n++) {
                                    var headerCell = document.createElement("TH");
                                    headerCell.setAttribute('id', 'idHeaderRowGrpFilter');
                                    headerCell.setAttribute('class', 'tableHeader');
                                    headerCell.innerHTML = arrHeadrName[n];
                                    row.appendChild(headerCell);
                                }
                                var rowCount1 = rowCount + 1;
                                var row1 = table.insertRow((rowCount1));
                                row1.id = "noProductsId";
                                var cell = row1.insertCell(0);
                                document.getElementById('tblProducts').rows[rowCount1].cells[0].innerHTML = "There are no Order Guide or Opportunity products available at this time for the selected customer and filter.";
                                document.getElementById('tblProducts').rows[rowCount1].cells[0].colSpan = 7;
                                document.getElementById('tblProducts').rows[rowCount1].cells[0].style = "text-align:center;color:red;";

                                $("#idPricingSectionRight").hide();
                                $("#iddDiv").show();
                                //$("#idPricingFilterSection").show();
                                $("#idDivUpdateRefresh").show();
                                $("#idPricingFilterSection1").show(); //SSCD-97
                                $("#idPricingFilterSection2").show(); //SSCD-97
                            }
                        } else { //remote action failed

                            displayHeaderErrorMessage(defaultErrorMessage, false);
                        }

                        document.getElementById('load').style.visibility = "hidden";

                    });
            }

            function showMoreProducts_JFunc() {
                var groupByVal = document.getElementById("idSelGrouptBy").value;

                if (indexOfPrds_jv < NoOfPrdsDisplay_jv) { // display next set of products after user scrolls to the bottom of the list
                    incrementMultiplier++;

                    if ('No Grouping' == groupByVal) {
                        for (var i = indexOfPrds_jv; i < NoOfPrdsDisplay_jv && indexOfPrds_jv < (incrementListNum * incrementMultiplier); i++) {
                            indexOfPrds_jv++;
                            GenerateTableRow(arrAllProductsMap[filtSortGrp_lst[i].cwsId]);
                            if (vSetColor == 0) {
                                currPrdId = filtSortGrp_lst[i].cwsId;
                                vRemoveColor = "ROW" + filtSortGrp_lst[i].cwsId;
                                previousRowId = vRemoveColor;

                                document.getElementById(vRemoveColor).className = "reviewed";
                                document.getElementById('idCPR' + filtSortGrp_lst[i].cwsId);
                                rightSideMapping(arrAllProductsMap[filtSortGrp_lst[i].cwsId]);
                                // document.getElementById('idCPR'+filtSortGrp_lst[i].cwsId).focus();
                                vSetColor++;
                            }


                            var vCPRval = $('#idCPR' + filtSortGrp_lst[i].cwsId).prop('disabled');
                            if (cprFocusFlag == 0 && !vCPRval) {
                                $('#idCPR' + filtSortGrp_lst[i].cwsId).focus();
                                cprFocusFlag++;
                            }
                        }
                    } else {
                        //GroupBy Filter-Other than "No Grouping".
                        while (indexOfPrds_jv < NoOfPrdsDisplay_jv && indexOfPrds_jv < (incrementListNum * incrementMultiplier)) {
                            if (('WWP (Asc)' == groupByVal && DecodeEntitiesFunc(arrGrpByString[indexOfGrpByString]) == filtSortGrp_lst[indexOfPrds_jv].mostRecentWWP) || ('PIM Class' == groupByVal && DecodeEntitiesFunc(arrGrpByString[indexOfGrpByString]) == DecodeEntitiesFunc(filtSortGrp_lst[indexOfPrds_jv].pimClass)) || ('CBA End Date (Asc)' == groupByVal && arrGrpByString[indexOfGrpByString] == SubstringDateFunc(filtSortGrp_lst[indexOfPrds_jv].cbaEndDate)) || ('Driver CPRs' == groupByVal && arrGrpByString[indexOfGrpByString] == filtSortGrp_lst[indexOfPrds_jv].driverInformation)) {
                                GenerateTableRow(arrAllProductsMap[filtSortGrp_lst[indexOfPrds_jv].cwsId]);
                                if (vSetColor == 0) {
                                    currPrdId = filtSortGrp_lst[indexOfPrds_jv].cwsId;
                                    vRemoveColor = "ROW" + filtSortGrp_lst[indexOfPrds_jv].cwsId;
                                    previousRowId = vRemoveColor;
                                    document.getElementById(vRemoveColor).className = "even";
                                    document.getElementById(previousRowId).style.backgroundColor = "#fff2D4";
                                    document.getElementById(previousRowId).style.border = "2px solid #E7A614";
                                    rightSideMapping(arrAllProductsMap[filtSortGrp_lst[indexOfPrds_jv].cwsId]);
                                    vSetColor++;

                                }
                                //  var   vCPRval=document.getElementById('idCPR'+arrAllProductsFilterTruncate[k].cwsId).disabled;
                                var vCPRval = $('#idCPR' + filtSortGrp_lst[indexOfPrds_jv].cwsId).prop('disabled');

                                if (cprFocusFlag == 0 && !vCPRval) {
                                    $('#idCPR' + filtSortGrp_lst[indexOfPrds_jv].cwsId).focus();
                                    //   document.getElementById('idCPR'+filtSortGrp_lst[indexOfPrds_jv].cwsId).focus();

                                    cprFocusFlag++;

                                }
                                indexOfPrds_jv++;
                            } else {
                                break;
                            }
                        }

                        for (var i = indexOfGrpByString + 1; i < arrGrpByString.length && indexOfPrds_jv < (incrementListNum * incrementMultiplier); i++) { //Start By Generate Header

                            indexOfGrpByString = i;
                            var table = document.getElementById('tblProducts');
                            var rowCount = table.rows.length;
                            var row = table.insertRow((rowCount));
                            row.id = "noPrdsIdGrpFilter";
                            var cell = row.insertCell(0);
                            var groupbyName;
                            if ('WWP (Asc)' == groupByVal) {
                                groupbyName = 'WWP' + ' ' + arrGrpByString[i];
                            } else if ('PIM Class' == groupByVal) {
                                groupbyName = 'PIM' + ' ' + DecodeEntitiesFunc(arrGrpByString[i]);
                            } else if ('CBA End Date (Asc)' == groupByVal) {
                                if (arrGrpByString[i] == null || arrGrpByString[i] == undefined || !arrGrpByString[i]) {
                                    groupbyName = 'CBA End Date' + ' ' + '----';
                                } else {
                                    groupbyName = 'CBA End Date' + ' ' + arrGrpByString[i];
                                }
                            } else if ('Driver CPRs' == groupByVal) {
                                if (arrGrpByString[i] == null || arrGrpByString[i] == undefined || !arrGrpByString[i]) {
                                    groupbyName = 'No Driver';
                                } else {
                                    groupbyName = 'Driver' + ' ' + arrGrpByString[i];
                                }
                            }
                            document.getElementById('tblProducts').rows[rowCount].cells[0].innerHTML = '<div class="bootstrap col-md-8 col-sm-8 grpHeaderNames" ><div id="divPosCust">' + groupbyName + '</div></div>';
                            document.getElementById('tblProducts').rows[rowCount].cells[0].colSpan = 7
                            var arrHeadrName = ["", "IMAGE", "PRODUCT", "$ CURRENT/</br>$ LAST WEEK", "PRICING", "CPR", "GPD/</br>GP%"];
                            var roww = table.insertRow((rowCount + 1));
                            roww.id = "idRowHeader";
                            for (var n = 0; n < arrHeadrName.length; n++) {
                                var headerCell = document.createElement("TH");
                                headerCell.setAttribute('id', 'idHeaderRowGrpFilter');
                                headerCell.setAttribute('class', 'tableHeader');
                                headerCell.innerHTML = arrHeadrName[n];
                                roww.appendChild(headerCell);
                            }

                            while (indexOfPrds_jv < NoOfPrdsDisplay_jv && indexOfPrds_jv < (incrementListNum * incrementMultiplier)) {
                                if (('WWP (Asc)' == groupByVal && DecodeEntitiesFunc(arrGrpByString[indexOfGrpByString]) == filtSortGrp_lst[indexOfPrds_jv].mostRecentWWP) || ('PIM Class' == groupByVal && DecodeEntitiesFunc(arrGrpByString[indexOfGrpByString]) == DecodeEntitiesFunc(filtSortGrp_lst[indexOfPrds_jv].pimClass)) || ('CBA End Date (Asc)' == groupByVal && arrGrpByString[indexOfGrpByString] == SubstringDateFunc(filtSortGrp_lst[indexOfPrds_jv].cbaEndDate)) || ('Driver CPRs' == groupByVal && arrGrpByString[indexOfGrpByString] == filtSortGrp_lst[indexOfPrds_jv].driverInformation)) {
                                    GenerateTableRow(arrAllProductsMap[filtSortGrp_lst[indexOfPrds_jv].cwsId]);
                                    if (vSetColor == 0) {
                                        currPrdId = filtSortGrp_lst[indexOfPrds_jv].cwsId;
                                        vRemoveColor = "ROW" + filtSortGrp_lst[indexOfPrds_jv].cwsId;
                                        previousRowId = vRemoveColor;
                                        document.getElementById(vRemoveColor).className = "even";
                                        document.getElementById(previousRowId).style.backgroundColor = "#fff2D4";
                                        document.getElementById(previousRowId).style.border = "2px solid #E7A614";
                                        rightSideMapping(arrAllProductsMap[filtSortGrp_lst[indexOfPrds_jv].cwsId]);
                                        vSetColor++;

                                    }
                                    //  var   vCPRval=document.getElementById('idCPR'+arrAllProductsFilterTruncate[k].cwsId).disabled;
                                    var vCPRval = $('#idCPR' + filtSortGrp_lst[indexOfPrds_jv].cwsId).prop('disabled');

                                    if (cprFocusFlag == 0 && !vCPRval) {
                                        $('#idCPR' + filtSortGrp_lst[indexOfPrds_jv].cwsId).focus();
                                        //   document.getElementById('idCPR'+filtSortGrp_lst[indexOfPrds_jv].cwsId).focus();

                                        cprFocusFlag++;

                                    }
                                    indexOfPrds_jv++;
                                } else {
                                    break;
                                }
                            }

                        } //End By Generte Header
                    }
                }

            }


            var headerLevelErrMsg;
            var missedPIMProductsMessage;
            var tabOrderCounter = 0;
            var cprSubmitStatus_v;
            var updateCPRErrText;
         /*  * Function Name : loadimage
             * Arguments: product id 
             * Description: This Function is used to generate the image of product.
             * Author : Wipro 
             * Story : 1580
        */
        function loadimage(prd_Id){
             var prdData = arrAllProductsMap[prd_Id];
              var url = "https://media.usfood.com/1";
            var returnText = '';
            debugger;
                if (prdData.imageLink != undefined || prdData.imageLink != null) {
                    if (prdData.imageLink.match(/\.(jpeg|jpg|gif|png)/) != null) {
                        returnText= "<img src='" + url + prdData.imageLink + "\' width='100rem' height='100rem' border='0' alt='No Image'  />";
                    } else {
                        returnText= "<img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/No Image.png')}' width='80%' height='50%' border='0' alt='No Image' />";
                    }
                } else {
                    returnText = "<img src='{!$Resource.NoProductImage}' width='80%' height='50%' border='0' alt='No Image' />";
                }
            
            return returnText;
        }
        

            /**
             * Function Name : GenerateTableRow
             * Arguments: productData
             * Description: This Function is used to generate the table.
             */
            function GenerateTableRow(productData) {
                //console.log('-------');
                 //console.log(productData);
                var prdData = productData;
                var prd_TANName = prdData.tandemName;
                var prd_TANNo = prdData.tandemNumber;
                var prd_Description = prdData.prdDescription;
                var prd_Pack_Size = prdData.packsize;
                var prd_Brand = prdData.brandName;
                var prd_Product_Number = prdData.prdNumber;
                var prd_PIMClass = prdData.pimClass;
                var prd_CurrentlastWeekPrice = prdData.currentPrice;
                var prd_lastWeekPrice = prdData.lastWeekPrice;
                var prd_WWP = prdData.mostRecentWWP;
                var prd_GPD = prdData.grossProfitDollars;
                var prd_GP = prdData.grossProfitPercent;
                var prd_TGT = prdData.target;
                var prd_MAX = prdData.max;
                var prd_MIN = prdData.min;
                var prd_Sell = prdData.sellAmount;
                var prd_List = prdData.ceilingAmount;
                var prd_Floor = prdData.floorAmount;
                var prd_COM = prdData.comPrice;
                var isWatchListPRD = prdData.isWatLstPrd;
                var prd_Id = prdData.cwsId;
                var prd_CPR = prdData.CPR;
                var prd_isOpptyPrd = prdData.isOpptyPrd;
                var prd_isOrderGuidePrd = prdData.isOrderGuidePrd;
                var cprMessageDisplayed = false;
                var prd_ReviewdUnreviewd = prdData.isreviewedPrd;
                var prd_LocallyPricedIndicator = prdData.locallyPricedIndicator;
                var prd_cprSetUpIndcatr = prdData.cprSetupIndicator;
                var passengercprIndicator = prdData.passengerCPRIndicator;
                var prd_CookbookDivisionIndicator = prdData.cookbookIndicator;
                var prd_CCPPlusDivisionIndicator = prdData.ccpPlusIndicator;
                var prd_CookbookProductIndicator = prdData.cookbookProductIndicator;
                var prd_isReviewed = prdData.isreviewedPrd;
                //below variable added by Phani for story SSDR23-306
                var prd_lastPriceHoldValue = prdData.lastPriceHoldValue;
                //Phani added below variable to display market Change on UI
                var prd_marketChangeforUI = prdData.marketChangeforUI;                
                error_Text = prdData.errorText;
                // these two variables are defaulted to empty string ('') in CustomerItemWSData. They will never be undefined.
                updateCPRErrText = prdData.errorText;
                var cprSubmitStatus = prdData.cprSubmitStatus;

                //if(displayCPRLog){ - Not required since CPR values are not cached on the order guide page
                if (updateCPRErrText != '') { // display CPR message
                    cprErrorRowFunc(updateCPRErrText);
                    cprMessageDisplayed = true;
                } else if (cprSubmitStatus != '') {

                    if (cprSubmitStatus == 'Success') {
                        cprErrorRowFunc('CPR updates processed successfully.');
                        cprMessageDisplayed = true;
                    }
                }

                if (error_Text != '' && cprMessageDisplayed == false) {
                    ErrorRowFunc(error_Text);
                }




                // DO NOT display any header error messages here. This will be handled from the AccountListFunc(), updatePrdCPRValues() and refreshfunc() functions
                /* if(headerLevelErrMsg)
                    {
                        document.getElementById("headerlevelErrdivId").innerHTML= '<div style="color:#FFFFFF;background-color: Red; line-height:2;"><div class="Err_msg Err_fontcolor" id="divPosCust">&nbsp;&nbsp;&nbsp;&nbsp;<img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/alert-white-24.png')}" width="15" height="15" style="margin-top: -0.6%;"/>&nbsp;&nbsp;'+headerLevelErrMsg+'</div>';
                    } */

                var table = document.getElementById("tblProducts");
                var rowCount = table.rows.length;
                tabOrderCounter++;
                row = table.insertRow(-1);
                row.id = "ROW" + prd_Id;

                // logic to determine whether user cannot "set" M, T, X for CPR value
                if (!(prd_CookbookDivisionIndicator && prd_CookbookProductIndicator)) {
                    console.log('cook&product');
                    arrayListProds.push(prd_Id);
                }else{
                   console.log('not');
                }
                console.log(prdData);

                // logic to determine if min, tar, max is used instead of floor, sell and list
                var displayMTX = false;
                //else{
                if (prd_CookbookProductIndicator && (prd_CookbookDivisionIndicator || prd_CCPPlusDivisionIndicator)) {
                    displayMTX = true;
                }

                /*Code added to display a green check, starts [Deepanshu Soni:SSCD-207]*/
                let isGreenCheck = false;
                if(prd_LocallyPricedIndicator!=undefined && prd_LocallyPricedIndicator == false){
                    if (!displayMTX) {
                        if (
                            prd_CurrentlastWeekPrice != undefined &&
                            prd_CurrentlastWeekPrice != null &&
                            prd_CurrentlastWeekPrice != 0 &&
                            prd_Sell != undefined &&
                            prd_Sell != null &&
                            prd_List != undefined &&
                            prd_List != null &&
                            TwoDecimalFunc(prd_CurrentlastWeekPrice)*10 >= TwoDecimalFunc(prd_Sell)*10
                        ) {
                            isGreenCheck = true;
                        }
                    } else {
                        if (
                            prd_CurrentlastWeekPrice != undefined &&
                            prd_CurrentlastWeekPrice != null &&
                            prd_CurrentlastWeekPrice != 0 &&
                            prd_TGT != undefined &&
                            prd_TGT != null &&
                            prd_MAX != undefined &&
                            prd_MAX != null &&
                            TwoDecimalFunc(prd_CurrentlastWeekPrice)*10 >= TwoDecimalFunc(prd_TGT)*10
                        ) {
                            isGreenCheck = true;
                        }
                    }
                }
                /*Code added to display a green check, ends [Deepanshu Soni:SSCD-207]*/

                // logic to display product table row content
                for (var j = 0; j < 7; j++) {
                    var cell = row.insertCell(-1);
                    if (j == 0) // watch list icon
                    {
                        //    var wtlsticon= document.createElement('image');
                        //    wtlsticon.type = "image";
                        cell.name = prd_Id;
                        cell.value = prd_Id;
                        cell.id = prd_Id;

                        if (isWatchListPRD) {
                            cell.innerHTML = '<div class="font12NLH16Green" style="text-align:center;margin-top:14px;font-weight:bold;" id="divCell0" ><a href="javascript://" class="theclass" style="cursor:pointer" onclick="remFromWatchList(\'' + prd_Product_Number + '\'); return false;"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/watch-list-color-32.png')}" width="18" height="22" align="middle" /></a></div>';
                            //   cell.style.width = "50px";
                        } else if (!isWatchListPRD) {
                            cell.innerHTML = '<div class="font12NLH16Green" style="text-align:center;margin-top:14px;font-weight:bold;" id="divCell0" ><a href="javascript://" class="theclass" style="cursor:pointer" onclick="addProdtoWatchList2(\'' + prd_Product_Number + '\'); return false;"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/watch-list-grey-32.png')}" width="18" height="22" align="middle" /></a></div>';
                            //  cell.style.width = "50px";
                        }
                        //   cell.appendChild(wtlsticon);
                        cell.style.width = "50px";
                    } else if (j == 1) // customer
                    {
                        /*changes add by neeraj for story 1580*/
                        cell.innerHTML = '<div class="font12NLH16 IMGDivSize" style="text-align:center;margin-top:3px;" id="divCell1" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581">'+' <div class="col-md-4 col-sm-4 imgdiv" id="imageLinkId" style="display:none;"></div><div class=" imageDiv" id="productImage"> '+loadimage(prd_Id)+'</div></div>';
                        /*End the 1580*/
                        cell.style.width = "90px";
                       
                    } else if (j == 2) // product
                    {
                        cell.innerHTML = '<div class="font12NLH16 col-md-10" style="text-align:left;margin-top:2%;width:82%;padding:0;" id="divCell2" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581"><a href="javascript://" style="text-decoration:none;color:#000000" /><strong>' + DecodeEntitiesFunc(DecodeEntitiesFunc(prd_Description)) + '</strong></br>#' + prd_Product_Number + '<span id="spBar">|</span><span id="spWWP">WWP</span>' + prd_WWP + '</div>';
                        cell.style.width = "300px";

                        if (passengercprIndicator == 'Y') { // display passenger indicator
                            cell.innerHTML += '<div id="idPsggnrIndicator" class="col-md-1" style="float:right;margin-top:3%;padding:0;"><span class ="imgWrap"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/passenger-18.png')}" width="18" height="18"/><span class="imgDescription">Passenger Item</span></span></div>';
                        }

                        /*if(prd_PriceVariance) { - Price Variance not used on order guide page
                           cell.innerHTML += '<div id="varianceimg" class="col-md-1" style ="float:right;margin-top:3%;padding:0;"><span class ="imgWrap"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/price-variance-18.png')}" width="18" height="18"/><span class="imgDescription">Price Variance Outside Range</span></span></div>';
                           }*/

                        if (prd_isOpptyPrd) { // display opportunity indicator
                            cell.innerHTML += '<div><div id="divImageBulb" class="col-md-1" style="float:right;margin-top:3%;padding:0;"><span class ="imgWrap"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/opportunity-coin-18.png')}" width="18" height="18"/><span class="imgDescription">Opportunity Product</span></span></div>';
                        }

                        if (prd_LocallyPricedIndicator == true) { // display red L
                            cell.innerHTML += '<div id="Localpriceimg" class="col-md-1" style="float:right;margin-top:3%;padding:0;"><span class ="imgWrap"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/locally-priced-18.png')}" width="18" height="18"/><span class="imgDescription">Locally Priced</span></span></div></div>';
                        }
                        /*Code added to display a green check, starts [Deepanshu Soni:SSCD-207]*/
                        if (isGreenCheck && !prd_LocallyPricedIndicator) {
                            cell.innerHTML += '<div id="greentick" class="col-md-1" style="float:right;margin-top:3%;padding:0;"><span class ="imgWrap"><img src="{!URLFOR($Resource.greenCheckmark)}" width="18" height="18"/><span class="imgDescription">Product priced as Target or above</span></span></div></div>';
                        }
                        /*Code added to display a green check, ends [Deepanshu Soni:SSCD-207]*/
                        //Below condition added by Phani to display gray Arrow for Story SSDR23-306
                        if(prd_lastPriceHoldValue=='A'){
                            cell.innerHTML += '<div id="grayArrow" class="col-md-1" style="float:right;margin-top:3%;padding:0;"><span class ="imgWrap"><img src="{!URLFOR($Resource.grayArrow)}" width="18" height="18"/><span class="imgDescription">CPR Auto Assist</span></span></div></div>';
                        }
                        //Phani changes ends
                    } else if (j == 3) // $ CURRENT/ $ LAST WEEK
                    {
                        var diffCurLastWkPrice;
                        //ADD bY Nimitha Statrs for 629 bug
                        if(prd_marketChangeforUI==undefined || prd_marketChangeforUI==null || !prd_marketChangeforUI) {                            
                            prd_marketChangeforUI='$0.00';
                        } 
                        // ADD by Nimitha ends.
                        if ((prd_CurrentlastWeekPrice == undefined && prd_lastWeekPrice == undefined) || (prd_CurrentlastWeekPrice == null && prd_lastWeekPrice == null) || (!prd_CurrentlastWeekPrice && !prd_lastWeekPrice)) {
                            prd_CurrentlastWeekPrice = 0.00;
                            prd_lastWeekPrice = 0.00;
                            diffCurLastWkPrice = 0.00;
                        } else {
                            diffCurLastWkPrice = (prd_CurrentlastWeekPrice - prd_lastWeekPrice).toFixed(2);  
                            
                        }
                        // Phani Made changes on below lines for bug SSDR23-637 on 10/26/2018
                        //Phani SSDR23-43 START updated the below code to Populate Market Change on the UI
                        if (diffCurLastWkPrice > 0) {
                            //cell.innerHTML = '<div class="font12NLH16Green" style="/*text-align:center;*/margin-top:12%;font-family: Arial;font-size: 12px;" id="divCell3" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-13%;*/"><strong>CUR:<span style="float:right;font-weight:normal;">$' + TwoDecimalFunc(prd_CurrentlastWeekPrice) + '</span></strong></div><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-18%;*/"><strong>LW:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_lastWeekPrice) + '</span></div></a><div style="border-bottom:1px solid #AAA"></div><div><span class ="imgWrap"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/sm-blue-arrow-up-16.png')}" width="12" height="12" style="float:left;"/><span class="imgDescription">Price Increase</span></span><div style="/*margin-top: -24%;margin-left: 25%;*/float:right;">+$' + diffCurLastWkPrice + '</div></div>';
                            cell.innerHTML = '<div class="font12NLH16Green" style="/*text-align:center;*/margin-top:12%;font-family: Arial;font-size: 12px;" id="divCell3" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-13%;*/"><strong>CUR:<span style="float:right;font-weight:normal;">$' + TwoDecimalFunc(prd_CurrentlastWeekPrice) + '</span></strong></div><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-18%;*/"><strong>LW:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_lastWeekPrice) + '</span></div></a><div style="border-bottom:1px solid #AAA"></div><div><span class ="imgWrap"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/sm-blue-arrow-up-16.png')}" width="12" height="12" style="float:left;"/><span class="imgDescription">Price Increase</span></span></div><div style="/*margin-top: -24%;margin-left: 25%;*/float:right;">+$' + TwoDecimalFunc(Math.abs(diffCurLastWkPrice)) + '</div><br/><span title="Market Change"><strong>MKT:</strong></span><div style="/*margin-top: -24%;margin-left: 25%;*/float:right;">' + prd_marketChangeforUI + '</div>';
                            
                        } else if (diffCurLastWkPrice < 0) {
                            //     cell.innerHTML = '<div class="font12NLH16Green" style="/*text-align:center;*/margin-top:12%;font-family: Arial;font-size: 12px;" id="divCell3" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-13%;*/"><strong>CUR:<span style="float:right;font-weight:normal;">$' + TwoDecimalFunc(prd_CurrentlastWeekPrice) + '</span></strong></div><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-18%;*/"><strong>LW:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_lastWeekPrice) + '</span></div></a><div style="border-bottom:1px solid #AAA"></div><div><span class ="imgWrap"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/sm-gold-arrow-down-16.png')}" width="12" height="12" style="float:left;"/><span class="imgDescription">Price Decrease</span></span><div style="/*margin-top: -24%;margin-left: 25%;*/float:right;">($' + TwoDecimalFunc(Math.abs(diffCurLastWkPrice)) + ')</div></div>';
                            cell.innerHTML = '<div class="font12NLH16Green" style="/*text-align:center;*/margin-top:12%;font-family: Arial;font-size: 12px;" id="divCell3" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-13%;*/"><strong>CUR:<span style="float:right;font-weight:normal;">$' + TwoDecimalFunc(prd_CurrentlastWeekPrice) + '</span></strong></div><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-18%;*/"><strong>LW:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_lastWeekPrice) + '</span></div></a><div style="border-bottom:1px solid #AAA"></div><div><span class ="imgWrap"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/sm-gold-arrow-down-16.png')}" width="12" height="12" style="float:left;"/><span class="imgDescription">Price Decrease</span></span></div><div style="/*margin-top: -24%;margin-left: 25%;*/float:right;">($' + TwoDecimalFunc(Math.abs(diffCurLastWkPrice)) + ')</div><br/><span title="Market Change"><strong>MKT:</strong></span><div style="/*margin-top: -24%;margin-left: 25%;*/float:right;"> '+ prd_marketChangeforUI + '</div>';                       
                            
                        } else { // diffCurLastWkPrice == 0
                            // cell.innerHTML = '<div class="font12NLH16Green" style="/*text-align:center;*/margin-top:12%;font-family: Arial;font-size: 12px;" id="divCell3" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-13%;*/"><strong>CUR:<span style="float:right;font-weight:normal;">$' + TwoDecimalFunc(prd_CurrentlastWeekPrice) + '</span></strong></div><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-18%;*/"><strong>LW:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_lastWeekPrice) + '</span></div></a><div style="border-bottom:1px solid #AAA"></div><div><!--<img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/sm-blue-arrow-up-16.png')}" width="12" height="12" style="float:left;"/>--><div style="/*margin-top: -24%;margin-left: 25%;*/float:right;">$' + diffCurLastWkPrice + '</div></div>';c
                            cell.innerHTML = '<div class="font12NLH16Green" style="/*text-align:center;*/margin-top:12%;font-family: Arial;font-size: 12px;" id="divCell3" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-13%;*/"><strong>CUR:<span style="float:right;font-weight:normal;">$' + TwoDecimalFunc(prd_CurrentlastWeekPrice) + '</span></strong></div><div style="color:#3b3b3b;text-decoration:none;/*margin-left:-18%;*/"><strong>LW:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_lastWeekPrice) + '</span></div></a><div style="border-bottom:1px solid #AAA"></div><div style="/*margin-top: -24%;margin-left: 25%;*/float:right;">+$' + TwoDecimalFunc(Math.abs(diffCurLastWkPrice)) + '</div><br/><span title="Market Change"><strong>MKT:</strong></span><div style="/*margin-top: -24%;margin-left: 25%;*/float:right;">' + prd_marketChangeforUI + '</div>';
                            
                        } //Phani SSDR23-43 END  updated the below code to Populate Market Change on the UI
                        cell.style.width = "115px";
                    } else if (j == 4) // Pricing
                    {
                        if (prd_Sell == undefined || prd_Sell == null || !prd_Sell) {
                            prd_Sell = 0.00;
                        }
                        if (prd_List == undefined || prd_List == null || !prd_List) {
                            prd_List = 0.00;
                        }
                        if (prd_Floor == undefined || prd_Floor == null || !prd_Floor) {
                            prd_Floor = 0.00;
                        }
                        if (prd_TGT == undefined || prd_TGT == null || !prd_TGT) {
                            prd_TGT = 0.00;
                        }
                        if (prd_MAX == undefined || prd_MAX == null || !prd_MAX) {
                            prd_MAX = 0.00;
                        }
                        if (prd_COM == undefined || prd_COM == null || !prd_COM) {
                            prd_COM = 0.00;
                        }

                        if (!displayMTX) //if(prd_LocallyPricedIndicator == true)
                        {
                            cell.innerHTML = '<div class="font12NLH16Green" style="/*text-align:center;*/margin-top:12%;font-size:12px;font-family:Arial;" id="divCell4" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="color:#3b3b3b;text-decoration:none;"><strong>TGT:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_Sell) + '</span></div><div style="color:#3b3b3b;text-decoration:none;"><strong>MAX:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_List) + '</span></div></a><div style="border-bottom:1px solid #AAA"></div><div style="margin-top: 2%;color:#3b3b3b;"><span><strong>COM:</strong></span><span style="float:right;">$' + TwoDecimalFunc(prd_COM /*prd_Floor*/ ) + '</span></div></div>';
                            cell.style.width = "115px";
                        } else {
                            cell.innerHTML = '<div class="font12NLH16Green" style="/*text-align:center;*/margin-top:12%;font-size:12px;font-family:Arial;" id="divCell4" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;"><div style="color:#3b3b3b;text-decoration:none;"><strong>TGT:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_TGT) + '</span></div><div style="color:#3b3b3b;text-decoration:none;"><strong>MAX:</strong><span style="float:right;">$' + TwoDecimalFunc(prd_MAX) + '</span></div></a><div style="border-bottom:1px solid #AAA"></div><div style="margin-top: 2%;color:#3b3b3b;"><span><strong>COM:</strong></span><span style="float:right;">$' + TwoDecimalFunc(prd_COM) + '</span></div></div>';
                            cell.style.width = "115px";
                        }

                    } else if (j == 5) // CPR
                    {

                        if (prdData.hasError != '' || prd_cprSetUpIndcatr == 'false' || (passengercprIndicator == 'Y')) // disable CPR Field
                        {
                            /* Commented out logic which enables CPR field if "Driver CPRs" is selected for Group By. This logic was descoped from R1.6
                               var vSelGroupByVal = document.getElementById("idSelGrouptBy").value;
                               if(vSelGroupByVal == 'Driver CPRs')
                               {
                               cell.innerHTML = '<div class="font12NLH16" style="text-align:center;padding-top:22px;" id="divCell5" onClick="mappingPrd(\''+prd_Id+'\');changeColor(\''+row.id+'\');"> <input type="text" name="currency" tabindex="'+tabOrderCounter+'" onfocus="mappingPrd(\''+prd_Id+'\');changeColor(\''+row.id+'\');" value="'+convertToCurrency(prd_CPR)+'" id="idCPR'+prd_Id+'" onchange="autosaveCPRFieldValue(\''+prd_Id+'\',this.value);  return false;" style="text-align:center; line-height:20px;height:20pt;vertical-align:middle;width:100%;min-width:22px;" /></div>' ;
                               }
                               else
                               {*/
                            cell.innerHTML = '<div class="font12NLH16" style="text-align:center;padding-top:22px;" id="divCell5" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581"> <input type="text" name="currency" disabled="disabled"  id="idCPR' + prd_Id + '" return false;" style="text-align:center; line-height:20px;height:20pt;vertical-align:middle;width:100%;min-width:22px;" /></div>';
                            //}

                            cell.style.width = "90px";
                        } else { // enable CPR field
                            cell.innerHTML = '<div class="font12NLH16" style="text-align:center;padding-top:22px;" id="divCell5" onClick=""> <input type="text" name="currency" onkeypress="" autocomplete="off" tabindex="' + tabOrderCounter + '" onfocus="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581" value="' + convertToCurrency(prd_CPR) + '" id="idCPR' + prd_Id + '" onchange="autosaveCPRFieldValue(\'' + prd_Id + '\',this.value);  return false;" style="text-align:center; line-height:20px;height:20pt;vertical-align:middle;width:100%;min-width:22px;" /></div>';
                            cell.style.width = "90px";
                        }

                    } else if (j == 6) // GPD/ GP%
                    {
                        //   cell.innerHTML = '<div class="font12NLH16" style="text-align:center;padding-top:22px;" id="divCell6" onClick="mappingPrd(\''+prd_Id+'\');changeColor(\''+row.id+'\');"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="float:left;margin-top:5%;"></div><span style="color:black;text-decoration:none;margin-left:-1%;">$'+TwoDecimalFunc(prd_GPD) +'<span></a><div style="border-bottom:1px solid #cfd0d2"></div><div style="margin-top: 2%;margin-left: 2%;">'+TwoDecimalFunc(prd_GP)+'%</div></div>';
                        if (prd_GPD == undefined || prd_GPD == null || !prd_GPD) {
                            prd_GPD = 0.00;
                        }
                        if (prd_GP == undefined || prd_GP == null || !prd_GP) {
                            prd_GP = 0.00;
                        }

                        if (prd_GPD >= 0) {
                            cell.innerHTML = '<div class="font12NLH16" style="text-align:center;padding-top:22px;" id="divCell6" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="float:left;margin-top:5%;"></div><span style="color:black;text-decoration:none;margin-left:-1%;">$' + TwoDecimalFunc(prd_GPD) + '<span></a><div style="border-bottom:1px solid #cfd0d2"></div><div style="margin-top: 2%;margin-left: 2%;">' + TwoDecimalFunc(prd_GP) + '%</div></div>';
                        } else {
                            cell.innerHTML = '<div class="font12NLH16" style="text-align:center;padding-top:22px;" id="divCell6" onClick="mappingPrd(\'' + prd_Id + '\');changeColor(\'' + row.id + '\');captureWeeklyViewDate_Fun(\'' + row.id + '\');//added for story SSDR23-1581"><a href="javascript://" style="color:#C1C1C1;text-decoration:none;" ><div style="float:left;margin-top:5%;"></div><span style="color:black;text-decoration:none;margin-left:-1%;">($' + TwoDecimalFunc(Math.abs(prd_GPD)) + ')<span></a><div style="border-bottom:1px solid #cfd0d2"></div><div style="margin-top: 2%;margin-left: 2%;">' + TwoDecimalFunc(prd_GP) + '%</div></div>';
                        }
                        cell.style.width = "70px";
                    }
                    if (prd_isReviewed) {
                        document.getElementById(row.id).className = 'reviewed';
                    } else {
                        document.getElementById(row.id).className = 'unreviewed';
                    }

                }
            }

            /**
             * Function Name : displayInformationMessage
             * Arguments: String informMessage, Boolean append
             * Description: Display all information messages in HeaderLevel (will limit characters to 255)
             */
            function displayInformationMessage(informMessage, append) {

                if (informMessage != undefined && informMessage.length >= 255) { //added a condition to handle when error message is not undefined
                    informMessage = informMessage.substring(0, 255);
                    informMessage += '...'
                } else { // else is for handling informMessages within 255 characters.
                    informMessage = informMessage;
                }
                var vDivInforHeader = document.getElementById("idAllErrorMsgs");
                var divInformation = document.createElement("div");
                divInformation.className = "idInformValue";
                if (append) {
                    divInformation.innerHTML = '<div><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/info-white-24.png')}" width="15" height="15" /></div> ' + '<div style="margin-left:19px;margin-top:-17px;">' + informMessage + '</div>';
                } else {
                    document.getElementById("idAllErrorMsgs").innerHTML = "";
                    divInformation.innerHTML = '<div><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/info-white-24.png')}" width="15" height="15" /></div> ' + '<div style="margin-left:19px;margin-top:-17px;">' + informMessage + '</div>';
                }
                vDivInforHeader.appendChild(divInformation);
            }

            /**
             * Function Name : displayInformationMessage
             * Arguments: String informMessage, Boolean append
             * Description: Display all error messages in HeaderLevel (will limit characters to 255)
             */
            function displayHeaderErrorMessage(errorMessage, append) {
                var errorMessageWithoutHTML = '';
                if (errorMessage != undefined) {
                    errorMessageWithoutHTML = errorMessage.replace(/<\/?[^>]+(>|$)/g, '');
                }

                if (errorMessage != undefined && errorMessageWithoutHTML.length >= 255) { //added a condition to handle when error message is not undefined
                    errorMessage = errorMessage.substring(0, 255);
                    errorMessage += '...'
                } else { // else is for handling errormessages within 255 characters.
                    errorMessage = errorMessage;
                }

                var vDivErrHeader = document.getElementById("idAllErrorMsgs");
                var divErr = document.createElement("div");
                divErr.className = "idErrValue";
                if (append) {
                    divErr.innerHTML = '<img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/alert-white-24.png')}" width="15" height="15" style="padding-left:10px;"/> ' + '<div style="margin-left:35px;margin-top:-17px;">' + errorMessage + '</div>';
                } else {
                    document.getElementById("idAllErrorMsgs").innerHTML = "";
                    divErr.innerHTML = '<img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/alert-white-24.png')}" width="15" height="15" style="padding-left:10px;"/> ' + '<div style="margin-left:35px;margin-top:-17px;">' + errorMessage + '</div>';
                }
                vDivErrHeader.appendChild(divErr);
            }

            /**
             * Function Name : DecodeEntities
             * Arguments: String s
             * Description: This is used to format to strings.
             */
            function DecodeEntities(s) {
                return $("<div/>").html(s).text();
            }

            /**
             * Function Name : convertToCurrency
             * Arguments: Integer
             * Description: This is used to convert a number to two digit number.
             */
            function convertToCurrency(value) { if ($.isNumeric(value)) {
                    
                    var valueNum = TwoDecimalFunc(value);
                    if (valueNum < 0) {
                        return "($" + Math.abs(valueNum).toFixed(2) + ')';
                    }
            
                    return "$" + valueNum;
                }
                return value;
            }

            /**
             * Function Name : TwoDecimalFunc
             * Arguments: Integer
             * Description: This Function is called in convertToCurrency Function.
             */
            function TwoDecimalFunc(val) {
                return parseFloat(val * 100 / 100).toFixed(2);
            }
            function isNumberKey(evt)
            {
                var charCode = (evt.which) ? evt.which : evt.keyCode;
                if (charCode != 46 &&charCode != 36 && charCode > 31 && (charCode < 48 || charCode > 57))
                    return false;
                
                return true;
            }

            var arrayLast4buyTrans;

            /**
             * Function Name : rightSideMapping
             * Arguments: PRDdata
             * Description: This Function is used to copy of selected Product to right side table.
             */
            function rightSideMapping(prdData) {

                //console.log('rightSideMapping');
                //console.log(prdData);

                if (!prdData.isreviewedPrd) {
                    VFC_PricingEnquiry.reviewedUnreviewdPrdFieldValue(prdData.prdNumber, prdData.cwsId, function(result, event) {
                        if (event.status) {
                            prdData.isreviewedPrd = true;
                        }
                    });
                }

                arrayLast4buyTrans = [];
                CleanUpLastFourBuyTable();

                var url = "https://media.usfood.com/1";
                if (prdData.imageLink != undefined || prdData.imageLink != null) {
                    if (prdData.imageLink.match(/\.(jpeg|jpg|gif|png)/) != null) {
                        document.getElementById('imageLinkId').innerHTML = "<img src='" + url + prdData.imageLink + "\' width='100%' height='100%' border='0' alt='No Image' />";
                    } else {
                        document.getElementById('imageLinkId').innerHTML = "<img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/No Image.png')}' width='100%' height='100%' border='0' alt='No Image' />";
                    }
                } else {
                    document.getElementById('imageLinkId').innerHTML = "<img src='{!$Resource.NoProductImage}' width='100%' height='100%' border='0' alt='No Image' />";
                }

                // Header
                document.getElementById("divTanName").innerHTML = DecodeEntities(DecodeEntities(prdData.tandemName));
                document.getElementById("divProdDesc").innerHTML = DecodeEntities(DecodeEntities(prdData.prdDescription));
                document.getElementById("divPrdNumb").innerHTML = '#' + prdData.prdNumber;
                document.getElementById("divBrand").innerHTML = DecodeEntities(DecodeEntities(prdData.brandName));
                if (prdData.packsize == null || prdData.packsize == undefined || !prdData.packsize) {
                    document.getElementById("divPackSiz").innerHTML = '';
                } else {
                    document.getElementById("divPackSiz").innerHTML = prdData.packsize;
                }

                var displayMTX = false;
                if (prdData.cookbookProductIndicator && (prdData.cookbookIndicator || prdData.ccpPlusIndicator)) {
                    displayMTX = true;
                }

                // logic to determine if min, tar, max is used instead of floor, sell list - shifted above [Deepanshu Soni: SSCD-207]
                //Code added to display a green check, starts [Deepanshu Soni:SSCD-207]
                let isGreenCheck = false;
                if(prdData.locallyPricedIndicator!=undefined && prdData.locallyPricedIndicator == false){
                    if (!displayMTX) {
                        if (
                            prdData.currentPrice != undefined &&
                            prdData.currentPrice != null &&
                            prdData.currentPrice != 0 &&
                            prdData.sellAmount != undefined &&
                            prdData.sellAmount != null &&
                            prdData.ceilingAmount  != undefined &&
                            prdData.ceilingAmount  != null &&
                            TwoDecimalFunc(prdData.currentPrice)*10 >= TwoDecimalFunc(prdData.sellAmount)*10
                        ) {
                            isGreenCheck = true;
                        }
                    } else {
                        if (
                            prdData.currentPrice != undefined &&
                            prdData.currentPrice != null &&
                            prdData.currentPrice != 0 &&
                            prdData.target != undefined &&
                            prdData.target != null &&
                            prdData.max != undefined &&
                            prdData.max != null &&
                            TwoDecimalFunc(prdData.currentPrice)*10 >= TwoDecimalFunc(prdData.target)*10
                        ) {
                            isGreenCheck = true;
                        }
                    }
                }
                /*Code added to display a green check, ends [Deepanshu Soni:SSCD-207]*/

                // ***PRODUCT ITEM STATUS INDICATOR LOGIC***
                document.getElementById("idGreenTick").innerHTML = ''; //added by Deepanshu for SSCD-207 - Greentick ////commented until further clarification
                document.getElementById("idSom").innerHTML = '';
                document.getElementById("idDWO").innerHTML = '';
                document.getElementById("idDISC").innerHTML = '';
                document.getElementById("idBREAKABLE").innerHTML = '';
                document.getElementById("idJIT").innerHTML = '';
                document.getElementById("idVS").innerHTML = '';
                document.getElementById('idScoop').innerHTML = "";
                document.getElementById('idPriceLocallyIndicator').innerHTML = "";
                if (prdData.somFlag == true) {
                    // document.getElementById("idSom").innerHTML = "<img src='{!$Resource.SpecialOrder}'  width='6%' height='100%' border='0' alt='No Image' />";
                    document.getElementById("idSom").innerHTML = "<span class ='imgWrap'><img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/special-order-24.png')}'  width='24' height='24' border='0' alt='No Image'/> <span class='imgDescription'>Special Order</span></span>";
                }
                if (prdData.dwoFlag == true) {
                    // document.getElementById("idDWO").innerHTML = "<img src='{!$Resource.DWO}' width='6%' height='100%' border='0' alt='No Image' />";
                    document.getElementById("idDWO").innerHTML = "<span class ='imgWrap'><img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/dwo-24.png')}' width='24' height='24' border='0' alt='No Image' /><span class='imgDescription'>Discontinued When Out</span></span>";
                }
                if (prdData.discontinuedFlag == true) {
                    // document.getElementById("idDISC").innerHTML = "<img src='{!$Resource.Discontinued}' width='6%' height='100%' border='0' alt='No Image' />";
                    document.getElementById("idDISC").innerHTML = "<span class ='imgWrap'><img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/discontinued-24.png')}' width='24' height='24' border='0' alt='No Image' /><span class='imgDescription'>Discontinued</span></span>";
                }
                if (prdData.breakableFlag == true) {
                    // document.getElementById("idBREAKABLE").innerHTML = "<img src='{!$Resource.Breakable}' width='6%' height='100%' border='0' alt='No Image' />";
                    document.getElementById("idBREAKABLE").innerHTML = "<span class ='imgWrap'><img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/breakable-24.png')}' width='24' height='24' border='0' alt='No Image' /><span class='imgDescription'>Breakable</span></span>";
                }
                if (prdData.jitFlag == true) {
                    //document.getElementById("idJIT").innerHTML = "<img src='{!$Resource.JustInTime}' width='6%' height='100%' border='0' alt='No Image' />";
                    document.getElementById("idJIT").innerHTML = "<span class ='imgWrap'><img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/just-in-time-24.png')}' width='24' height='24' border='0' alt='No Image' /><span class='imgDescription'>Just In Time</span></span>";
                }
                if (prdData.vsFlag == true) {
                    // document.getElementById("idVS").innerHTML = "<img src='{!$Resource.VendorShip}' width='6%' height='100%' border='0' alt='No Image' />";
                    document.getElementById("idVS").innerHTML = "<span class ='imgWrap'><img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/vendor-shipped-24.png')}' width='24' height='24' border='0' alt='No Image' /><span class='imgDescription'>Vendor Shipped</span></span>";
                }


                /*Code added to display a green check, starts [Deepanshu Soni:SSCD-207]*/ //commented until further clarification
                if(isGreenCheck && !prdData.locallyPricedIndicator)
                {
                  document.getElementById("idGreenTick").innerHTML = "<span class ='imgWrap'><img src='{!URLFOR($Resource.greenCheckmark)}' width='24' height='24' border='0' alt='No Image' /><span class='imgDescription'>Product priced as Target or above</span></span>";
                }
                /*Code added to display a green check, ends [Deepanshu Soni:SSCD-207]*/



                if (prdData.scoopIndicator == '1' || prdData.scoopIndicator == '2') {
                    //   document.getElementById('idScoop').innerHTML="<img src='{!$Resource.Scoop}' width='17%' height='100%' border='0' alt='No Image' />";
                    document.getElementById('idScoop').innerHTML = "<span class ='imgWrap'><img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/scoop-24.png')}'  width='24' height='24' border='0' alt='No Image' /><span class='imgDescription'>Scoop Product</span></span>";
                }
                if (prdData.locallyPricedIndicator == true) {
                    //  document.getElementById('idPriceLocallyIndicator').innerHTML="<img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/locally-priced-32.png')}' width='3%' height='100%' />";
                    document.getElementById('idPriceLocallyIndicator').innerHTML = "<span class ='imgWrap'><img src='{!URLFOR($Resource.PricingUI, '/PricingUI/icons/locally-priced-24.png')}' width='24' height='24' /><span class='imgDescription'>Locally Priced</span></span>";
                }

                if (prdData.currentPrice == null || prdData.currentPrice == undefined || !prdData.currentPrice) {
                    document.getElementById("spCurPrc").innerHTML = '$' + TwoDecimalFunc(0.00);
                } else {
                    document.getElementById("spCurPrc").innerHTML = '$' + TwoDecimalFunc(prdData.currentPrice);
                }


                // Min/Target/Max section
                //if(prdData.Locally_Priced_Indicator__c == true){
                if (!displayMTX) { // display floor/sell/list
                    if (prdData.floorAmount != null || prdData.floorAmount != undefined || prdData.floorAmount) {
                        document.getElementById("spMin").innerHTML = '$' + parseFloat(prdData.floorAmount).toFixed(2);
                    } else {
                        document.getElementById("spMin").innerHTML = '$' + TwoDecimalFunc(0.00);
                    }

                    if (prdData.sellAmount != null || prdData.sellAmount != undefined || prdData.sellAmount) {
                        document.getElementById("spTarg").innerHTML = '$' + parseFloat(prdData.sellAmount).toFixed(2);
                    } else {
                        document.getElementById("spTarg").innerHTML = '$' + TwoDecimalFunc(0.00);
                    }

                    if (prdData.ceilingAmount != null || prdData.ceilingAmount != undefined || prdData.ceilingAmount) {
                        document.getElementById("spMax").innerHTML = '$' + parseFloat(prdData.ceilingAmount).toFixed(2);
                    } else {
                        document.getElementById("spMax").innerHTML = '$' + TwoDecimalFunc(0.00);
                    }
                } else { // display min/target/max
                    if (prdData.min != null || prdData.min != undefined || prdData.min) {
                        document.getElementById("spMin").innerHTML = '$' + parseFloat(prdData.min).toFixed(2);
                    } else {
                        document.getElementById("spMin").innerHTML = '$' + TwoDecimalFunc(0.00);
                    }
                    if (prdData.target != null || prdData.target != undefined || prdData.target) {
                        document.getElementById("spTarg").innerHTML = '$' + parseFloat(prdData.target).toFixed(2);
                    } else {
                        document.getElementById("spTarg").innerHTML = '$' + TwoDecimalFunc(0.00);
                    }

                    if (prdData.max != null || prdData.max != undefined || prdData.max) {
                        document.getElementById("spMax").innerHTML = '$' + parseFloat(prdData.max).toFixed(2);
                    } else {
                        document.getElementById("spMax").innerHTML = '$' + TwoDecimalFunc(0.00);
                    }
                }


                //product detail section

                if (prdData.comPrice == null || prdData.comPrice == undefined) { // COM
                    document.getElementById("spCOM").innerHTML = '$' + TwoDecimalFunc(0.00);
                } else {
                    document.getElementById("spCOM").innerHTML = '$' + TwoDecimalFunc(prdData.comPrice);
                }
                if (prdData.rationale == null || prdData.rationale == undefined) { // Rationale
                    document.getElementById("spRationale").innerHTML = '';
                } else {
                    document.getElementById("spRationale").innerHTML = prdData.rationale;
                }

                if (prdData.grossProfitDollars == undefined || prdData.grossProfitDollars == null || !prdData.grossProfitDollars) { // GPD
                    document.getElementById("spGPD").innerHTML = '$' + TwoDecimalFunc(0.00);
                } else {
                    document.getElementById("spGPD").innerHTML = convertToCurrency(prdData.grossProfitDollars);
                }

                /*Added by ADUA for SSCD-290*/
                if (prdData.cprAdjustedDate == undefined || prdData.cprAdjustedDate == null || prdData.cprAdjustedDate == '') { // CPR Adjusted Date
                    document.getElementById("cprAdjustedDate").innerHTML = "";
                } else {
                    document.getElementById("cprAdjustedDate").innerHTML = prdData.cprAdjustedDate;
                }

                if (prdData.breakSurgeAmount == null || prdData.breakSurgeAmount == undefined || !prdData.breakSurgeAmount) { // Break Surcharge
                    document.getElementById("spBrkSurchrge").innerHTML = '';
                } else {
                    if (prdData.eachMarkupType == '$') {
                        document.getElementById("spBrkSurchrge").innerHTML = convertToCurrency(prdData.breakSurgeAmount);
                    } else {
                        document.getElementById("spBrkSurchrge").innerHTML = TwoDecimalFunc(prdData.breakSurgeAmount) + prdData.eachMarkupType;
                    }
                }

                if (prdData.eachPrice == undefined || prdData.eachPrice == null || !prdData.eachPrice) { // Each Price
                    document.getElementById("spEachPrice").innerHTML = '$' + TwoDecimalFunc(0.00);
                } else {
                    document.getElementById("spEachPrice").innerHTML = '$' + TwoDecimalFunc(prdData.eachPrice);
                }

                if (prdData.lastWeekPrice == undefined || prdData.lastWeekPrice == null || !prdData.lastWeekPrice) { // Last Week Price
                    document.getElementById("spLastWkPrice").innerHTML = '$' + TwoDecimalFunc(0.00);
                } else {
                    document.getElementById("spLastWkPrice").innerHTML = '$' + TwoDecimalFunc(prdData.lastWeekPrice);
                }

                //Last Week Date
                document.getElementById("spLastWkPriceDate").innerHTML = prdData.lastWeekPriceDate.substring(4, 6) + "/" + prdData.lastWeekPriceDate.substring(6, 8) + "/" + prdData.lastWeekPriceDate.substring(0, 4);

                if (prdData.cbaNumber == undefined || prdData.cbaNumber == null || prdData.cbaNumber == 0 || !prdData.cbaNumber) { // CBA Number
                    document.getElementById("spCBANumber").innerHTML = "";
                } else {
                    document.getElementById("spCBANumber").innerHTML = prdData.cbaNumber;
                }

                if (prdData.cbaAdjustmentAmount == undefined || prdData.cbaAdjustmentAmount == null || prdData.cbaAdjustmentAmount == 0 || !prdData.cbaAdjustmentAmount) { // CBA Amount
                    document.getElementById("spCBAAmount").innerHTML = "";
                } else {
                    document.getElementById("spCBAAmount").innerHTML = convertToCurrency(prdData.cbaAdjustmentAmount);
                }

                if (prdData.cbaEndDate == undefined || prdData.cbaEndDate == null || prdData.cbaEndDate == 0 || !prdData.cbaEndDate) { // CBA End Date
                    document.getElementById("spCBAEndDate").innerHTML = '';
                } else {
                    document.getElementById("spCBAEndDate").innerHTML = SubstringDateFunc(prdData.cbaEndDate);
                }


                if ((prdData.passengerCPRIndicator == 'Y') && (prdData.passengerCPRIndicator != undefined || prdData.passengerCPRIndicator != null)) {

                    if (prdData.driverInformation != undefined || prdData.driverInformation != null) {
                        document.getElementById("driverInformation").innerHTML = prdData.driverInformation;
                    } else {
                        document.getElementById("driverInformation").innerHTML = ' ';
                    }
                } else {
                    document.getElementById("driverInformation").innerHTML = ' ';
                }   

                document.getElementById("passengerIndicator").innerHTML = prdData.passengerCPRIndicator;


                for (var i = 0;
                    (i < prdData.last4BuyWrapList.length) && (i < 4); i++) {
                    //last4BuyRow(prdData.last4BuyWrapList[i]);
                    arrayLast4buyTrans.push(prdData.last4BuyWrapList[i]);
                    //var last_INV_DATE__c= prdData.last4BuyWrapList[i].invoiceDate.substring(4,6)+"/"+prdData.last4BuyWrapList[i].invoiceDate.substring(6,8)+"/"+prdData.last4BuyWrapList[i].invoiceDate.substring(0,4);
                    var last_INV_DATE__c = SubstringDateFunc(prdData.last4BuyWrapList[i].invoiceDate);
                    var last_INVOICE__c = prdData.last4BuyWrapList[i].invoiceNumber;
                    var last_MTHD__c;
                    var last_DEPT__c;
                    if (prdData.last4BuyDept == null) {
                        last_DEPT__c = '';
                    } else {
                        last_DEPT__c = prdData.last4BuyDept;
                    }


                    if (prdData.last4BuyWrapList[i].priceMethod == null) {
                        last_MTHD__c = '';
                    } else {
                        /* SV : R 1.6.1 1823- Added Abbreviation for price Function. */
                        last_MTHD__c = prdData.last4BuyWrapList[i].priceMethod;
                        if (last_MTHD__c == '1') {
                            last_MTHD__c = 'OVR';
                        } else if (last_MTHD__c == '2') {
                            last_MTHD__c = 'eBKT';
                        } else if (last_MTHD__c == '3') {
                            last_MTHD__c = 'CON';
                        } else if (last_MTHD__c == '4') {
                            last_MTHD__c = 'CPR';
                        } else if (last_MTHD__c == '5') {
                            last_MTHD__c = 'BKT';
                        } else if (last_MTHD__c == '6') {
                            last_MTHD__c = 'LST';
                        } else if (last_MTHD__c == '7') {
                            last_MTHD__c = 'sBKT';
                        } else if (last_MTHD__c == '8') {
                            last_MTHD__c = 'FS';
                        }
                        // else - last_MTHD__c abreviation mapping not defined, display number value as-is

                    }

                    var last_PRICE__c = convertToCurrency(prdData.last4BuyWrapList[i].price);
                    var last_QTY__c = prdData.last4BuyWrapList[i].quantity;
                    var last_WWP__c = prdData.last4BuyWrapList[i].weeksWithoutPurchase;
                    var table = document.getElementById("idLastFourBuys");
                    var row = table.insertRow(-1);
                    for (var j = 0; j < 7; j++) {
                        /* Code changed by Avinash for user story SSDR23-1579 START */
                        var cell = row.insertCell(-1);
                        if (j == 0) {
                            cell.innerHTML = '<div class="last4buyvalues" style="text-align:center;" id="dCell0">' + last_INVOICE__c + '</div>';
                        } else if (j == 1) {
                            cell.innerHTML = '<div class="last4buyvalues" style="text-align:center;" id="dCell1">' + last_INV_DATE__c + '</div>';
                        } else if (j == 2) {
                            cell.innerHTML = '<div class="last4buyvalues" style="text-align:center;" id="dCell2">' + last_WWP__c + '</div>';
                        } else if (j == 3) {
                            cell.innerHTML = '<div class="last4buyvalues" style="text-align:center;" id="dCell3">' + last_PRICE__c + '</div>';
                        } else if (j == 4) {
                            cell.innerHTML = '<div class="last4buyvalues" style="text-align:center;" id="dCell4">' + last_QTY__c + '</div>';
                        } else if (j == 5) {
                            cell.innerHTML = '<div class="last4buyvalues" style="text-align:center;" id="dCell5">' + last_MTHD__c + '</div>';
                        } else if (j == 6) {
                            cell.innerHTML = '<div class="last4buyvalues" style="text-align:center;width:110%" id="dCell6">' + last_DEPT__c + '</div>';
                        }
                        /* Code changed by Avinash for user story SSDR23-1579 END */
                    }
                }

                /*Added by ADUA for SSCD-473 -starts*/               
                document.getElementById("caseQtyAvl").innerHTML = '';
                document.getElementById("eachQtyAvl").innerHTML = '';
                var errStringProductWS = 'Quantity values are not available for product '+ prdData.prdNumber;
                VFC_PricingEnquiry.GetProductInventoryDetail(prdData.divisionNumber, prdData.prdNumber, function(result, event) {
                    if (event.status) {
                        if(result != undefined){
                            if(!result.hasBusinessError){
                                console.log('####CaseQtyAvl : '+result.allCWSProducts[0].caseQtyAvl+' for ProdNum: '+prdData.Product_Number__c);
                                document.getElementById("caseQtyAvl").innerHTML = result.allCWSProducts[0].caseQtyAvl;
                                document.getElementById("eachQtyAvl").innerHTML = result.allCWSProducts[0].eachQtyAvl;
                            }
                            else{ //response has error
                                //displayHeaderErrorMessage(result.businessErrorMessages[0], true);
                                document.getElementById("caseQtyAvl").innerHTML = 'N/A';
                                document.getElementById("eachQtyAvl").innerHTML = 'N/A';
                            }
                        }
                        else{ //response is null
                            //displayHeaderErrorMessage(errStringProductWS, true);
                            document.getElementById("caseQtyAvl").innerHTML = 'N/A';
                            document.getElementById("eachQtyAvl").innerHTML = 'N/A';
                        }
                    }
                    else{ //response failed
                        console.log('####Response failed for ProdNum: '+prdData.Product_Number__c);
                        //displayHeaderErrorMessage(errStringProductWS, true);
                        document.getElementById("caseQtyAvl").innerHTML = 'N/A';
                        document.getElementById("eachQtyAvl").innerHTML = 'N/A';
                    }
                });
                /*Added by ADUA for SSCD-473 -ends*/


                google.charts.load('current', {
                    'packages': ['corechart']
                });
                google.charts.setOnLoadCallback(drawChart);

            }

            var chart;
            var vDataTable;
            /**
             * Function Name : drawChart
             * Arguments: NA
             * Description: This Function is used to create chart in right side table in the section "Last 4 buys Graph".
             */
            function drawChart() {

                var dataArray = new Array();

                if (arrayLast4buyTrans == null || arrayLast4buyTrans == undefined || !arrayLast4buyTrans) {
                    $("#chart_div").text("No Last 4 Buy transactions are available for this product.").css("color", "red");

                } else {
                    for (var i = 0; i < arrayLast4buyTrans.length; i++) {
                        var vLastPrice = arrayLast4buyTrans[i].price;
                        var vLastInvoiceDate = arrayLast4buyTrans[i].invoiceDate.substring(4, 6) + "/" + arrayLast4buyTrans[i].invoiceDate.substring(6, 8) + "/" + arrayLast4buyTrans[i].invoiceDate.substring(0, 4);
                        dataArray.push([vLastInvoiceDate, vLastPrice]);
                    }
                    dataArray.reverse();
                    vDataTable = new google.visualization.DataTable();
                    if (dataArray.length != 0) {
                        vDataTable.addColumn('string', 'Date');
                        vDataTable.addColumn('number', 'Price');
                        for (var i = 0; i < dataArray.length; i++) {
                            vDataTable.addRow([String(dataArray[i][0]), parseFloat(dataArray[i][1])]);
                        }
                        options = {
                            title: 'Last 4 Buy ',
                            pointSize: 8,
                            hAxis: {
                                title: 'Date',
                                titleTextStyle: {
                                    color: 'red'
                                }
                            },
                            vAxis: {
                                title: 'Price',
                                titleTextStyle: {
                                    color: 'red'
                                }
                            }
                        };
                        chart = new google.visualization.LineChart(document.getElementById('chart_div'));
                        chart.draw(vDataTable, options);
                    } else {
                        $("#chart_div").text("No Last 4 Buy transactions are available for this product.").css("color", "red");
                    }
                }
            }
            drawChart();


            function prdtabs(evt, tabs) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("tabcontent");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }
                tablinks = document.getElementsByClassName("tablinks");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }
                document.getElementById(tabs).style.display = "block";
                evt.currentTarget.className += " active";

            }

            /**
             * Function Name : CleanUpTable
             * Arguments: NA
             * Description: This Function is used to clean up the table.
             */
            function CleanUpTable() {
                var table = document.getElementById("tblProducts");
                var rowCount = table.rows.length;
                arrayListProds = [];

                if (rowCount <= 0) {
                    return;
                }
                for (var i = rowCount - 1; i >= 0; i--) {
                    table.deleteRow(i);
                }
            }


            /**
             * Function Name : CleanUpTable
             * Arguments: NA
             * Description: This Function is used to convert entity to strings.
             */
            function DecodeEntitiesFunc(val) {
                return $("<div/>").html(val).text();
            }

            /**
             * Function Name : SubstringDateFunc
             * Arguments: NA
             * Description: This function is used to change the US date format MM/DD/YYYY.
             */
            function SubstringDateFunc(timestamp) {
                if (timestamp == undefined) {
                    return '';
                } else if (timestamp == 0) {
                    if (timestamp != undefined)
                        return '';
                } else if (timestamp.length == 8) {
                    if (timestamp != undefined)
                        return timestamp.substr(4, 2) + '/' + timestamp.substr(6, 2) + '/' + timestamp.substr(0, 4);
                } else {
                    var a = new Date(timestamp);
                    var year = a.getUTCFullYear();
                    var month = a.getUTCMonth() + 1;
                    var day = a.getUTCDate();

                    if (day < 10) {
                        day = '0' + day
                    }
                    if (month < 10) {
                        month = '0' + month
                    }

                    return (month + '/' + day + '/' + year);
                }
            }

            var vSetColor;
            var vRemoveColor;
            var cprUpdateInProgress = false;
            /**
             * Function Name : updatePrdCPRValues
             * Arguments: NA
             * Description: This function is called when a user clicks on UpdateProductCPRs button for updating CPR value for single/multiple Products.
             */
            function updatePrdCPRValues() {
                var cprProductUpdateFailed = false;

                if (cprModified) { // action to update CPR value on Watch List record is in progress, queue up update product CPRs action once CPR value update is completed

                    updateCPRPending = true;
                } else if (cprUpdateInProgress == false) { // prevent user from clicking on "Update Product CPRs" multiple times
                    cprUpdateInProgress = true;
                    updateCPRPending = false;
                    CleanUpTable();
                    document.getElementById('load1').style.visibility = "visible";

                    var tempArrAllPrds = [];
                    var i = 0;

                    for (var j = 0; j < arrAllProducts.length; j++) {
                        if (arrAllProducts[j].cprSubmitStatus != undefined &&
                            arrAllProducts[j].cprSubmitStatus != '') {
                            tempArrAllPrds[i++] = arrAllProducts[j];
                        }
                    }

                    //console.log('tempArrAllPrds.length: ' + tempArrAllPrds.length);

                    //Calling the Remote Action Function "updateCPRforCWS"
                    VFC_PricingEnquiry.updateCPRforCWS(tempArrAllPrds, function(result, event) {

                        if (event.status) {
                            //noMoreProducts = result.moreDetInd; //SSCD-101//Commented by Nishank - SSCD-554
                            var cprUpdateProductsMap = [];
                            var cprUpdateProductLength = result.allCWSProducts.length;

                            //retreive all products with updated cpr values and assign to cprUpdateProductsMap
                            for (var j = 0; j < cprUpdateProductLength; j++) {
                                cprUpdateProductsMap[result.allCWSProducts[j].cwsId] = result.allCWSProducts[j];
                            }

                            // update arrAllProducts array products with CPR Update CWS details
                            for (var k = 0; k < arrAllProducts.length; k++) {
                                if (arrAllProducts[k].cwsId in cprUpdateProductsMap) {
                                    //console.log(arrAllProducts[k].cwsId + ' cwsId found in cprUpdateProductsMap');
                                    arrAllProducts[k] = cprUpdateProductsMap[arrAllProducts[k].cwsId];
                                }
                            }

                            //arrAllProducts = result.allCWSProducts;

                            //Adding arrAllProduct values to arrAllproductsMap after updating cpr value
                            for (var m = 0; m < cprUpdateProductLength; m++) {
                                var cwsProductWithCPRUpdate = result.allCWSProducts[m];

                                arrAllProductsMap[cwsProductWithCPRUpdate.cwsId] = cwsProductWithCPRUpdate;

                                if (cwsProductWithCPRUpdate.cprSubmitStatus == 'Failed' || cwsProductWithCPRUpdate.cprSubmitStatus == 'Invalid') {
                                    cprProductUpdateFailed = true;
                                }
                            }
                            /*for(var m=0; m<arrAllProducts.length; m++)
                            {
                               arrAllProductsMap[arrAllProducts[m].cwsId] = arrAllProducts[m];
                                if(arrAllProducts[m].cprSubmitStatus == 'Failed' || arrAllProducts[m].cprSubmitStatus == 'Invalid'){
                                    cprProductUpdateFailed = true;
                               }
                            }*/


                            if (result.cprUpdateFailed) {
                                var errorSet = result.businessErrorMessages;
                                var append = false;
                                for (var i = 0; i < errorSet.length; i++) {
                                    displayHeaderErrorMessage(errorSet[i], append);
                                    append = true;
                                }
                                if (cprProductUpdateFailed) {
                                    //Modified below line by - Veda Vyas
                                    $("#idSelFilterBy").prop("selectedIndex", 8); // Changed from 6 to 7 by  for Defect SSDR23-770
                                }
                            } else { // display a success message
                                displayInformationMessage('CPR updates processed successfully.', false);
                            }
                            //ComputeCookBookInRange(); //SSCD-101
                        } else { //remote action failed
                            displayHeaderErrorMessage(defaultErrorMessage, false);
                        }
                        document.getElementById('load1').style.visibility = "hidden";
                        //  $("#idSelFilterBy").prop("selectedIndex", 6);
                        FilterSortGroupByProductsFunc();
                        ComputeCookBookInRange(); //SSCD-101
                        cprUpdateInProgress = false;
                    });
                }
            }
            //Added by Phani for dct page open up
            //
            function NavigatingDCTPagFunc(){
                var url_safe_TM = "{!territoryMnId}";
                var acctId = document.getElementById("mntWatchList").value;
                console.log('acctId='+acctId);
                console.log('UserId='+url_safe_TM);            
                console.log('UITheme.getUITheme='+UITheme.getUITheme());               
                console.log(UITheme.getUITheme() === 'Theme4d');
                if(UITheme.getUITheme()==="Theme4d"){
                    url = "/one/one.app#/alohaRedirect/apex/VFP_DCTPAGE?acctId="+acctId+"&dptId=&UserId=" + url_safe_TM;
                }else{
                    url = "/apex/VFP_DCTPAGE?acctId="+acctId+"&dptId=&UserId=" + url_safe_TM;
                }
                window.location.replace(url,'_blank');//changes Phani we need to  replace same page in same tab loading 


               // navigateToURLFunc(url);
            }
            ///

            var cprValue;
            /**
             * Function Name : SetFunc
             * Arguments: NA
             * Description: This function is called when a user clicks any of the setMin,setMax, setTarget buttons in the right side table.
             */
            function SetFunc(item) {

                var setValue = document.getElementById(item).innerHTML;

                console.log('setValue: '+setValue);
                console.log('currPrdId: '+currPrdId);
                console.log(document.getElementById("idCPR" + currPrdId) );
                console.log( arrayListProds );
                console.log( $.inArray(currPrdId, arrayListProds) );

                if (document.getElementById("idCPR" + currPrdId).disabled == true) {
                    document.getElementById("idCPR" + currPrdId).value = ' ';
                } else {
                    if ($.inArray(currPrdId, arrayListProds) !== -1) {
                        var priceValue = setValue.split('$')[1];
                        var dd = parseFloat((priceValue * 100) / 100).toFixed(2);
                        document.getElementById("idCPR" + currPrdId).value = parseFloat((setValue.split('$')[1] * 100) / 100).toFixed(2);
                    } else {
                        if ('spMin' == item) {
                            document.getElementById("idCPR" + currPrdId).value = 'M';
                        } else if ('spTarg' == item) {
                            document.getElementById("idCPR" + currPrdId).value = 'T';
                        } else if ('spMax' == item) {
                            document.getElementById("idCPR" + currPrdId).value = 'X';
                        }

                    }
                    cprValue = document.getElementById("idCPR" + currPrdId).value;
                    autosaveCPRFieldValue(currPrdId, cprValue);
                }
            }
            /**
             * Function Name : addProdtoWatchList2
             * Arguments: ProductNumber
             * Description: This function is called when a user clicks on any of the products icon in first column and it is for adding the product in watchlist.
             */
            function addProdtoWatchList2(pdrNumber) {
                var prdData;
                for (var i = 0; i < arrAllProducts.length; i++) {
                    if (arrAllProducts[i].prdNumber == pdrNumber) {
                        prdData = arrAllProducts[i];
                        break;
                    }
                }
                var customerId = document.getElementById("mntWatchList").value;
                if (accountWLCount[customerId] < 25) {

                    console.log(pdrNumber);
                    console.log(prdData);
                    console.log(customerId);

                    VFC_PricingEnquiry.addtoWatchList2(prdData, customerId, function(result, event) {
                        var vPrdNo = pdrNumber;
                        if (event.status) {
                            //increment counter
                            accountWLCount[customerId] += 1;
                            //update customer drop down list counter
                            var customerWLCount = document.getElementById(customerId + 'wlCount');
                            //    console.log(accountWLCount[customerId]);
                            customerWLCount.textContent = accountWLCount[customerId] + '/25';


                            if (accountWLCount[customerId] >= 25) {
                                customerWLCount.style = "color:red";
                            }
                            var tanPRdNo = prdData.tandemNumber + prdData.prdNumber;
                            var wtlsticon = document.getElementById(prdData.cwsId);
                            wtlsticon.innerHTML = '<div class="font12NLH16Green" style="text-align:center;margin-top:18px;font-weight:bold;"><a href="#" class="theclass" style="cursor:pointer" onclick="remFromWatchList(\'' + prdData.prdNumber + '\'); return false;"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/watch-list-color-32.png')}" width="18" height="22" align="middle" /></a></div>';

                            if ((prdData.cwsId != undefined && prdData.cwsId != null) && (arrAllProductsMap[prdData.cwsId] != undefined && arrAllProductsMap[prdData.cwsId] != null))
                                arrAllProductsMap[prdData.cwsId].isWatLstPrd = true;


                        } else { //remote action failed

                            displayHeaderErrorMessage(defaultErrorMessage, false);
                        }
                    });
                    // $('.selectpicker').selectpicker('refresh');

                } else // watchlist count limit reached
                {
                    var tempTanName = document.getElementById('mntWatchList');
                    var tempSelTanName = tempTanName.options[tempTanName.selectedIndex];
                    var tempTanNameTxt = tempSelTanName.text;
                    var tempSplit = (tempTanNameTxt).split("(")[0];
                    var temp = tempTanNameTxt.match(tempSplit);
                    var tempError = "A Customer's Watch List is limited to 25 products. Please deselect/remove existing Watch List products to add new products.";
                    //"Your Products were not added to the Watch List. A customer's Watch List is limited to 25 products. "+temp+"'s"+" watch list currently contains " +accountWLCount[customerId]+ " products. Please deselect products or remove existing Watch List products to stay within the limit.";
                    displayHeaderErrorMessage(tempError, false);
                }

            }
        // changes for SSDR23-2065 START rishu//
        function closeCustomerMetrics(){
            $("#idCustomerMetrics").hide();
            $("#idPricingSectionRight").show();
        }
        // changes for SSDR23-2065 END//
        // changes for SSDR23-2056 START//
        function getCustomerMetrics() {
            $("#idPricingSectionRight").hide();
            $("#idCustomerMetrics").show();
            var accountId = document.getElementById("mntWatchList").value;
            document.getElementById('load').style.visibility = "visible";
            CustomerMetricDataHandler.getCustomerMetricsData(accountId,function(result,event){
                document.getElementById('load').style.visibility = "hidden";
                if(result.Id!=undefined){
                    alert('Got data!');
                    if(result.Route_Contribution_Week_last_weeks__c<0){
                        document.getElementById("routeContributionWeekValue").innerHTML = ("- $" + Math.abs(result.Route_Contribution_Week_last_weeks__c));
                    }
                    if(result.Route_Contribution_Week_last_weeks__c>0){
                        document.getElementById("routeContributionWeekValue").innerHTML = ("$" + Math.abs(result.Route_Contribution_Week_last_weeks__c));
                    }
                    document.getElementById("caseWeekValue").innerHTML = ((result.Cases_Week_last_weeks__c != undefined) ? (result.Cases_Week_last_weeks__c) : ("-"));
                    if(result.Route_Contribution_Case_last_weeks__c<0){
                        document.getElementById("routeContributionCaseValue").innerHTML = ("- $" + Math.abs(result.Route_Contribution_Case_last_weeks__c));
                    }
                    if(result.Route_Contribution_Case_last_weeks__c>0){
                        document.getElementById("routeContributionCaseValue").innerHTML = ("$" + Math.abs(result.Route_Contribution_Case_last_weeks__c));
                    }
                    document.getElementById("lineWeekValue").innerHTML = ((result.Lines_Week_last_weeks__c != undefined) ? (result.Lines_Week_last_weeks__c) : ("-"));
                    document.getElementById("dropsWeekValue").innerHTML = ((result.Drops_Week_last_weeks__c != undefined) ? (result.Drops_Week_last_weeks__c) : ("-"));
                    document.getElementById("ebPercentValue").innerHTML = ((result.EB_last_weeks__c != undefined) ? (result.EB_last_weeks__c +"%") : ("-"));
                    // changes for SSDR23-2099 START //
                    document.getElementById("DateOfWK1").innerHTML = ((result.Date_of_1_WK_AGO__c != undefined) ? ("WK of "+result.Date_of_1_WK_AGO__c) : ("-"));
                    document.getElementById("DateOfWK2").innerHTML = ((result.Date_of_2_WK_AGO__c != undefined) ? ("WK of "+result.Date_of_2_WK_AGO__c) : ("-"));
                    document.getElementById("DateOfWK3").innerHTML = ((result.Date_of_3_WK_AGO__c != undefined) ? ("WK of "+result.Date_of_3_WK_AGO__c) : ("-"));
                    document.getElementById("DateOfWK4").innerHTML = ((result.Date_of_4_WK_AGO__c != undefined) ? ("WK of "+result.Date_of_4_WK_AGO__c) : ("-"));
                    document.getElementById("routeContributionWeek1").innerHTML = ((result.Route_Contribution_Week_1_WK_AGO__c != undefined) ? ("$"+result.Route_Contribution_Week_1_WK_AGO__c) : ("-"));
                    document.getElementById("routeContributionWeek2").innerHTML = ((result.Route_Contribution_Week_2_WK_AGO__c != undefined) ? ("$"+result.Route_Contribution_Week_2_WK_AGO__c) : ("-"));
                    document.getElementById("routeContributionWeek3").innerHTML = ((result.Route_Contribution_Week_3_WK_AGO__c != undefined) ? ("$"+result.Route_Contribution_Week_3_WK_AGO__c) : ("-"));
                    document.getElementById("routeContributionWeek4").innerHTML = ((result.Route_Contribution_Week_4_WK_AGO__c != undefined) ? ("$"+result.Route_Contribution_Week_4_WK_AGO__c) : ("-"));
                    document.getElementById("caseWeek1").innerHTML = ((result.Cases_Week_1_WK_AGO__c != undefined) ? (result.Cases_Week_1_WK_AGO__c) : ("-"));
                    document.getElementById("caseWeek2").innerHTML = ((result.Cases_Week_2_WK_AGO__c != undefined) ? (result.Cases_Week_2_WK_AGO__c) : ("-"));
                    document.getElementById("caseWeek3").innerHTML = ((result.Cases_Week_3_WK_AGO__c != undefined) ? (result.Cases_Week_3_WK_AGO__c) : ("-"));
                    document.getElementById("caseWeek4").innerHTML = ((result.Cases_Week_4_WK_AGO__c != undefined) ? (result.Cases_Week_4_WK_AGO__c) : ("-"));
                    document.getElementById("routeContributionCase1").innerHTML = ((result.Route_Contribution_Case_1_WK_AGO__c != undefined) ? ("$"+result.Route_Contribution_Case_1_WK_AGO__c) : ("-"));
                    document.getElementById("routeContributionCase2").innerHTML = ((result.Route_Contribution_Case_2_WK_AGO__c != undefined) ? ("$"+result.Route_Contribution_Case_2_WK_AGO__c) : ("-"));
                    document.getElementById("routeContributionCase3").innerHTML = ((result.Route_Contribution_Case_3_WK_AGO__c != undefined) ? ("$"+result.Route_Contribution_Case_3_WK_AGO__c) : ("-"));
                    document.getElementById("routeContributionCase4").innerHTML = ((result.Route_Contribution_Case_4_WK_AGO__c != undefined) ? ("$"+result.Route_Contribution_Case_4_WK_AGO__c) : ("-"));
                    document.getElementById("lineWeekValue1").innerHTML = ((result.Lines_Week_1_WK_AGO__c != undefined) ? (result.Lines_Week_1_WK_AGO__c) : ("-"));
                    document.getElementById("lineWeekValue2").innerHTML = ((result.Lines_Week_2_WK_AGO__c != undefined) ? (result.Lines_Week_2_WK_AGO__c) : ("-"));
                    document.getElementById("lineWeekValue3").innerHTML = ((result.Lines_Week_3_WK_AGO__c != undefined) ? (result.Lines_Week_3_WK_AGO__c) : ("-"));
                    document.getElementById("lineWeekValue4").innerHTML = ((result.Lines_Week_4_WK_AGO__c != undefined) ? (result.Lines_Week_4_WK_AGO__c) : ("-"));
                    document.getElementById("dropsWeekValue1").innerHTML = ((result.Drops_Week_1_WK_AGO__c != undefined) ? (result.Drops_Week_1_WK_AGO__c) : ("-"));
                    document.getElementById("dropsWeekValue2").innerHTML = ((result.Drops_Week_2_WK_AGO__c != undefined) ? (result.Drops_Week_2_WK_AGO__c) : ("-"));
                    document.getElementById("dropsWeekValue3").innerHTML = ((result.Drops_Week_3_WK_AGO__c != undefined) ? (result.Drops_Week_3_WK_AGO__c) : ("-"));
                    document.getElementById("dropsWeekValue4").innerHTML = ((result.Drops_Week_4_WK_AGO__c != undefined) ? (result.Drops_Week_4_WK_AGO__c) : ("-"));
                    /*changed for SSDR23-2231 START*/
                    document.getElementById("ebPercentValue1").innerHTML = ((result.EB_1_WK_AGO__c != undefined) ? (result.EB_1_WK_AGO__c)+"%" : ("-"));
                    document.getElementById("ebPercentValue2").innerHTML = ((result.EB_2_WK_AGO__c != undefined) ? (result.EB_2_WK_AGO__c)+"%" : ("-"));
                    document.getElementById("ebPercentValue3").innerHTML = ((result.EB_3_WK_AGO__c != undefined) ? (result.EB_3_WK_AGO__c)+"%" : ("-"));
                    document.getElementById("ebPercentValue4").innerHTML = ((result.EB_4_WK_AGO__c != undefined) ? (result.EB_4_WK_AGO__c)+"%" : ("-"));
                    /*changed for SSDR23-2231 END*/
                    // changes for SSDR23-2099 END //
                    if(result.Route_Contribution_Week_Change__c<0){
                        document.getElementById("routeContributionWeekChange").innerHTML = "<span style=\"color:red\">$" + Math.abs(result.Route_Contribution_Week_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowDown)}\"/>";
                    }
                    if(result.Route_Contribution_Week_Change__c>0){
                        document.getElementById("routeContributionWeekChange").innerHTML = "<span style=\"color:green\">$" + Math.abs(result.Route_Contribution_Week_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowUp)}\"/>";
                    }
                    if(result.Cases_Week_Change__c<0){
                        document.getElementById("caseWeekChange").innerHTML = "<span style=\"color:red\">" + Math.abs(result.Cases_Week_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowDown)}\"/>";
                    }
                    if(result.Cases_Week_Change__c>0){
                        document.getElementById("caseWeekChange").innerHTML = "<span style=\"color:green\">" + Math.abs(result.Cases_Week_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowUp)}\"/>";
                    }
                    if(result.Route_Contribution_Case_Change__c<0){
                        document.getElementById("routeContributionCaseChange").innerHTML = "<span style=\"color:red\">$" + Math.abs(result.Route_Contribution_Case_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowDown)}\"/>";
                    }
                    if(result.Route_Contribution_Case_Change__c>0){
                        document.getElementById("routeContributionCaseChange").innerHTML = "<span style=\"color:green\">$" + Math.abs(result.Route_Contribution_Case_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowUp)}\"/>";
                    }
                    if(result.Lines_Week_Change__c<0){
                        document.getElementById("lineWeekChnage").innerHTML = "<span style=\"color:red\">" + Math.abs(result.Lines_Week_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowDown)}\"/>";
                    }
                    if(result.Lines_Week_Change__c>0){
                        document.getElementById("lineWeekChnage").innerHTML = "<span style=\"color:green\">" + Math.abs(result.Lines_Week_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowUp)}\"/>";
                    }
                    if(result.Drops_Week_Change__c<0){
                        document.getElementById("dropsWeekChange").innerHTML = "<span style=\"color:red\">" + Math.abs(result.Drops_Week_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowDown)}\"/>";
                    }
                    if(result.Drops_Week_Change__c>0){
                        document.getElementById("dropsWeekChange").innerHTML = "<span style=\"color:green\">" + Math.abs(result.Drops_Week_Change__c) + "</span>" + "<img src=\"{!URLFOR($Resource.ArrowUp)}\"/>";
                    }
                    if(result.EB_Change__c<0){
                        document.getElementById("ebPercentChange").innerHTML = "<span style=\"color:red\">" + Math.abs(result.EB_Change__c) + "%</span>" + "<img src=\"{!URLFOR($Resource.ArrowDown)}\"/>";
                    }
                    if(result.EB_Change__c>0){
                        document.getElementById("ebPercentChange").innerHTML = "<span style=\"color:green\">" + Math.abs(result.EB_Change__c) + "%</span>" + "<img src=\"{!URLFOR($Resource.ArrowUp)}\"/>";
                    }
                }
            });
        }
        // changes for SSDR23-2056 END //
            /**
             * Function Name : remFromWatchList
             * Arguments: ProductNumber
             * Description: This function is used for removing product from watchlist.
             */
            function remFromWatchList(vProdNumber) {
                var prdDataArr;
                var selectedCustomerId = document.getElementById("mntWatchList").value;

                for (var i = 0; i < arrAllProducts.length; i++) {
                    if (arrAllProducts[i].prdNumber == vProdNumber) {
                        prdDataArr = arrAllProducts[i];
                        break;
                    }

                }
                var ProdTanNo = prdDataArr.tandemNumber + prdDataArr.prdNumber
                /*Calling remote action Function removeWatchlist*/
                VFC_PricingEnquiry.removeWatchList(ProdTanNo, function(result, event) {
                    if (event.status) {
                        if (accountWLCount[selectedCustomerId] == '25') {
                            document.getElementById("idAllErrorMsgs").innerHTML = "";
                        }
                        accountWLCount[selectedCustomerId] -= 1;
                        //update customer drop down list counter
                        var customerWLCount = document.getElementById(selectedCustomerId + 'wlCount');
                        customerWLCount.textContent = accountWLCount[selectedCustomerId] + '/25';
                        if (accountWLCount[selectedCustomerId] < 25) {
                            customerWLCount.style = "color:#000000";
                        }
                        var wtlsticon = document.getElementById(prdDataArr.cwsId);
                        wtlsticon.innerHTML = '<div class="font12NLH16Green" style="text-align:center;margin-top:18px;font-weight:bold;"><a href="javascript://" class="theclass" style="cursor:pointer" onclick="addProdtoWatchList2(' + prdDataArr.prdNumber + ');  return false;"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/watch-list-grey-32.png')}" width="18"  height="22" align="middle"/></a></div>';
                        if ((ProdTanNo != undefined && ProdTanNo != null) && (arrAllProductsMap[ProdTanNo] != undefined && arrAllProductsMap[ProdTanNo] != null))
                            arrAllProductsMap[ProdTanNo].isWatLstPrd = false;

                    } else { //remote action failed

                        displayHeaderErrorMessage(defaultErrorMessage, false);
                    }
                });


            }


            /**
             * Function Name : mappingPrd
             * Arguments: ProductId
             * Description: This function is used to copy whole product data to right side table when a user clicks on any block of each row/column.
             */

            function mappingPrd(prd_Id) {

                //arrAllProductsMap
                var prdData = arrAllProductsMap[prd_Id];
                currPrdId = prdData.cwsId;
                rightSideMapping(prdData);
            }


            /**
             * Function Name : changeColor
             * Arguments: rowId
             * Description: This function is used to change the color of the row based on the product.
             */
            function changeColor(rowId) {
                if (!document.getElementsByTagName || !document.createTextNode) return;
                var tbl = document.getElementById("watchListTable");
                var count = document.getElementById('tblProducts');
                var rows = document.getElementById('watchListTable').getElementsByTagName('tbody')[0].getElementsByTagName('tr');
                var noOfRows = rows.length;

                document.getElementById(previousRowId).style.backgroundColor = "#FFFFFF";
                document.getElementById(previousRowId).style.border = "";
                document.getElementById(rowId).className = 'reviewed';
                document.getElementById(rowId).style.backgroundColor = "#fff2D4";
                document.getElementById(rowId).style.border = "2px solid #E7A614";
                previousRowId = rowId;
            }
            /**
             * Function Name : onDepartmentChange
             * Arguments: rowId
             * Description: This function is called when there is a change in department.
             */
            function onDepartmentChange() {
                var selIdx = document.getElementById("mntDptList").selectedIndex;
                if (selIdx != -1) {
                    document.getElementById("btnGo").disabled = false;
                }
            }
            /**
             * Function Name : ErrorRowFunc
             * Arguments: String errText
             * Description: This function is used to show product level error message.
             */
            function ErrorRowFunc(errText) {
                var table = document.getElementById('tblProducts');
                var rowCount = table.rows.length;
                var row = table.insertRow(rowCount);
                row.id = "noErrorRow";
                var cell = row.insertCell(0);
                var custName = errText;
                document.getElementById('tblProducts').rows[rowCount].cells[0].innerHTML = '<div style="color:red;background-color: #FFF2D4;"><div class="Err_msg" id="divPosCust"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/alert-16.png')}" width="15" height="15" style="margin-top: -0.6%;"/>&nbsp;' + custName + '</div>';
                document.getElementById('tblProducts').rows[rowCount].cells[0].colSpan = 7
            }
            /**
             * Function Name : cprErrorRowFunc
             * Arguments: String messageText
             * Description: This function is used to show CPR messages at product level.
             */
            function cprErrorRowFunc(messageText) {
                var table = document.getElementById('tblProducts');
                var rowCount = table.rows.length;
                var row = table.insertRow(rowCount);
                row.id = "noErrorRow";
                var cell = row.insertCell(0);

                if (messageText == 'CPR updates processed successfully.') {

                    document.getElementById('tblProducts').rows[rowCount].cells[0].innerHTML = '<div style="color:green; background-color: #FFF2D4;" class="Err_msg" id="divPosCust">' + messageText + '</div>';
                } else {

                    document.getElementById('tblProducts').rows[rowCount].cells[0].innerHTML = '<div style="color:red; background-color: #FFF2D4;" class="Err_msg" id="divPosCust">' + messageText + '</div>';
                }

                document.getElementById('tblProducts').rows[rowCount].cells[0].colSpan = 7
            }

            /**
             * Function Name : learnmorefunc
             * Arguments: NA
             * Description: This function is used to show icons help text when user clicks on Learn More icon.
             */
            function learnmorefunc() {
                document.getElementById('light').style.display = 'block';
                document.getElementById('fade').style.display = 'block';
            }

            /**
             * Function Name : closefunc
             * Arguments: NA
             * Description: This function is called for closing the learnmore icon.
             */
            function closefunc() {
                document.getElementById('light').style.display = 'none';
                document.getElementById('fade').style.display = 'none';
            }

            /**
             * Function Name : CleanUpLastFourBuyTable
             * Arguments: NA
             * Description: This function is for deleting Lastfourbuytable.
             */
            function CleanUpLastFourBuyTable() {
                var table = document.getElementById("idLastFourBuys");
                var rowCount = table.rows.length;
                if (rowCount <= 0)
                    return;

                for (var i = rowCount - 1; i >= 0; i--) {
                    table.deleteRow(i);
                }
            }

            /**
             * Function Name : autosaveCPRFieldValue
             * Arguments: prdCWSId,cprvalue
             * Description: This function is called when CPR value is changed on a product.
             */
            function autosaveCPRFieldValue(prdcwsId, cprValue) {


                cprModified = true;
                var foundProduct = false;
                if (arrAllProductsMap[prdcwsId].cwsId == prdcwsId) {
                    foundProduct = true;
                    // convert number format to currency
                     
                    console.log('cprValue' + typeof cprValue + '  --->' + cprValue);
                    //Story no 1576 by Praveen START
                    if(cprValue.toString()=='undefined' || cprValue.toString()==''){
                        cprValue='';
                    }
                    else if(cprValue.toString().indexOf('.') < 0 && $.isNumeric(cprValue))
                        cprValue=parseFloat(cprValue / 100).toFixed(2); 
                    //Story no 1576 by Praveen END 
                    
                    if ($.isNumeric(cprValue)) { 
                        document.getElementById("idCPR" + prdcwsId).value = convertToCurrency(cprValue);
                    }


                    VFC_PricingEnquiry.autosaveCPRValueOnCWS(arrAllProductsMap[prdcwsId], cprValue, function(result, event) {
                        if (event.status) {
                            arrAllProductsMap[prdcwsId].CPR = result.CPR;

                            arrAllProductsMap[prdcwsId].errorText = result.errorText;

                            arrAllProductsMap[prdcwsId].cprSubmitStatus = result.cprSubmitStatus;

                        } else { //remote action failed

                            displayHeaderErrorMessage(defaultErrorMessage, false);
                        }
                        cprModified = false;

                        if (updateCPRPending) {
                            updatePrdCPRValues();
                        }
                    });

                }

                if (!foundProduct) { // if product not found in for loop, reset cprModified flag back to false
                    cprModified = false;
                }

            }
            
            /**
             * Name : captureWeeklyViewDate_Fun
             * Arguments : Id of WL object
             * Description : This function is used to check if a read/unread record is created for logged in user with current week capture, if not, creates one. Story SSDR23-1581
             */

            function captureWeeklyViewDate_Fun(prd_rowId) {
                
                VFC_PricingEnquiry.captureWeeklyViewDate(arrAllProductsMap[prd_rowId].prdNumber, prd_rowId, function(result, event) {
                    
                    if (event.status) {

                        console.log('captureWeeklyViewDate_Fun done');
                    }

                });
            }

            // R.M 03/13/2017:Detecting when scrolling is reaching   bottom of the screen.
            jQuery(
                function($) {
                    $('#iddDiv').bind('scroll', function() {
                        if ($(this).scrollTop() + $(this).innerHeight() >= $(this)[0].scrollHeight) {
                            console.log('Scrolling is reached bottom...');
                            showMoreProducts_JFunc();
                        }
                    });
                }
            );
        </script>
        <!-- Script ended-->
        <style type="text/css">
            .whiteBck.bootstrap.jumbotron-fluid {
                border-color: #ccc;
                border-width: 1px;
                color: black;
                font-size: 6px;
                border-style: solid;
                clear: both;
            }

            /* .whiteBck.bootstrap.row.clearfix {
            padding-left: 14px;
            }  */

            .bootstrap h1 {
                margin-top: 3px !important;
                font-size: 48px;
                font-family: Helvetica Neue Med Cond;
                color: #CF4520 !important;
            }

            .whiteBck.bootstrap.col-md-1 {
                margin-left: 0px;
                /*margin-right: 26px;*/
            }

            /****************/

            .font18NB {
                font-size: 18px;
                color: #828282 !important;
                font-family: HelveticaNeueBold !important;
            }

            .font13N {
                font-size: 13px;
                color: #3b3b3b;
                font-family: Arial !important;
            }

            .font12NR {
                font-size: 12px;
                color: #3b3b3b !important;
                font-family: HelveticaNeue-Arial !important;
            }

            .font13NCBWhite {
                font-size: 13px;
                color: #ffffff !important;
                font-family: HelveticaNeue-CondensedBold !important;
            }

            .whiteBck {
                background-color: #ffffff !important;
            }

            .silverBck {
                background-color: #f3f1f0 !important;
            }

            .lightGrayBck {
                background: #d8d8d8 !important;
            }

            .dullGrayBck {
                background-color: #f3f1f0 !important;
            }

            .oliveGreenBck {
                background-color: #B0BC22 !important;
            }

            .bottleGreenBck {
                background-color: #5C8727 !important;
            }

            .transparentBck {
                background-color: transparent !important;
            }

            .smokeGrayClr {
                color: #3b3b3b !important;
            }

            div.dropdown-menu>ul.dropdown-menu>li.selected {
                background-color: red !important;
            }

            .row1-3 select,
            .row1-3home select {
                background: #FFF;
                font-size: 12px;
                font-family: 'Open Sans', sans-serif;
                width: 94%;
                margin-left: 3%;
                margin-right: 3%;
                height: 40px;
                line-height: 40px;
                border: none;
                padding-left: 10px;
                border-radius: none;
                margin-bottom: 5px;
                -moz-appearance: none;
            }

            .row1-3 select option,
            .row1-3home select option {
                color: #01afd2;
            }

            .row1-3 select option:not(:checked),
            .row1-3home select option:not(:checked) {
                color: #9fa7b4;
            }

            .dropdown-menu {
                padding: 0px 0px !important;
            }

            .dropdown-menu li a:hover {
                background-color: #357E05 !important;
                color: #FFF !important;
            }

            .bootstrap .panel-default {
                border: 2px solid #c2c2c2;
            }

            /*.whiteBck.bootstrap.row h5 {
            position: absolute;
            top: 73px;
            right: 20px;
            }*/

            .whiteBck.bootstrap.col-md-1.product-count {
                padding: 24px 0px;
            }

            .bgcolor {
                background: #FFF !important;
            }

            .whiteBck.bootstrap.col-md-4.bgcolor {
                /*    margin-left: -1.6%;  */
                padding: 0;
                width: 28%;
            }

            /* .whiteBck.bootstrap.col-md-2.label_cust {
            clear: both;
            //   width: 217px;
            width: 170px;
            padding:0;
            
            }*/

            .whiteBck.bootstrap.row.clearfix {
                margin-top: 0%;
                padding-bottom: 1px;
            }

            .affix {
                top: 0;
                width: 100%;
                z-index: 1;
            }

            .affix+.container-fluid {
                padding-top: 70px;
            }

            .bootstrap .glyphicon {}

            th.th-col-first {
                border-top: 2px solid #c2c2c2 !important;
                border-right-style: hidden !important;
            }

            .product-head-row {
                text-transform: uppercase;
            }

            .cust_select {
                /*  margin-left: -9.8%; */
                width: 30%;
            }

            /* .ButtonGo {
            margin-left: -6.4%;
            }*/

            .label_cust {}

            .bootstrap.dropdown.col-md-1.sortBy {
                margin-left: 2px;
                width: 10%;
                padding-top: 5px;
            }

            div#last4buysgraph {
                float: left;
                /*  margin-top: -21%; */
            }

            div#chart_div {
                width: 465px;
                height: 200px;
            }

            ul#ulSelect li a:hover {
                background-color: #D04629 !important;
            }

            #warning-message {
                display: none;
            }
       
            /*Updated by ADUA for SFS-1790*/
            @media only screen and (max-width: 992px) {
                #wrapper {
                    display: none;                  
                }

                #warning-message {
                    display: block;
                }

                .bootstrap.row.mntnce {
                    display: none !important;
                }
            }

            @media only screen and (min-width: 992px)  {
                /*
                .whiteBck, .bootstrap.col-md-5.font11NCB.rfresh, .font11NCB.lrnmore {
                background-color: #f0f1f2 !important;
                } 
                */
                div#idShowOG_PrdsCount{margin-left: 2%!important;}
                #wrapper {
            display: block;
            /* code changed by Avinash for SSDR23 - 1757 START */
            overflow-y:hidden;
            /*changed by neeraj for story SSDR23 -  1802*/
              height: 100%;
             /*end changed by neeraj for story SSDR23 -  1802**/
            /* code changed by Avinash for SSDR23 - 1757 END */
               
                }
                #warning-message {
                    display: none;
                }
                .bootstrap.row.mntnce {
                    display: block !important;
                }

                .font-weight {
                    font-size: 12px !important;
                }
                div#idAllErrorMsgs {
            /*margin-top: 15% !important;*/
                    padding-top: 25px !important;
                }
               div#idDivUpdateRefresh{margin-top:6px;}
                #load {
                    margin-left: -1% !important;
                    margin-top: 1% !important;
                }
                /*12/21:RB: Implemented Webkit for smooth scrolling for touch devices*/
                div#iddDiv {
                    -webkit-overflow-scrolling: touch !important;
                }
                .col-md-4.col-sm-4.setmaxdiv {
                    padding: 0 !important;
                }
                .col-md-4.col-sm-4.settargetdiv {
                    padding: 0 !important;
                }
                .col-md-4.col-sm-4.setmindiv {
                    padding: 0 !important;
                }
                .grpbyborder {
                    top: -22px !important;
                }
                .sorbyborder {
                    top: -22px !important;
                }
                .bootstrap .nav>li>a {
                    position: relative;
                    display: block;
                    /*Changed by Avinash Singh for SSDR23-1761 START*/
                    padding: 0px 0px;
                    /*Changed by Avinash Singh for SSDR23-1761 START*/
                }
                .bootstrap .table-bordered,
                .bootstrap .table-bordered>tbody>tr>td,
                .bootstrap .table-bordered>tbody>tr>th,
                .bootstrap .table-bordered>tfoot>tr>td,
                .bootstrap .table-bordered>tfoot>tr>th,
                .bootstrap .table-bordered>thead>tr>td,
                .bootstrap .table-bordered>thead>tr>th {
                    padding: 0;
                }
                .bootstrap.col-md-12.pricing_tab {
                    padding: 0 !important;           
            /* code changed by Avinash for SSDR23 - 1757 START */
            /* code changed by Neeraj for SSDR23 - 1802 START */
            height: 30rem;
            /* code changed by Neeraj for SSDR23 - 1802 END */
            /* code changed by Avinash for SSDR23 - 1757 END */

                }
                .col-md-12.font-weight.prcng_left {
                    padding-right: 0 !important;
                }
                .bootstrap.dropdown.col-md-3.col-sm-3.sorby {
                    padding: 0 !important;
                    width: 53px;
                }
                .bootstrap.col-md-9.col-sm-9.grop {
                    width: 68% !important;
                }
                .bootstrap.dropdown.col-md-3.col-sm-3.grp {
                    width: 32% !important;
                }
                th.last-buy {
                    padding: 2px !important;
                }
                div#last4buys {
                    padding: 0 !important;
                }
                tmName {
                    padding-left: 78px; !important;
                }
            }

            /* added by avinash SSDR23-1757 start*/
              @media only screen and (min-width: 1024px) {
                    div#iddDiv {
            /*  height: 46rem !important; */
                    width: 100% !important;
                    padding: 0 !important;
                    overflow-y: scroll !important;
                    overflow-x: hidden !important;
                    }
            
            }
            
            /*    added by avinash SSDR23-1757 end code */
            @media screen and (min-width: 400px) {
               
                .whiteBck.bootstrap.col-md-4.bgcolor {
                    /*    margin-left: -1.6%;  */
                    margin-bottom: 8px;
                }
                .whiteBck.bootstrap.col-md-2.label_cust {
                    clear: both;
                    /*  width: 170px;  */
                    width: 150px;
                    /* added by Avinash for SSDR23-1803 START */
                    padding-left: 8px;
                    /* added by Avinash for SSDR23-1803 END */
                }
                .whiteBck.bootstrap.col-md-1.ButtonGo {
                       float: left;
                }
            }

            .bootstrap .btn {
                border: 1px solid #AAA !important;
            }

            #btnGo {
                background-color: #5C8727;
                /*width: 80px;*/
                height: 36px;
                border-radius: 0 !important;
                font-family: Arial !important;
                font-size: 13px;
                padding-left: 7px;
            }

            .whiteBck.bootstrap.col-md-8.table-responsive.table-div {
                width: 100%;
                padding-left: 0%;
                margin-top: 1%;
            }

            .h5.tm {
                font-size: 13px;
                font-family: arial narrow;
                float: right;
            }

            .h5-tm-span {
                font-weight: bold;
                color: #228B22;
            }

            .col-md-4.Ewl {
                width: 66%;
                padding: 0;
            }

            .whiteBck.bootstrap.breadcrumb.mt {
                margin-top: -14px;
                padding-left: 0%;
            }

            .mt-8250 {
                width: 2px;
                font-weight: 2000px;
            }

            .active-ewl {
                display: inline-block;
                list-style-type: none;
                margin-left: 8px;
            }

            .mt-li {
                list-style-type: none;
                display: inline-block;
            }

            .mt-ewl {
                display: inline-block;
                list-style-type: none;
                margin-left: 3px;
                color: #228B22;
            }

            .whiteBck.bootstrap.col-md-1.product-count.Rtn-ml.Rtn-ml {
                margin-left: 27%;
            }
             /* Added by Neeraj Sharma SSDR23-2221 start*/
             @media only screen and (min-width: 993px)and (max-width: 1200px) {
            .guideBarSection, .moreBarSection, .cookBarSection span, .creditBarSection {
            font-size:10px !important;
            text-align:center;
            }
            .creditBarSection span{
            padding: 2px !important;}
            
            .moreBarSection1 a{
             font-size:10px !important;
            text-align:center;
            }
            div#divViewMrePrds {
            padding-top: 9px;
            }
             
          
            }
            /*Added by Neeraj Sharma SSDR23-2221 end*/
            
            
        </style>
        <style>
            /* Note: Try to remove the following lines to see the effect of CSS positioning */

            .affix {
                top: 0;
                width: 100%;
                z-index: 1;
            }

            .affix+.container-fluid {
                padding-top: 70px;
            }

            .bootstrap .glyphicon {}

            th.th-col-first {
                border-top: 2px solid #c2c2c2 !important;
                border-right-style: hidden !important;
            }

            th.th-col-2 {
                border-top: 2px solid #c2c2c2 !important;
                border-right-style: hidden !important;
            }

            th.th-col-3 {
                border-top: 2px solid #c2c2c2 !important;
                border-right-style: hidden !important;
            }

            th.th-col-4 {
                border-top: 2px solid #c2c2c2 !important;
                border-right-style: hidden !important;
            }

            th.th-col-5 {
                border-top: 2px solid #c2c2c2 !important;
                border-right-style: hidden !important;
            }

            th.th-col-6 {
                border-top: 2px solid #c2c2c2 !important;
                border-right-style: hidden !important;
            }

            th.th-col-7 {
                border-top: 2px solid #c2c2c2 !important;
                border-right-style: hidden !important;
            }

            th.th-col-last {
                border-top: 2px solid #c2c2c2 !important;
                border-left-style: hidden !important;
            }

            .product-head-row {
                text-transform: uppercase;
            }

            /*     .whiteBck.bootstrap.col-md-4.cust_select {
            margin-left: -28px;
            float: left;  
            }   */

            .whiteBck.bootstrap.col-md-2.col-sm-2.label_cust {
               /* added by Avinash for SSDR23-1803 START */
                padding-left: 8px;
            /* added by Avinash for SSDR23-1803 END */
                padding-right: 0;
                width: 147px;
            }

            .btn-group.bootstrap-select.bootstrap.col-md-12.col-sm-12.dullGrayBck {
                padding: 0;
            }

            .whiteBck.bootstrap.col-md-1.col-sm-1.ButtonGo {
                margin-left: 2px;
            }

            div#idPricingFilterSection {
                height: 60px;
            }
            

            .btn-group.bootstrap-select.disabled.bootstrap.col-md-12.col-sm-12.lightGrayBck {
                padding: 0;
            }

            .showmore {
                font-weight: bold;
                color: #5C8727 !important;
                background-color: #f0f1f2;
                font-size: 93%;
                text-decoration: none;
            }

            .col-md-12.col-sm-12.underline {
                position: relative;
                border-top: 1px solid #AAA;
                /*    width: 91%;
            margin-top: 2%;
            left:4%;  */
            }

            .underline1 {
                border-top: 1px solid #AAA;
                margin-top: 2%;
                /*   width: 95%;
            margin-left: 2%;  */
            }

            ul.tab {
                list-style-type: none;
                margin: 0;
                padding: 0;
                background-color: #f1f1f1;
                margin-left: 9px;
            }

            /* Float the list items side by side */

            ul.tab li {
                float: left;
            }

            /* Style the links inside the list items */

            ul.tab li a {
                display: inline-block;
                text-align: center;
                padding: 10px 24px;
                font-size: 13px;
                margin-left: -22px;
                font-weight: bold;
            }

            /* Change background color of links on hover */

            ul.tab li a:hover {
                background-color: #FFF !important;
            }

            /* Create an active/current tablink class */

            ul.tab li a:focus,
            .active {
                /*   background-color: #FFF !important;  */
            }

            /* Style the tab content */

            .tabcontent {
                display: none;
                padding: 6px 12px;
                border-top: none;
            }

            .pricingdetails {
                font-weight: bold;
                height: 23px;
            }

            .showall {
                margin-left: 20%;
            }

            .showallprice {
                color: #3b3b3b;
                margin-left: -25%;
                padding-left: 0%;
            }

            .sortby {
                margin-left: -14%;
            }

            .row.divsortfilter {
                  height:61px;
                border: 1px solid #AAA;
                background-color: #f0f1f2;
            }

            .divfilter {
                margin-left: 1%;
                top: 13px;
                width: 30%;
            }

           div#imageLinkId div#productImage .imageDiv{
                   width:50%;
                height:50%;
                border: 1px solid #AAA;
                background-color: #FFF;
                padding: 0;
            }
            /*end 1580*/

            .tabsdiv {
                width: 75%;
                height: 35px;
                background-color: #f1f1f1;
                margin-top: -8%;
                border-top: 2px solid #c2c2c2;
                border-right: 2px solid #c2c2c2;
            }

            .col-md-12.col-sm-12.price {
                /*  margin-top: 5px;
            margin-left: 19px; */
                margin-top: 4%;
                padding: 0;
                margin-bottom: 4%;
            }

            .col-md-4.col-sm-4.crntpricediv {
                /*   float: left;
            width: 26%;
            height: 15%;
            margin-left: 4%;
            margin-top: 3%;   */
                padding-right: 0;
            }

            .prddetailsdiv {
                /*    width: 63%;
            margin-left: 35%;
            height: 40%;
            margin-top: -18%;   */
            }

            .col-md-8.col-sm-8.setdiv {
                border: 1px solid #AAA;
                float: right;
                width: 63%;
                /*   height: 15%;  
            margin-right: 2%;  
            margin-top: 3%;  */
                background-color: #FFF;
                padding: 0;
            }

            .col-md-4.col-sm-4.setmindiv {
                /*    width: 33%;
            height: 100%;
            float: left;  */
                font-size: 12px;
                font-weight: bold;
                font-family: Arial;
                text-align: center;
            }

            .setborder {
                border-left: 2px solid #c2c2c2;
                position: absolute;
                height: 47px;
            }

            .setborder1 {
                border-left: 2px solid #c2c2c2;
                float: right;
                margin-right: 34%;
                height: 47px;
                margin-top: -52px;
            }

            .col-md-4.col-sm-4.settargetdiv {
                /*    width: 33%;
            margin-left: 33%;
            height: 100%; */
                font-size: 12px;
                font-weight: bold;
                border-right: 1px solid #AAA;
                border-left: 1px solid #AAA;
                font-family: Arial;
                text-align: center;
            }

            .col-md-4.col-sm-4.setmaxdiv {
                /*   width: 33%;
            height: 100%;
            float: right; */
                font-size: 12px;
                font-weight: bold;
                font-family: Arial;
                text-align: center;
            }

            div#divMax {
                margin-top: 5%;
                color: #3B3B3B;
                margin-bottom: 5%;
            }

            .drivedetails {
                width: 93%;
                margin-left: 4%;
                height: 39px;
                margin-top: 5%;
                clear: both;
            }

            .pricingdiv {
                /*  margin-top: 20%; */
                width: 136%;
            }

            .pricingdiv1 {
                width: 40%;
                height: 157px;
                margin-left: 4%;
                margin-top: 10%;
                float: left;
            }

            .pricingdiv2 {
                width: 44%;
                /*  height: 140px; */
                margin-left: 53%;
                margin-top: -157px;
                float: left;
            }

            .rightsection {
                /*width:100%;height:50%;*/
            }

            div#divTanName {
                /*width: 100%;height: 14%;margin-top: 1%; margin-left: 0%;*/
                font-family: Arial;
                color: #3b3b3b;
                font-size: 14px;
                padding: 0;
            }

            div#divProdDesc {
                /*width: 100%;height: 41%;*/
                font-weight: bold;
                font-size: 18px;
                font-family: Arial;
                color: #3b3b3b;
                padding: 0;
            }

            .col-md-12.col-sm-12.prdplace {
                /*width: 100%;height: 15%;*/
                font-size: 14px;
                font-family: Arial;
                color: #3b3b3b;
                padding: 0;
            }

            .col-md-12.col-sm-12.prdscoop {
                /*width: 100%;height: 12%;*/
                font-weight: bold;
                font-size: 13px;
                font-family: Arial;
                color: #CF4520;
                padding: 0;
            }

            .currentpricespan {
                font-size: 13px;
                font-weight: bold;
                color: #3B3B3B;
                font-family: Arial;
            }

            .currentprice {
                font-size: 18px;
                font-weight: bold;
                color: #CF4520;
                font-family: Arial;
            }

            .setmin {
                /*margin-left: 22px;margin-top: 6px;*/
                margin-top: 5%;
                color: #3B3B3B;
                margin-bottom: 5%;
            }

            .setminrate {
                color: #5C8727;
            }

            .settarget {
                /*margin-left: 22px;margin-top: 6px;*/
                margin-top: 5%;
                color: #3B3B3B;
                margin-bottom: 5%;
            }

            .setmax {
                /*margin-left: 22px;margin-top: 1px;*/
            }

            .pricingvalue {
                float: right;
                font-weight: normal;
            }

            .sorbyborder {
                border-left: 1px solid #AAA;
                /*height: 400%;*/
                height: 335%;
                position: absolute;
                top: -24px;
                left: -20%;
            }

            .grpbyborder {
                border-left: 1px solid #AAA;
                /*height: 400%;*/
                height: 335%;
                position: absolute;
                top: -24px;
                /*left:-44%;*/
                left: -16%;
            }
            div#idDivUpdateRefresh{border-bottom:1px solid #AAA;padding:0!important;margin-top:4px;/*width:60%!important;*/background-color:#FFF;}
            .tablediv {
                width: 100%;
                padding-left: 0%;
                margin-top: 1%;
            }

            div#iddDiv {
            <!-- Code added by Avinash for SSDR23-1579 START -->              
            height: 560px;
            <!-- Code added by Avinash for SSDR23-1579 END -->
                width: 100%;
                padding: 0;
                overflow-y: scroll;
                overflow-x: hidden;
              <!-- code added by neeraj to fix (SSDR23 -  1802 )alignment of product list with description list-->
            /* max-height: 560px; */
            }

            div#iddDiv::-webkit-scrollbar {
            <!-- Code added by Avinash for SSDR23-1597 Start -->
            <!-- width: 5px; -->
            width: 8px;
            <!-- Code added by Avinash for SSDR23-1597 END -->
            }

            /* .bootstrap.col-md-2.dropdown.ShowallFilter{margin-left:1%;top:13px;width:30%;} */

            ul#ulSelect {
                width: 87%;
                margin-left: 3%;
            }

            button#selFilter {
                border-radius: 0 !important;
                /*width:100%;*/
                background-color: #838383;
                border-color: transparent;
                /*margin-left: -4%;*/
                white-space: normal;
            }

            .bootstrap.dropdown.col-md-1.sortby {
                margin-left: 0%;
                width: 10%;
                top: 20px;
            }

            .bootstrap.col-md-3.sort {
                margin-left: -8px;
                padding-left: 0%;
                top: 13px;
            }

            select#idSelSortBy {
                size: 3;
                width: 30%;
                font-face: HelveticaNeue;
                font-size: 13px;
                font-color: #ffffff;
            }

            .bootstrap.dropdown.col-md-1.groupby {
                margin-left: 0%;
                width: 10%;
                top: 20px;
            }

            .bootstrap.col-md-3.group {
                margin-left: -1%;
                padding-left: 0%;
                top: 13px;
            }

            font.font12NCB.grp-font {
                /*margin-left: -65%;*/
            }

            select#idSelGrouptBy {
                size: 3;
                width: 30%;
                font-face: HelveticaNeue;
                font-size: 13px;
                font-color: #ffffff;
            }

            button#btnMaintenance {
                background-color: #56821F;
                border-radius: 0 !important;
                font-family: Arial !important;
                font-size: 13px;
                border: 0 none !important;
                
            }
            <!-- Added by Phani for DCT Button-->
            button#btnMaintenance1 {
                background-color: #CF4520;
                border-radius: 0 !important;
                font-family: Arial !important;
                font-size: 13px;
                border: 0 none !important;
            }

            .font11NCB.rfresh {
                margin-top: 4.5%;
                padding: 0;
                margin-left: -1%;
            }

            a#rfrsh {
                text-decoration: none;
                color: #5C8727 !important;
            }

            span.bootstrap.glyphicon {
                color: red;
                margin-top: -15px;
                font-weight: bold;
            }

            span#lastrfresh {
                font-weight: 100;
                font-size: 13px;
                color: #3B3B3B;
                font-family: Arial !important;
            }

            .font11NCB.lrnmore {
                float: right;
                background-color: #FFF;
                padding: 0; 
                /*width: 96px;*/
                margin-top: 2.5%;
                margin-bottom: 2%;
            }

            a#lrnmre {
                text-decoration: none;
                color: #5C8727 !important;
            }

            .bootstrap .nav>li>a {
                color: #828282;
            }
            
            /*Code changed by Avinash for user story SSDR23-1579 END */
            .last4buyvalues{            
            font-family: Arial;
            height: 22px;
            color: #3b3b3b;
            font-size: 13px;            
            float: right;
            font-weight: normal;
            /*
            padding: 0px 8px 0px 8px;
            line-height: 1.42857143;
            vertical-align: top;
            border-top: 1px solid #cfd0d2;
            */
            }
            /* Code changed by Avinash for user story SSDR23-1579 END */
        </style>
        <style>
            .ytable {
                font-family: arial, sans-serif;
                border-collapse: collapse;
                    width: 300%;
            }
               /*Added by Avinash Singh for SSDR23-1761 START*/
            nav#rightnavpricing{            
            position: relative;
            min-height: 35px;
            margin-bottom: 0px;
            border: 1px solid transparent;
            }
            
            /*added by neeraj sharma start */
            
            /*.table>tbody>tr>td is removed from below list */
            
            .bootstrap  .bootstrap .table>tbody>tr>th, .bootstrap .table>tfoot>tr>td, .bootstrap .table>tfoot>tr>th, .bootstrap .table>thead>tr>td, .bootstrap .table>thead>tr>th {
            padding: 0px 8px 0px 8px;
            line-height: 1.42857143;
            vertical-align: top;
            border-top: 1px solid #cfd0d2;}
            
            .bootstrap .table>tbody>tr>td .IMGDivSize{
            padding:0px 0px 0px 0px !important;
            }
            /*changes end : neeraj sharma*/
            /* Added by Avinash Singh for SSDR23-1761 END   */


            th.last-buy {
                text-align: left;
                padding: 8px;
                background-color: #666666;
                color: #ffffff;
            }

            .font24DivCel {
                font-size: 12px;
                color: #3b3b3b !important;
            }

            tr {
                border-left: 1px solid #666666;
                border-bottom: 1px solid #666666;
                border-right: 1px solid #666666;
            }

            #idLastFourBuys td {
                border-left: 1px dashed #666666
            }

            .bootstrap.col-md-3.col-sm-3.dropdown.ShowallFilter {
                margin-left: 4px;
                /*margin-right: 4px;*/
                padding: 0;
                width: 26%;
            }

            .bootstrap.dropdown.col-md-1.sorby {
                margin-left: 3.5%;
                margin-top: 1%;
            }

            font.font12NCB.sort {
                /*  margin-left: -26%;  */
            }

            .bootstrap.col-md-3.sor {
                padding: 0;
                margin-left: -2%;
            }

            .bootstrap.dropdown.col-md-1.grp {
                margin-left: 7%;
                margin-top: 1%;
            }

            .bootstrap.col-md-3.grop {
                padding: 0;
                margin-left: -2%;
            }

            .bootstrap.col-md-5.font11NCB.rfresh {
                /*  padding: 33px;  */
                background-color: #FFF;
            }

            .whiteBck.bootstrap.col-md-5.product-count {
                padding: 24px 0px;
            }

            .btn-group.bootstrap-select.whiteBck.bootstrap.col-md-12 {
                padding: 0;
            }

            .bootstrap.col-md-12.drive {
                padding: 0;
                margin-top: 2%;
            }

            .whiteBck.bootstrap.col-md-4.col-sm-4.cust_select {
                padding: 0;
            }

            .bootstrap.col-md-4.col-sm-4.sorting {
                margin-left: 3.5%;
                padding: 0;
            }

            .bootstrap.dropdown.col-md-3.col-sm-3.sorby {
                padding-left: 0;
                margin-top: 3%;
            }

            .bootstrap.col-md-9.col-sm-9.sor {
                padding: 0;
                margin-left: -7px;
            }

            .bootstrap.col-md-4.col-sm-4.grouping {
                padding: 0;
                margin-left: 3%;
            }

            .bootstrap.dropdown.col-md-3.col-sm-3.grp {
                padding: 0;
                margin-top: 3%;
                margin-left: 0%;
            }

            .bootstrap.col-md-9.col-sm-9.grop {
                padding: 0;
            }

            li.margin {
                margin: 0;
                border-top: 1px solid #AAA;
                border-right: 1px solid #AAA;
                font-weight: bold;
                font-family: Arial;
                font-size: 16px;
                background-color: #D8D8D8;
            }

            .bootstrap .nav-tabs>li.active>a,
            .bootstrap .nav-tabs>li.active>a:focus,
            .bootstrap .nav-tabs>li.active>a:hover {
                border: transparent;
            }

            .bootstrap .nav-tabs {
                /*border-bottom:1px solid #AAA!important;*/
            }

            .round {
                color: white;
                background-image:url({!URLFOR($Resource.PricingUI, '/PricingUI/icons/filter-32.png')
            }

            );
            background-size: 15px 15px;
            background-position: center left 0.1%;
            background-repeat: no-repeat;
            background-color: #767676;
            border: thin solid #767676;
            display: inline-block;
            font: inherit;
            line-height: 1.2em;
            padding: 0.5em 0em 0.5em 2em;
            /* reset */

            margin: 0;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            -webkit-appearance: none;
            -moz-appearance: none;
            }

            .font-weight {
                font-weight: bold;
                font-family: Arial;
                height: 22px;
                color: #3b3b3b;
                font-size: 13px;
            }

            select#idSelFilterBy {
                white-space: normal;
                font-family: Arial;
                font-size: 13px;
                padding-left: 30px;
                height: 31px;
            }

            /*  .bootstrap.col-md-12.col-sm-12.pricing_section {
            margin-top: 4%;
            }  */

            table#watchListTable {
                width: 100%;
                border-left: 2px solid #AAA;
                border-right: 2px solid #AAA;
            }

            div#last4buys {
                float: left;
                /*  margin-top: -21%!important;  */
            }

            .bootstrap.col-md-5.pricing_lft_tab {
                padding: 0;
            }

            .bootstrap.col-md-7.pricing_right_tab {
                padding: 0;
            }

            .Err_msg {
                padding: 0 !important;
                margin: 0 !important;
                font-size: small !important;
            }

            .whiteBck.bootstrap.col-md-3.col-sm-3.product-count {
                padding-top: 2%;
                padding-left: 0;
            }

            .bootstrap.col-md-5.col-sm-5.font11NCB.rfresh {
                /* padding-bottom: -3%; */
                margin-top: 2.5%;
                width: 44%;
            }

            .bootstrap.col-md-1.col-sm-1.font11NCB.lrnmore {
                /* margin-top: -3%; */
                margin-bottom: 2%;
                /* padding-bottom: 2%; */
                margin-top: 2.6%;
                /* padding-bottom: -37%; */
            }

            div#divViewMrePrds {
            margin-top: 2.6%;
            margin-left: -0.5%;
            /*width: 200px;*/
            padding-left: 10px;
            border-left: 1px solid;
            padding-top: 15px;
            }
            div#idShowOG_PrdsCount {
            float: left;
            margin-top: 2.6%;
            width: 175px !important;
            margin-left: -4%;
            padding-right: 12px;
            font-size: 13px;
            font-family: Arial;
            color: #3b3b3b;
            }

            /*          span.col-md-1.col-sm-1.border {
            border-left: 1px solid;
            height: 15px;
            /* float: left; */

            padding: 0;
            width: 1px;
            margin-top: 2.7%;
            margin-left: 0.5%;
            }

            */ .Err_fontcolor {
                color: #FFF !important;
            }
            
            
            table.bootstrap.table.last4buy_table {
                font-family: Arial;
             /* added by Avinash for SSDR23-1803 START */ 
                padding-left: 24px;
             /* added by Avinash for SSDR23-1803 END */ 
            }
            

            span.text {
                font-family: Arial;
            }

            h5.noOrdGuidOpp {
                font-weight: 800;
            }

            button#idAddPrdBtn {
                width: 18%;
                margin-left: 3.5%;
                background: #5C8727;
                color: #ffffff;
            }

            div#idDivNoPrds {
                border: 1px solid #AAA;
            }

            .bootstrap .btn-default {
                color: #3b3b3b;
                font-size: 13px;
                font-family: Arial;
            }

            .btn-group.bootstrap-select.bootstrap.col-md-12.col-sm-12.lightGrayBck {
                padding: 0;
            }

            .bootstrap.col-md-8.col-sm-8.pricing_left {
            /*width: 70%;*/
                padding: 0;
                margin-top: 7px;
                background-color: #FFFFFF !important;
            }

            .col-md-12.col-sm-12.product {
                padding: 0;
            /*margin-top: 4%;*/
            }

            .col-md-12.col-sm-12.rightsection_2 {
                padding: 0;
            }

            .col-md-12.col-sm-12.divcrntprice {
                padding-right: 0;
            }

            div#missedPIMPrdsErrdivId {
                border-top: 1px solid #FFF;
            }

            th#idHeaderRowGrpFilter {
                text-align: center;
                font-family: Arial !important;
                font-size: 13px !important;
                color: #3b3b3b !important;
            }

            th#idHeaderRowGrpFilter {
                text-align: center !important;
            }

            div#idAddPrdsCount {
                background-color: red;
                color: #FFFFFF !important;
            }

            div#idAllErrorMsgs {
            /* changed by Avinash For SSDR23-1759 START */
            /* margin-top: 3%; */
            margin-top: 1%;
            /* changed by Avinash For SSDR23-1759 START */
            }
        </style>
    </head>
    <!--Body Starts -->
    <!-- added by avinash SSDR23-1757 start-->
    <body class="clsGrid bootstrap container-fluid " style=" padding: 0px; overflow: visible; min-height: 40rem; background-color: #fff; ">
           <!-- added by avinash SSDR23-1757 end-->

        <apex:form >
            <apex:actionFunction name="navigateToURLFunc" action="{!navigateToURL}" rerender="">
                <apex:param name="firstParam" assignTo="{!url}" value="" />
            </apex:actionFunction>
        </apex:form>
        <!-- SSDR23-1479 - Added by Phani -->               
        <!-- <ol class="whiteBck bootstrap breadcrumb mt">
        <ol class="whiteBck bootstrap breadcrumb mt">
            <li class="mt-li"></li>
            <li class="font12NR mt-ewl">
                <div class="mt-8250"></div>
            </li>
            <li class="font12NR active-ewl"></li>
        </ol>
        <div class="bootstrap row mntnce">
            <div class="col-md-4 Ewl">
                <h1 class="font48NCB">Maintenance</h1>
            </div>
            <div class="col-md-4">
            </div>
        </div> -->
        <div id="wrapper">

            
            <!--apex:outputpanel rendered="{!objUserProfName.Profile.Name != 'USF_TerritoryManager'}">
                <div class="col-md-2 col-sm-2">
                    <h5 class="h5 tm"><b>TM:</b><span class="h5-tm-span" onClick="navigateToURLFunc('/apex/VFP_Pricing_TM');"><a href = "#">{!userinfromation.Name}({!userinfromation.Sales_Route__c})</a></span></h5>
                </div>
            </apex:outputpanel-->
            

            <!--Removed TM Name Hyperlink by ADUA from here and placed at the end on this Div-->
             <!-- changed by Avinash for SSDR23-1810 START -->
            <div class="whiteBck bootstrap col-md-12 col-sm-12 row clearfix" style="padding-bottom: 1.5%;">
                 <!-- changed by Avinash for SSDR23-1810 END -->
<!-- ~DEV-NOTE(ADUA) - Here Total Column sum is 11 and not 12 as screen wraps after 11th on iPhones-->
                <!-- Vyas - 2096 - Modified below line -->
                <div class="whiteBck bootstrap col-md-2 col-sm-2 label_cust" style="width:7.5%;"><span class="font21NCB">Pricing for</span></div>
                <div class="whiteBck bootstrap col-md-3 col-sm-3 cust_select" style="padding-left: 5px;padding-right: 1px;">
                    <div class="row1-3home" style="padding-left: 5px;padding-right: 1px;">
                        <select class="bootstrap col-md-12 col-sm-12 dullGrayBck selectpicker" style="padding-left: 5px;padding-right: 1px;" onchange="onCustomerChange()" data-width="95%" id="mntWatchList">
                            </select><!--span>&nbsp;&nbsp;-</span-->
                    </div>
                </div>
                <!-- changed by Avinash for story SSDR23-1742 START --> 
                <div class="whiteBck bootstrap col-md-2 col-sm-2 bgcolor" style="padding-left: 1px;">
                    <!-- changed by Avinash for story SSDR23-1742 END --> 
                    <select class="bootstrap col-md-12 col-sm-12 lightGrayBck selectpicker " id="mntDptList" onchange="onDepartmentChange()" data-style="btn-inverse" data-width="100%" title="Select a Department" disabled="true">
                        </select>
                </div>
                <div class="whiteBck bootstrap col-md-1 col-sm-1 ButtonGo" style="padding-left: 0px;width:5%"><button id="btnGo" class="font13NCBWhite bootstrap col-md-12 col-sm-12 btn" disabled="true" onclick="DisplayProductsFunc()">Go</button></div>
                <!--  SSCD-97 -starts-->
                <!-- changed by Avinash for story SSDR23-1742 START --> 
                             
                <!--  SSCD-97 -ends-->
                
                <div class="whiteBck bootstrap col-md-1 col-sm-1" style="width:9%">
                    <!-- changed by Avinash for story SSDR23-1742 END --> 
                    <apex:outputpanel rendered="{!objUserProfName.Profile.Name != 'USF_TerritoryManager'}"> 
                        <!-- changed by Avinash for story SSDR23-1742 START -->  
                        <h5 class="h5 tm">
                        <b>Account Owner:</b>
                        <span class="h5-tm-span" onClick="navigateToURLFunc('/apex/VFP_Pricing_TM');"><a href = "#" style="color: #56821F;">{!userinfromation.Name}({!userinfromation.Sales_Route__c})</a></span>
                        </h5> 
                        <!-- changed by Avinash for story SSDR23-1742 END --> 
                    </apex:outputpanel>
                </div> 
                
                <!-- Vyas - 2096 - STARTS-->
                <div class="whiteBck bootstrap col-md-1 col-sm-1" style="width:15%; background-color: transparent !important;">
                    <h5 class="h5 tm" style="margin-top: 2px; margin-bottom: 2px;">
                        <b>CB Adoption (QTD):</b><span class="h5-tm-span" id="sellerCbAdoption"></span><br/>
                        <b>Lines to Give Over 75%:</b><span class="h5-tm-span" id="linesNeededToGive"></span>
                    </h5>
                </div>
                <!-- Vyas - 2096 - ENDS-->

                <!--  SSCD-97 -starts-->
                <div class="whiteBck bootstrap col-md-1 col-sm-1 font11NCB lrnmoreTop" style="margin-top:15px;"><a href="#" id="lrnmre" onclick="learnmorefunc()"><!--<img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/learn-more-32.png')}" width="15" height="15" style="margin-right:5px;"/>--><span class="bootstrap glyphicon"></span>Learn More</a></div> 
                <!--  SSCD-97 -ends-->
                
                 
                
                <!-- Commented by ADUA for SSCD-97
                <apex:outputpanel rendered="{!objUserProfName.Profile.Name != 'USF_TerritoryManager'}">
                    <div class="col-md-2 col-sm-2">
                        <h5 class="h5 tm"><b>TM:</b><span class="h5-tm-span" onClick="navigateToURLFunc('/apex/VFP_Pricing_TM');"><a href = "#">{!userinfromation.Name}({!userinfromation.Sales_Route__c})</a></span></h5>
                    </div>
                </apex:outputpanel>-->

            </div>            
            <!-- changed by Avinash For SSDR23-1759 START -->
            <!-- <br/> <br/> -->
            <div id="idAllErrorMsgs"></div>
            <!-- changed by Avinash For SSDR23-1759 END -->
            <div id="idAddPrdsCount" hidden="true"></div>
            <div id="idNoOfPrdsToDisplay" hidden="true">
                <div id="idProductsDisplayInfo"></div>
            </div>
            <div id="headerlevelErrdivId"></div>
            <div id="missedPIMPrdsErrdivId"></div>

            <div id="load" style="visibility:hidden;">
                <div id="idInfo">Please wait while the system refreshes your product and pricing information.</div>
            </div>
            <div class="bootstrap col-md-12 col-sm-12 pricing_section">
                <div class="bootstrap col-md-8 col-sm-8 pricing_left">

                    <!--new code SSCD-97 sratrs-->
                    <style>
                        /* Appirio KR  temp located here so i dont have to scroll will move to top of page later */
                        .lrnmoreTop {
                        
                        }
                        
                        .divsortfilter {
                            margin-bottom: 10px;
                        }

                        .search-divin {
                            position: relative;
                            width: 95%;
                        }

                        .searchdiv {
                            background-color: #FFF;
                            height: 20px;
                            position: absolute;
                            right: 10px;
                            top: 5px;
                            z-index: 2;
                        }

                        .search-icon {
                            margin-top: 4%;
                            margin-left: 7%;
                        }

                        .searchhBarSection {
                            padding: 10px;
                        }

                        .cookBarSection {
                            padding: 10px 1px !important;
                            border-left: 1px solid #AAA;
                            text-align: center;
                            height: 56px;
                            cursor:pointer;
                        }

                        .guideBarSection {
                            padding: 10px;
                            border-left: 1px solid #AAA;
                            text-align: center;
                            height: 56px;
                        }

                        .moreBarSection {
                            padding: 10px;
                            border-left: 1px solid #AAA;
                            text-align: center;
                            height: 56px;
                        }

                        .filterBarSection {
                            padding: 10px;
                            border-left: 1px solid #AAA;
                            text-align: center;
                            height: 71px;
                        }

                        .sortBarSection {
                            padding: 10px;
                            border-left: 1px solid #AAA;
                            text-align: center;
                            height: 71px;
                        }

                        .groupBarSection {
                            padding: 10px;
                            text-align: center;
                            height: 71px;
                        }

                        .cprBarSection {
                            padding: 10px 1px !important;
                            border-left: 1px solid #AAA;
                            text-align: center;
                            height: 71px;
                            line-height: 50px;
                        }
                        <!-- Added by Phani for DCT Button-->
                        .cprBarSection1 {
                            padding: 10px 1px !important;
                            text-align: center;
                            height: 71px;
                            line-height: 50px;
                        }

                        .font13Green {
                            font-size: 21px;/*SSCD-97*/
                            color: #5C8727 !important;
                            font-weight: bold;
                            font-family: Arial !important;
                            font-weight: bold;/*SSCD-97*/
                        }
                        
                        .font13Black {
                            font-size: 21px;/*SSCD-97*/
                            color: #000000 !important;
                            font-weight: bold;
                            font-family: Arial !important;
                            font-weight: bold;/*SSCD-97*/
                        }

                        .font13Red {
                            font-size: 21px;/*SSCD-97*/
                            color: #CF4520 !important;
                            font-weight: bold;
                            font-family: Arial !important;
                            font-weight: bold; /*SSCD-97*/
                        }/*SSDR23- 2055 start */
                         .creditBarSection {
                            padding: 10px;
                            border-left: 1px solid #AAA;
                            text-align: center;
                        height: 56px;
                        padding: 0px !important;
                        font-weight: 600;
                        color: black;
                        }
                         .fontCreditCard{
                        color:red;
                        }/*SSDR23- 2055 end */
                    </style>


                    <div class="bootstrap whiteBck col-md-12 col-sm-12" hidden="true" id="idPricingFilterSection1">
                        <div class="row divsortfilter">

                            <div class="bootstrap col-md-2  col-sm-12 searchhBarSection">
                                <div class="input-group stylish-input-group search-divin">
                                    <input type="text" class="whiteBck font13NR83 form-control search-field" id="idSearch" placeholder="Search Products" style="background:white !important;"/>
                                    <div class="searchdiv" >
                                        <a href="#" onclick="FilterSortGroupByProductsFunc()"><img class="search-icon" src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/search-32.png')}" width="15" height="15" /></a>
                                    </div>
                                </div>
                            </div>
                                 <div class="bootstrap col-md-2 col-sm-3 guideBarSection " style="padding: 0px !important;">
                                <span class="font13Black " id="idShowOG_PrdsCount">0</span><br/> Products Displayed
                            </div>
                            <div class="bootstrap col-md-2 col-sm-2 moreBarSection font11NCB" id="divViewMrePrds" style="margin-top:0px !important" >
                                <a href="javascript:void(0)" id="idViewMorPrds" style="color: #56821F;">
                                    &nbsp;<img src="{!URLFOR($Resource.eye_icon)}" width="24" height="21"/><br/>View Products</a>
                            </div>


                            <!-- updated for SSDR23-2039 START -->
                            <!--<div class="bootstrap col-md-3 col-sm-4 cookBarSection" onclick="FilterCookBookInRange()" style="padding: 0px !important;">
                                <span id="prodpercent" class="font13Red">N/A%</span><br/> In Cookbook Range
                            </div>-->
                            <div class="bootstrap col-md-2 col-sm-3 cookBarSection" onclick="FilterCookBookInRange()" style="padding: 0px !important; line-height: normal;">
                                <span id="prodpercent" class="font13Red">N/A%</span><br/> 
                                <span style="font-size: 13px;">CB Adoption(4 week avg.)</span>
                            </div>
                            <!-- updated for SSDR23-2039 END -->

                       <!--/*SSDR23- 2055 start */-->
                            <div class="bootstrap col-md-2 col-sm-3 creditBarSection " style="padding: 0px !important;">
                                Credit Card/CS:<span class="fontCreditCard " id="idShowOG_CreditCard">0</span><br/>Rebate/CS:<span class="fontCreditCard " id="idShowOG_Rebate">0</span><br/>(4 week avg.) 
                            </div>
                            <div class="bootstrap col-md-2 col-sm-2 moreBarSection font11NCB" id="" style="margin-top:0px !important" >
                                <a href="javascript:void(0)" style="color: #56821F;">
                                    &nbsp;<img src="{!URLFOR($Resource.metrics24)}" onclick="getCustomerMetrics()" width="24" height="21"/><br/><span onclick="getCustomerMetrics()" style="color:green;">Customer Metrics</span></a>
                            </div><!---/*SSDR23- 2055 end */-->

                            


                        </div>
                    </div>

                    <div class="bootstrap whiteBck col-md-12 col-sm-12" hidden="true" id="idPricingFilterSection2">
                        <div class="row divsortfilter">

                            <div class="bootstrap col-md-2 col-sm-6 dropdown filterBarSection">
                                <div class="bootstrap dropdown col-md-12 grp" style="text-align: left !important;">
                                    <!--span class="grpbyborder"></span-->
                                    <font class="font12NCB grp-font" style="white-space: nowrap;">Filter by</font>
                                </div>
                                <select class="bootstrap col-md-12 col-sm-12 round" onChange="javascript:FilterSortGroupByProductsFunc()" id="idSelFilterBy">
                                           <option value="CBA/Deviation Prds">CBA/Deviation Products</option>
                                           <option value="CPR Auto Assist">CPR Auto Assist</option><!--Added By SSDR23-306 Phani-->
                                           <option >No CPR Established</option><!--Added  for SSDR23-1582 sowmya--> 
                                           <option value="In MIN and TGT Range">In MIN &amp; TGT Range</option>
                                           <option value="Not in CookBook Range">Not in CookBook Range</option>
                                           <option value="Not on Watch List">Not on Watch List</option>
                                           <option value="Opportunity Products" >Opportunity Products</option>
                                           <option value="Order Guide Products" >Order Guide Products</option>                                           
                                           <option value="Product Errors">Product Errors</option> 
                                           <option  value="Show All" selected="selected">Show All</option>
                                           <option value="Show All Above Max">Show All Above Max</option>   <!--Added  for SSDR23-1583-->
                                           <option value="Show All Below Min">Show All Below Min</option>   <!--Added  for SSDR23-1583-->
                                           <option value="Show All Market Change">Show All Market Change</option> <!--Added By SSDR23-306 Phani-->
                                       </select>
                            </div>


                            <div class="bootstrap col-md-3 col-sm-6 sortBarSection">
                                <div class="bootstrap dropdown col-md-12 sorby" style="text-align: left !important;">
                                    <font class="font12NCB sort" style="white-space: nowrap;">Sort by</font>
                                </div>
                                <div class="bootstrap col-md-12 sor">
                                    <select class="whiteBck bootstrap col-md-12 col-sm-12 selectpicker" onChange="javascript:FilterSortGroupByProductsFunc()" role="menu" id="idSelSortBy">
                                               <option value="GPD/GPP (Asc)" class="whiteBck sortby">GPD/GPP (Asc) </option>
                                               <option value="GPD/GPP (Desc)" class="whiteBck sortby">GPD/GPP (Desc) </option>
                                               <option value="Market Change (Asc)" class="whiteBck sortby">Market Change (Asc)</option>//Added as per SSDR23-43(630) by Phani // Nimitha Moved these up for bug -641
                                               <option value="Market Change (Desc)" class="whiteBck sortby">Market Change (Desc)</option>//Added as per SSDR23-43(630) by Phani
                                               <option value="Price Change (Asc)" class="whiteBck sortby">Price Change (Asc)</option>
                                               <option value="Price Change (Desc)" class="whiteBck sortby" selected="selected">Price Change (Desc)</option>                                               
                                               <option value="Product Description (A-Z)" class="whiteBck sortby">Product Description (A-Z)</option>
                                               <option value="Target - Current (Asc)" class="whiteBck sortby">Target - Current (Asc)</option>
                                               <option value="Target - Current (Desc)" class="whiteBck sortby">Target - Current (Desc)</option>
                                               <option value="WWP (Asc)" class="whiteBck sortby" >WWP (Asc) </option>
                                               <option value="WWP (Desc)" class="whiteBck sortby">WWP (Desc)</option>                                               
                                           </select>
                                </div>
                            </div>


                            <div class="bootstrap col-md-3 col-sm-6 groupBarSection">
                                <div class="bootstrap dropdown col-md-12 grp" style="text-align: left !important;">
                                    <font class="font12NCB grp-font" style="white-space: nowrap; ">Group by</font>
                                </div>
                                <div class="bootstrap col-md-12 grop">
                                    <select class="whiteBck bootstrap col-md-12 col-sm-12 selectpicker" role="menu" id="idSelGrouptBy" onChange="javascript:FilterSortGroupByProductsFunc()">
                                               <option value="CBA End Date (Asc)" class="whiteBck sortby">CBA End Date (Asc)</option>
                                               <option value="Driver CPRs" class="whiteBck sortby">Driver CPRs</option>
                                               <option value="No Grouping" class="whiteBck sortby">No Grouping</option>
                                               <option value="PIM Class" class="whiteBck sortby">PIM Class</option>
                                               <option value="WWP (Asc)" class="whiteBck sortby" selected="selected">WWP (Asc)</option>
                                           </select>
                                </div>
                            </div>

                            <!--Phani Adjusted the below bootstrap classes for ipadFix of update Product cpr display-->
                            <div class="bootstrap col-md-3 col-sm-6 cprBarSection">
                                <button id="btnMaintenance" onclick="updatePrdCPRValues();" class="font13NCBWhite bootstrap btn" style="padding:7px 8px;">Update Product CPRs</button>
                            </div>
                            <!--Below div added by Phani for DCT Button-->
                            <div class="bootstrap col-md-1 col-sm-6 cprBarSection1">
                                <button id="btnMaintenance1" onclick="NavigatingDCTPagFunc();" class="font13NCBWhite bootstrap btn" style="padding:7px 8px;">DCT</button>
                            </div>


                        </div>
                    </div>
                    <!--new code SSCD-97 ends-->
                    <!--- old code pre SSCD-97 starts
                     <div class="bootstrap col-md-12 col-sm-12 pricing_section-left affix-top" data-offset-top="197" hidden="true" id="idPricingFilterSection">
                           <div class="row divsortfilter">
                               <div class="bootstrap col-md-12 col-sm-12 panel-body  affix-top" data-offset-top="197">
                                   <div class="bootstrap col-md-3 col-sm-3 dropdown ShowallFilter">
                                       <select class="bootstrap col-md-12 col-sm-12 round" onChange="javascript:FilterSortGroupByProductsFunc()" id="idSelFilterBy" >
                                           <option value="CBA/Deviation Prds">CBA/Deviation Products</option>
                                           <option value="In MIN and TGT Range">In MIN &amp; TGT Range</option>
                                           <option value="Not in CookBook Range">Not in CookBook Range</option>
                                           <option value="Not on Watch List">Not on Watch List</option>
                                           <option value="Opportunity Products" >Opportunity Products</option>
                                           <option value="Order Guide Products" >Order Guide Products</option>
                                           
                                           <option value="Product Errors">Product Errors</option> 
                                           <option  value="Show All" selected="selected">Show All</option>
                                       </select>
                                   </div>
                                   <div class="bootstrap col-md-4 col-sm-4 sorting">
                                       <div class="bootstrap dropdown col-md-3 col-sm-3 sorby">
                                           <span class="sorbyborder"></span>    
                                           <font class="font12NCB sort" style="white-space: nowrap;">Sort by</font>
                                       </div>
                                       <div class="bootstrap col-md-9 col-sm-9 sor">
                                           <select class="whiteBck bootstrap col-md-12 col-sm-12 selectpicker" onChange="javascript:FilterSortGroupByProductsFunc()" role="menu" id="idSelSortBy" >
                                               <option class="whiteBck abc sortby">GPD/GPP (Desc) </option>
                                               <option class="whiteBck abc sortby">Price Change (Asc)</option>
                                               <option class="whiteBck abc sortby" selected="selected">Price Change (Desc)</option>
                                               <option class="whiteBck abc sortby">Product Description (A-Z)</option>
                                               <option class="whiteBck abc sortby">Target - Current (Asc)</option>
                                               <option class="whiteBck abc sortby">Target - Current (Desc)</option>
                                               <option class="whiteBck abc sortby" >WWP (Asc) </option>
                                               <option class="whiteBck abc sortby">WWP (Desc)</option>
                                           </select>
                                       </div>
                                   </div>
                                   <div class="bootstrap col-md-4 col-sm-4 grouping">
                                       <div class="bootstrap dropdown col-md-3 col-sm-3 grp">
                                           <span  class="grpbyborder"></span>    
                                           <font class="font12NCB grp-font" style="white-space: nowrap;">Group by</font>
                                       </div>
                                       <div class="bootstrap col-md-9 col-sm-9 grop">
                                           <select class="whiteBck bootstrap col-md-12 col-sm-12 selectpicker" role="menu" id="idSelGrouptBy"  onChange="javascript:FilterSortGroupByProductsFunc()" >
                                               <option class="whiteBck abc sortby">CBA End Date (Asc)</option>
                                               <option class="whiteBck abc sortby">Driver CPRs</option>
                                               <option class="whiteBck abc sortby">No Grouping</option>
                                               <option class="whiteBck abc sortby">PIM Class</option>
                                               <option class="whiteBck abc sortby" selected="selected">WWP (Asc)</option>
                                           </select>
                                       </div>
                                   </div>
                               </div>
                           </div>
                       </div>
                        
                      <div class="bootstrap whiteBck col-lg-12 col-md-12 col-sm-12 divupdate" id="idDivUpdateRefresh" hidden="true">
                           <div class="whiteBck bootstrap col-md-3 col-sm-3 product-count"><button id="btnMaintenance" onclick ="updatePrdCPRValues()" class="font13NCBWhite bootstrap btn">Update Product CPRs</button></div>
                           <!-- <div class="font11NCB col-md-2 col-sm-2" style="float:left; margin: 2.5% 0% 0% 0%;" ><a href="javascript://" style="text-decoration: none;color:#5C8727 !important;" onClick="NavigatingOrdrGuidPagFunc()"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/watch-list-color-32.png')}" width="15" height="15" style="margin-right:5px;"/><span class="bootstrap glyphicon" style="color:red;margin-top:-15px;font-weight:bold;"></span>Edit List</a></div> this is not required-->
                           <!-- <div class="bootstrap col-md-5 col-sm-5 font11NCB rfresh"><a href="#" id="rfrsh" onclick="refreshfunc()"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/refresh-32.png')}" width="15" height="15" style="margin-right:5px;"/><span class="bootstrap glyphicon"></span>Refresh Pricing</a><span id="lastrfresh"></span></div>-->
                           <!-- R.M 03/13/2017:
                           <div class=" col-md-2 col-sm-2font11NCB " id="idShowOG_PrdsCount"></div> 
                           <!--      <span class="col-md-1 col-sm-1 border"></span>  
                           <div class=" col-md-5 col-sm-5 font11NCB" id="divViewMrePrds" style="visibility:hidden;"><a href="javascript:void(0)" id="idViewMorPrds" onClick="getMoreOGProductsFunc()">View More Products</a></div>
                           <div class="bootstrap col-md-2 col-sm-2 font11NCB lrnmore"><a href="#" id="lrnmre" onclick="learnmorefunc()"  style="float:right;"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/learn-more-32.png')}" width="15" height="15" style="margin-right:5px;"/><span class="bootstrap glyphicon"></span>Learn More</a></div>
                       </div>
                        old code pre SSCD-97 ends-->

                    <div class="bootstrap col-md-12 col-sm-12 " id="idDivNoPrds" hidden="true">
                        <div class="bootstrap row container col-md-12 col-sm-12">
                            <div class="bootstrap jumbotron-fluid" id="noPrdts">
                                <h5 class="noOrdGuidOpp">&nbsp;&nbsp;&nbsp;&nbsp;There are no products in the Watchlist.</h5>
                            </div>
                            <div class="bootstrap jumbotron-fluid" id="idDivAddPrdBtn">
                                <button type="button" onClick="NavigatingOrdrGuidPagFunc()" id="idAddPrdBtn">Add Products</button>
                            </div>
                            <br/>
                        </div>
                    </div>




                    <div id="load1" style="visibility:hidden;">
                        <div id="idInfo1">Please wait while the system refreshes your product and pricing information.</div>
                    </div>
                    <div class="scroll-bar-wrap">
                        <div class="whiteBck bootstrap col-md-12 col-sm-12 table-responsive scroll-box" style="tablediv" id="iddDiv" hidden="true">
                            <div id="divAccName"></div>
                            <table id="watchListTable" class="whiteBck table table-bordered " data-page-size="4">
                                <tbody id="tblProducts">
                                </tbody>
                            </table>
                        </div>
                        <div class="cover-bar"></div>
                    </div>
                </div>
                <div class="bootstrap col-md-4 col-sm-4 pricing_section-right" id="idPricingSectionRight" hidden="true">
                    <div class="col-md-12 col-sm-12 rightsection">
                        <!-- changed by Avinash for SSDR23-1579 START -->
                        <div class="col-md-12 col-sm-12 font21NB" style="display:none">Product Details</div>
                        <div class="col-md-12 col-sm-12 underline" style="display:none"></div>
                        <!-- changed by Avinash for SSDR23-1579 END -->
                        <div class="col-md-12 col-sm-12 product">
                            <div class="col-md-8 col-sm-8 prddetailsdiv">
                                <div class="col-md-12 col-sm-12 prdaddress" id="divTanName"></div>
                                <div class="col-md-12 col-sm-12 productdiv" id="divProdDesc"></div>
                                <div class="col-md-12 col-sm-12 prdplace" id="divBrand"></div>
                                <div class="col-md-12 col-sm-12 prdplace"><span id="divPrdNumb"></span> | <span id="divPackSiz"></span></div>
                               
                            </div>
                              <!-- Changed by Avinash Singh for SSDR23-1761 START -->
                            <!-- changed by neeraj sharma for story SSDR23-1799 start -->
                                <div class="col-md-12 col-sm-12 prdscoop" style=" position: absolute;padding-left: 21rem;padding-top: 2rem;padding-bottom: 2rem;" id="prdScoopItemStatus">
                                  <!--  changed by neeraj sharma for story SSDR23-1799 end -->
                                    <!-- Changed by Avinash Singh for SSDR23-1761 END -->
                                    <!--  <span id="spScoopItemStatus"></span> <span id="itemStatus"></span><span id="itemStausText"></span> -->
                                    <span id="idGreenTick"></span>
                                    <!-- added by Deepanshu for SSCD-207 - Greentick //commented until further clarification-->
                                    <span id="idSom"></span>
                                    <span id="idDWO"></span>
                                    <span id="idBREAKABLE"></span>
                                    <span id="idJIT"></span>
                                    <span id="idVS"></span>
                                    <span id="idDISC"></span>
                                    <span id="idScoop"></span>
                                    <span id="idPriceLocallyIndicator"></span>
                                </div>
                        </div>
                        <div class="col-md-12 col-sm-12 price">
                            <div class="col-md-4 col-sm-4 crntpricediv">
                                <div class="col-md-12 col-sm-12 divcrntprice"><span class="currentpricespan">Current Price</span><br/><span class="currentprice" id="spCurPrc"></span></div>
                            </div>
                            <div class="col-md-8 col-sm-8 setdiv">
                                <div class="col-md-4 col-sm-4 setmindiv">
                                    <a href="javascript://" onclick="SetFunc('spMin')" style="text-decoration:none;">
                                        <div class="setmin">Set Min<br/><span class="setminrate" id="spMin"></span></div>
                                    </a>
                                </div>
                                <!--    <span class="setborder"></span>   -->
                                <div class="col-md-4 col-sm-4 settargetdiv">
                                    <a href="javascript://" onclick="SetFunc('spTarg')" style="text-decoration:none;">
                                        <div class="settarget">Set Target<br/><span class="setminrate" id="spTarg"></span></div>
                                    </a>
                                </div>
                                <!--   <span class="setborder1"></span>   -->
                                <div class="col-md-4 col-sm-4 setmaxdiv">
                                    <a href="javascript://" onclick="SetFunc('spMax')" style="text-decoration:none;">
                                        <div class="setmax" id="divMax">Set Max<br/><span class="setminrate" id="spMax"></span></div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 container rightsection_2">
                        <nav class="bootstrap navbar nav-tabs" id="rightnavpricing" role="navigation">
                            <div>
                                <ul class="bootstrap nav nav-tabs">
                                    <li class="active margin"><a href="#pricing" data-toggle="tab">Pricing</a></li>
                                    <!-- changed by Avinash for SSDR23-1579 START -->
                                    <li class="margin"><a href="#last4buys" data-toggle="tab" style="display:none">Last 4 Buys</a></li>
                                    <!-- changed by Avinash for SSDR23-1579 END -->
                                    <li class="margin"><a href="#last4buysgraph" data-toggle="tab">Last 4 Buys Graph</a></li>
                                </ul>
                            </div>
                        </nav>
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="pricing" style="/*padding-top:10%;visibility:visible;*/">
                               <!--Updated by ADUA for Grid CSS fix as per SSCD-1207-->
                                <div class="bootstrap col-sm-12 col-md-12 col-lg-12 pricing_tab">
                                    
                                    
                                    <div class="bootstrap col-sm-12 col-md-12 col-lg-6 pricing_lft_tab" style="padding-left:10px !important; padding-right:10px !important">
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">COM<span class="pricingvalue" id="spCOM"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">Rationale<span class="pricingvalue" id="spRationale"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">GPD<span class="pricingvalue" id="spGPD"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">Break Surcharge<span class="pricingvalue" id="spBrkSurchrge"></span></div>                                        
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">Each Price<span class="pricingvalue" id="spEachPrice"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">CPR Date<span class="pricingvalue" id="cprAdjustedDate"></span></div>
                                        
                                       
                                    </div>
                                    <!-- changed by Avinash for SSDR23-1579 START -->
                                    <div class="bootstrap col-sm-12 col-md-12 col-lg-6 pricing_right_tab" style="padding-left:10px !important; padding-right:10px !important"> 
                                        <!--Added by ADUA for SSCD-473 -->
                                        <!-- changed by Avinash for SSDR23-1758 START -->
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left" >CS QTY Available<span class="pricingvalue" id="caseQtyAvl"></span></div>
                                       <!-- changed by Avinash for SSDR23-1758 END -->
                                        <!--Added by ADUA for SSCD-290 -->
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left" >EA QTY Available<span class="pricingvalue" id="eachQtyAvl"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left" style="display:none">Last Wk's Price<span class="pricingvalue" id="spLastWkPrice" style="display:none"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">Last Wk's Price Date<span class="pricingvalue" id="spLastWkPriceDate"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">CBA Number<span class="pricingvalue" id="spCBANumber"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">CBA Amount<span class="pricingvalue" id="spCBAAmount"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight prcng_left">CBA End Date<span class="pricingvalue" id="spCBAEndDate"></span></div>                                        
                                    </div> 
                                    <!-- changed by Avinash for SSDR23-1579 END -->
                                    <!-- changed by Avinash for SSDR23-1579 START -->
                                    <div class="col-md-12 tab-pane" id="last4buys" style="/*padding-top:10%;visibility:hidden;*/">
                                        <table class="bootstrap table last4buy_table">
                                            <thead style="/*margin-top:-10%*/">
                                                <tr>
                                                    <th class="last-buy font-weight">
                                                        INVOICE
                                                    </th>
                                                    <th class="last-buy font-weight">
                                                        INV DATE
                                                    </th>
                                                    <th class="last-buy font-weight">
                                                        WWP
                                                    </th>
                                                    <th class="last-buy font-weight">
                                                        PRICE
                                                    </th>
                                                    <th class="last-buy font-weight">
                                                        QTY
                                                    </th>
                                                    <th class="last-buy font-weight">
                                                        MTHD
                                                    </th>
                                                    <th class="last-buy font-weight">
                                                        DEPT
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody id="idLastFourBuys">
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- changed by Avinash for SSDR23-1579 END -->
                                    <div class="bootstrap col-sm-12 col-md-12 col-lg-12 underline1"></div>
                                    <div class="bootstrap col-sm-12 col-md-12 col-lg-12 drive" style="padding-left:10px !important; padding-right:10px !important">
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight">Driver<span class="font18NCB setminrate" id="driverInformation"></span></div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 font-weight">Passenger<span class="font18NCB" id="passengerIndicator">NO</span></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-12 tab-pane fade" id="last4buysgraph" style="/*padding-top:10%;visibility:hidden;*/">
                                <div id="chart_div">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--changes for SSDR23-2056 START rishu-->
                <style>
                    .WKAvg {
                    border: 0.05px solid black;
                    background-color: white;
                    padding: 2px;
                    }
                    
                    /* code changed for SSDR23-2234 START */
                    /*4 WK AVG Table */
                    .WKAvg1 {
                    border: 0.05px solid black;
                    background-color: white;
                    padding: 2px;                    
                    padding-left: 2px !important;
                    padding-right: 2px !important;                    
                    }
                    
                    /*4 WK TREND Table changes START*/
                     .WKAvg2 {
                    border: 0.05px solid black;
                    background-color: white;
                    padding: 2px;                    
                    padding-left: 0px !important;
                    padding-right: 0px !important;                    
                    }
                    
                    .4WKTrnd{
                    width:12%;
                    padding-right: 1px;
                    padding-left: 1px;
                    }
                    /*4 WK TREND Table END*/
                    /* code changed for SSDR23-2234 END */
                </style>
                <div class="bootstrap col-md-4 col-sm-4 pricing_section-right" id="idCustomerMetrics" hidden="true"> 
                    <div class="col-md-12 col-sm-12" style="margin:8px;">
                        <img src="{!URLFOR($Resource.metrics24)}" width="24" height="21"/><span style="color:black; font-size:20px;font-weight: bolder;">&nbsp;&nbsp;&nbsp;Customer Metrics</span>
                        <span style="float:right;"><img src="{!URLFOR($Resource.MetricsClose)}" width="20" height="20" onclick="closeCustomerMetrics()"/></span>
                    </div>
                    <br/><br/><br/>
                    <div class="col-md-12 col-sm-12" >
                        <div class="col-md-6 col-sm-6 ">
                            <span style="font-size:15px;font-weight: bolder;color:red;">4 Week Average*</span>
                        </div>
                        <div class="col-md-3 col-sm-3 ">
                            <div class="routeContributionValue">Value</div>
                        </div>
                        <div class="col-md-3 col-sm-3 ">
                            <!-- changed for SSDR23-2231 START -->
                            <div class="routeContributionChange">Change**</div>
                            <!-- changed for SSDR23-2231 END -->
                        </div>
                    </div>
                    <br/>
                    <div class="col-md-12 col-sm-12 " >
                        <div class="col-md-6 col-sm-6 WKAvg1">
                            <div class="routeContributionWeek">Route Contribution / WK</div>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="routeContributionWeekValue">-</span>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="routeContributionWeekChange">-</span>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 " >
                        <div class="col-md-6 col-sm-6 WKAvg1">
                            <!-- changed for SSDR23-2231 START -->
                            <div class="caseWeek">Cases / WK</div>
                            <!-- changed for SSDR23-2231 END -->
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="caseWeekValue">-</span>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="caseWeekChange">-</span>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 " >
                        <div class="col-md-6 col-sm-6 WKAvg1">
                            <div class="routeContributionCase">Route Contribution / CS</div>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="routeContributionCaseValue">-</span>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="routeContributionCaseChange">-</span>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 " >
                        <div class="col-md-6 col-sm-6 WKAvg1">
                            <!-- changed for SSDR23-2231 START -->
                            <div class="lineWeek">Lines / WK</div>
                            <!-- changed for SSDR23-2231 END -->
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="lineWeekValue">-</span>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="lineWeekChnage">-</span>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 " >
                        <div class="col-md-6 col-sm-6 WKAvg1">
                            <div class="dropsWeek">Drops / WK</div>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="dropsWeekValue">-</span>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="dropsWeekChange">-</span>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 " >
                        <div class="col-md-6 col-sm-6 WKAvg1">
                            <div class="ebPercent">EB %</div>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="ebPercentValue">-</span>
                        </div>
                        <div class="col-md-3 col-sm-3 WKAvg1">
                            <span id="ebPercentChange">-</span>
                        </div>
                    </div><br/>
                    <div class="col-md-12 col-sm-12 " >
                        <br/>* Based on 4 week trend shown below.<br/>
                        ** Change from previous 4-week average.
                        <br/><br/>
                    </div><br/> 
                    
                    <!-- Avinash 2099 START -->
                    <br/>
                    <div class="col-md-12 col-sm-12" >
                        <div class="col-md-6 col-sm-6 " style="width:49%">
                            <span style="font-size:15px;font-weight: bolder;color:red;">4 Week Trend*</span>
                        </div>
                        <div class="col-md-2 col-sm-2" style="width:12%;padding-right: 1px;padding-left: 1px;">
                            <span id="DateOfWK1">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2" style="width:12%;padding-right: 1px;padding-left: 1px;">
                            <span id="DateOfWK2">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2" style="width:12%;padding-right: 1px;padding-left: 1px;">
                            <span id="DateOfWK3">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2" style="width:12%;padding-right: 1px;padding-left: 1px;">
                            <span id="DateOfWK4">-</span>
                        </div>
                    </div>
                    
                     <br/>
                    <div class="col-md-12 col-sm-12 " >
                        <div class="col-md-6 col-sm-6 WKAvg2" style="width:50%;padding-left: 1px;">
                            <div class="routeContributionWeek">Route Contribution / WK</div>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="routeContributionWeek1">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="routeContributionWeek2">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="routeContributionWeek3">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="routeContributionWeek4">-</span>
                        </div>
                    </div>
                    
                    <div class="col-md-12 col-sm-12">
                        <div class="col-md-6 col-sm-6 WKAvg" style="width:50%;padding-left: 1px;">
                            <div class="caseWeek">Cases / WK</div>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="caseWeek1">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="caseWeek2">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="caseWeek3">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="caseWeek4">-</span>
                        </div>
                    </div>
                    
                    <div class="col-md-12 col-sm-12">
                        <div class="col-md-6 col-sm-6 WKAvg2" style="width:50%;padding-left: 1px;">
                            <div class="routeContributionCase">Route Contribution / CS</div>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="routeContributionCase1">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="routeContributionCase2">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="routeContributionCase3">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="routeContributionCase4">-</span>
                        </div>
                    </div>
                    
                    
                    <div class="col-md-12 col-sm-12">
                        <div class="col-md-6 col-sm-6 WKAvg" style="width:50%;padding-left: 1px;">
                            <div class="lineWeek">Lines / WK</div>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="lineWeekValue1">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="lineWeekValue2">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="lineWeekValue3">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="lineWeekValue4">-</span>
                        </div>
                    </div>
                    
                    
                    <div class="col-md-12 col-sm-12">
                        <div class="col-md-6 col-sm-6 WKAvg" style="width:50%;padding-left: 1px;">
                            <div class="dropsWeek">Drops / WK</div>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="dropsWeekValue1">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="dropsWeekValue2">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="dropsWeekValue3">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="dropsWeekValue4">-</span>
                        </div>
                    </div>
                    
                    <div class="col-md-12 col-sm-12">
                        <div class="col-md-6 col-sm-6 WKAvg" style="width:50%;padding-left: 1px;">
                            <div class="ebPercent">EB %</div>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="ebPercentValue1">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="ebPercentValue2">-</span>

                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="ebPercentValue3">-</span>
                        </div>
                        <div class="col-md-2 col-sm-2 WKAvg2" style="width:12%">
                            <span id="ebPercentValue4">-</span>
                        </div>
                    </div><br/>
                     <!-- Avinash 2099 END -->
                </div>
                <br/><br/>
                <!--changes for SSDR23-2056 END-->
            </div>
            <div id="light" class="white_content">
                <!-- Learn More Popup Window  -->
                <div class="modal fade" id="myModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <a href="#" onclick="closefunc()"><span style="float:right;"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/close-modal-32.png')}" width="15" height="15"/></span></a>
                                <h1 class="font48NCB modal-title">Learn More - Glossary of Terms</h1>
                            </div>
                            <div class="modal-body">
                                <h5 class="text-center">This glossary defines the terms and symbols within the Maintenance section</h5>
                                <table class="table table-striped" id="tblGrid" style="font-size: 12px;">
                                    <tbody>
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/watch-list-color-32.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Add or remove product from Watch List</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a">PRODUCT</td>
                                            <td class="model-column-b">Column contains Product Description, ASYS Product Number, Pack Size and WWP</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a">PIM CLASS</td>
                                            <td class="model-column-b">Product's PIM (Product Information Master) class</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a">PACK SIZE</td>
                                            <td class="model-column-b">Product's pack size</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a">LAST 4 BUY QTY</td>
                                            <td class="model-column-b">Sum of last 4 buys within the past 30 days converted to eaches</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a">WWP</td>
                                            <td class="model-column-b">Weeks Without Purchase. If product was purchased in the last week, column will display "Curr". If there is no WWP data, column will display "Unknown".</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a">CURRENT / LAST WEEK</td>
                                            <td class="model-column-b">Current price and last week's price. Last Week's price is from the prior week's Friday's effective date and will be refreshed on Saturday.</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a">DOLLAR VARIANCE OVER
                                                <BR/>LAST WEEK</td>
                                            <!-- SV 01/17/2017: US-1827 Changed ? to ' in definition below. -->
                                            <td class="model-column-b">This is not a required field for the user to enter, but will default to 0. When a value isn't entered by the user (so that the value is 0), the product will display on the Watch List when the price has changed. If a value is entered, it will always be a positive value in this field. When the Current Price is subtracted from Last Week's Price, if the absolute value of the difference is greater than or equal to the entered value, this triggers an exception and the product will display on the Watch List.</td>
                                        </tr>
                                        <!-- RM 01/17/2017: US-1807- Updated Learn more icons as per the sheet from the line 3596-3661. -->
                                        <tr class="whiteBck bootstrap col-md-1 product-count model-close cls_TD_LrnMr"></tr>
                                        <tr>
                                            <td class="cls_Prd_Details">Icons Displayed in the Product List:</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/opportunity-coin-32.png')}" width="15" height="15" /></td>
                                            <!-- RM 01/16/2017:Changed ?ndicates Opportunity Product?TO ?pportunity Product?-->
                                            <td class="model-column-b">Opportunity Product</td>
                                        </tr>
                                        
                                        <!-- Code added by Deepanshu for SSCD-297, statrs -->                                        
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.greenCheckmark)}" width="15" height="15"/></td>
                                            <td class="model-column-b">Product priced as Target or above</td>
                                        </tr>                                        
                                        <!-- Code added by Deepanshu for SSCD-297, ends -->
                                        
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/locally-priced-32.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Locally Priced</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/sm-blue-arrow-up-16.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Current price is greater than last week's price</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/sm-gold-arrow-down-16.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Current price is less than last week's price</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/price-variance-32.png')}" width="15" height="15" /></td>
                                            <!-- //RM 01/16/2017:   Changed price variance outside specified range TO price variance outside specified range indicated by user -->
                                            <td class="model-column-b">Price variance outside specified range indicated by user</td>
                                        </tr>

                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/passenger-24.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Passenger Item</td>
                                        </tr>
                                        <!--Start Oct 16th 2018 sowmya madarapu updated for SSDR23-541-->                                      
                                        <!-- Updated on 26 june 2019 Avinash Singh for SSDR23-1744 START-->
                                        <tr class="model-column">
                                            <td class="model-column-a">MKT</td>
                                            <td class="model-column-b">Market Change</td>
                                        </tr> 
                                        <!-- Updated on 26 june 2019 Avinash Singh for SSDR23-1744 END-->
                                        <tr class="model-column">
                                             <!-- Updated on 26 june 2019 Avinash Singh for SSDR23-1744 START-->
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/cprassist24x24.png')}" width="15" height="15" title="tbd"/></td>
                                             <!-- Updated on 26 june 2019 Avinash Singh for SSDR23-1744 END-->
                                            <td class="model-column-b">CPR Auto Assist</td>
                                        </tr>
                                          
                                         <!--End Oct 16th 2018 sowmya madarapu updated for SSDR23-541-->
                                        
                                        
                                        <!--    //RM 01/16/2017:Product Details Icons-->
                                        <tr class="whiteBck bootstrap col-md-1 product-count model-close cls_TD_LrnMr"></tr>
                                        <tr>
                                            <td class="cls_Prd_Details">Icons Displayed in the Product Details:</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/breakable-24.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Breakable</td>
                                        </tr>
                                        <!-- Code added by Deepanshu for SSCD-297, statrs -->
                                        <!--
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.CPR)}" width="22" height="12" /></td>
                                            <td class="model-column-b">CPR Adjusted</td>
                                        </tr>
                                        -->
                                        <!-- Code added by Deepanshu for SSCD-297, ends -->
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/discontinued-24.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Discontinued </td>
                                        </tr>

                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/dwo-32.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Discontinued when out</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/just-in-time-24.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Just in time</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/locally-priced-32.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Locally Priced</td>
                                        </tr>
                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/scoop-24.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Scoop Product</td>
                                        </tr>


                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/special-order-24.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Special Order</td>
                                        </tr>

                                        <tr class="model-column">
                                            <td class="model-column-a"><img src="{!URLFOR($Resource.PricingUI, '/PricingUI/icons/vendor-shipped-24.png')}" width="15" height="15" /></td>
                                            <td class="model-column-b">Vendor Shipped</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="form-group">
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--content part over-->
                <div class="whiteBck bootstrap col-md-1 product-count model-close">
                    <button class="font13NCBWhite bootstrap btn model-table-closebtn" id="model-table-closebtn" onclick="closefunc()" style="background-color:#747474;border-radius: 0 !important;left: 44%;">Close</button>
                </div>
            </div>
            <div id="fade" class="black_overlay">
            </div>
            <!--------end-------->
        </div>
        
        <div id="warning-message">
            <p> Your browser does not meet the minimum requirements to display this page. Please increase your resolution. If you are on an iPad, please use landscape mode. Note: this page is not designed to be viewed on a phone.</p>
        </div>
        
        <style>
            h1.modal-title {
                font-size: 15px;
                color: #CF4520 !important;
                font-family: HelveticaNeue-CondensedBold !important;
            }

            .modal-body {
                padding-top: 12px;
            }

            table#tblGrid {
                padding-top: 15px;
                border-spacing: 8px;
            }

            td.model-column-a {
                font-weight: bold;
                text-transform: uppercase;
                width: 30%;
            }

            h5.text-center {
                font-size: 13px;
                font-weight: 100;
            }

            .model-table-closebtn {
                position: absolute;
                left: 50%;
                right: 50%;
            }

            .model-close {
                padding: 25px 0px;
                border-top: 1px solid #c2c2c2;
            }

            .white_content {
                display: none;
                position: absolute;
                top: 2.5%;
                left: 25%;
                width: 40%;
                height: 678px;
                padding: 16px;
                background-color: white;
                z-index: 1002;
                overflow: auto;
            }

            .black_overlay {
                display: none;
                position: absolute;
                top: 0%;
                left: 0%;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.4);
                z-index: 1001;
                -moz-opacity: 0.8;
                opacity: .80;
                filter: alpha(opacity=80);
            }

            .cust_select .dropdown-menu {
                width: 400px;
            }

            .cust_select .dropdown-menu span.fl {
                    float: left;
            }

            .cust_select .dropdown-toggle span.fr {
                margin-left:10px;
            }

           .cust_select .dropdown-menu span.fr {
                position: absolute;
                float: left;
                right: 0;
                margin-right: 30px;
                /*  color:#FF0000;  */
            }

            .scroll-bar-wrap {
                /*   width: 780px; */
                position: relative;
                margin: 2em auto;
            }

            }

            .scroll-box {
                width: 100%;
                height: 295px;
                overflow-y: scroll;
            }

            .scroll-box::-webkit-scrollbar {
                width: .4em;
            }

            .scroll-box::-webkit-scrollbar,
            .scroll-box::-webkit-scrollbar-thumb {
                overflow: visible;
                border-radius: 4px;
            }

            .scroll-box::-webkit-scrollbar-thumb {
             <!-- Code added by Avinash for SSDR23-1597 Start -->
              <!--  background: rgba(0, 0, 0, .2); -->
                background-color: #5c8727;
            <!-- Code added by Avinash for SSDR23-1597 END -->
            }

            .cover-bar {
                position: absolute;
                background: #fff;
                height: 100%;
                top: 0;
                right: 0;
                width: .4em;
                -webkit-transition: all .5s;
                opacity: 1;
            }

            .scroll-bar-wrap:hover .cover-bar {
                opacity: 0;
                -webkit-transition: all .5s;
            }

            /*Updated by KR 1207 - fix detail swapping*/
            @media only screen and (min-width: 1200px) and (max-width: 1400px) {
                #pricing .pricing_tab div div {
              /*Changed by Avinash Singh for SSDR23-1761 START*/
            /* margin-bottom: 10px; */
              /*Changed by Avinash Singh for SSDR23-1761 START*/
                }
            }
        </style>
    </body>
    <!--Body Ends -->

   
</apex:page>